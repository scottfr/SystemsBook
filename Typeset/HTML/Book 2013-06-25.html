<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Gene Bellinger" />
  <meta name="author" content="Scott Fortmann-Roe" />
  <meta name="date" content="2013-06-25" />
  <title>[DRAFT] Beyond Connecting the Dots: Mastering the Hidden Connections in Everything that Matters</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
</head>
<body>
<div id="header">
<h1 class="title">[DRAFT] Beyond Connecting the Dots: Mastering the Hidden Connections in Everything that Matters</h1>
<h2 class="author">Gene Bellinger</h2>
<h2 class="author">Scott Fortmann-Roe</h2>
<h3 class="date">2013-06-25</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#preface">Preface</a></li>
<li><a href="#preface-1">Preface</a></li>
<li><a href="#chapter-1---its-the-pattern-that-connects---v2-13.04.08">Chapter 1 - It’s The Pattern That Connects - v2 13.04.08</a><ul>
<li><a href="#models">Models</a></li>
<li><a href="#learning">Learning</a></li>
<li><a href="#a-basis-for-flawed-learning">A Basis for Flawed Learning</a></li>
<li><a href="#a-better-way">A Better Way</a></li>
<li><a href="#rabbit-population-growth">Rabbit Population Growth</a></li>
<li><a href="#filling-a-swimming-pool">Filling A Swimming Pool</a></li>
<li><a href="#similar-structures-different-behavior">Similar Structures / Different Behavior</a></li>
<li><a href="#summary">Summary</a></li>
</ul></li>
<li><a href="#chapter-2---dynamic-building-blocks-v2-13.05.31">Chapter 2 - Dynamic Building Blocks v2 13.05.31</a><ul>
<li><a href="#the-blank-canvas">The Blank Canvas</a></li>
<li><a href="#stocks-flows-variables-and-links">Stocks, Flows, Variables and Links</a></li>
<li><a href="#valid-primitive-connections">Valid Primitive Connections</a></li>
<li><a href="#configuration-panel">Configuration Panel</a></li>
<li><a href="#common-property-1">Common Property # 1</a></li>
<li><a href="#constructing-a-growth-structure">Constructing a Growth Structure</a></li>
<li><a href="#common-property-2">Common Property # 2</a></li>
<li><a href="#constructing-a-balancinggoal-seeking-structure">Constructing a Balancing/Goal Seeking Structure</a></li>
<li><a href="#summary-1">Summary</a></li>
</ul></li>
<li><a href="#chapter-3---a-model-is-a-model-is-a-model-v2-13.06.19">Chapter 3 - A Model Is A Model Is A Model v2 13.06.19</a><ul>
<li><a href="#rich-pictures">Rich Pictures</a></li>
<li><a href="#causal-loop-diagrams">Causal Loop Diagrams</a></li>
<li><a href="#storytelling">Storytelling</a></li>
<li><a href="#summary-2">Summary</a></li>
<li><a href="#references-1">References</a></li>
</ul></li>
<li><a href="#chapter-4-building-a-model-v3-13.06.21">Chapter 4 Building a Model v3 13.06.21</a><ul>
<li><a href="#model-construction-process">Model Construction Process</a></li>
<li><a href="#modeling-guidelines">Modeling Guidelines</a></li>
<li><a href="#can-red-get-to-grandmas-house">Can Red Get to Grandma’s House</a></li>
<li><a href="#why-arent-we-all-rich">Why Aren’t We All Rich</a></li>
<li><a href="#where-have-all-the-trees-gone">Where Have All The Trees Gone?</a></li>
<li><a href="#building-a-model-summary">Building a Model Summary</a></li>
<li><a href="#references-2">References</a></li>
</ul></li>
<li><a href="#chapter-5-implications-of-reality-v0.6-13.06.17">Chapter 5 Implications of Reality v0.6 13.06.17</a><ul>
<li><a href="#three-basic-structures">Three Basic Structures</a></li>
<li><a href="#typical-evolving-relationships">Typical Evolving Relationships</a></li>
<li><a href="#fix-a-problem">Fix a Problem</a></li>
<li><a href="#linear-progress-slows-over-time">Linear Progress Slows Over Time</a></li>
<li><a href="#the-fix-overshoots-the-goal">The Fix Overshoots the Goal</a></li>
<li><a href="#things-seem-to-oscillate-endlessly">Things Seem to Oscillate Endlessly</a></li>
<li><a href="#the-fix-creates-a-problem-elsewhere">The Fix Creates A Problem Elsewhere</a></li>
<li><a href="#over-time-there-is-a-tendency-to-settle-for-less">Over Time There Is A Tendency To Settle For Less</a></li>
<li><a href="#in-time-the-problem-returns">In Time The Problem Returns</a></li>
<li><a href="#the-underlying-cause-is-not-being-addressed">The Underlying Cause Is Not Being Addressed</a></li>
<li><a href="#dependence-on-the-fix-develops">Dependence on the Fix Develops</a></li>
<li><a href="#trying-to-promote-growth">Trying to Promote Growth</a></li>
<li><a href="#growth-leads-to-decline-elsewhere">Growth Leads to Decline Elsewhere</a></li>
<li><a href="#growth-slows-over-time">Growth Slows Over Time</a></li>
<li><a href="#limited-resources-are-shared-by-others">Limited Resources are Shared by Others</a></li>
<li><a href="#more-than-one-limit-to-be-addressed">More Than One Limit To Be Addressed</a></li>
<li><a href="#the-limit-is-insufficient-capacity">The Limit Is Insufficient Capacity</a></li>
<li><a href="#there-is-a-tendency-to-let-the-standard-slip">There Is A Tendency To Let The Standard Slip</a></li>
<li><a href="#summary-3">Summary</a></li>
<li><a href="#references-3">References</a></li>
</ul></li>
<li><a href="#models-and-truth">Models and Truth</a><ul>
<li><a href="#prediction-inference-and-narrative">Prediction, Inference and Narrative</a></li>
<li><a href="#the-strange-case-of-inference">The Strange Case of Inference</a></li>
<li><a href="#predictive-versus-narrative-modeling">Predictive versus Narrative Modeling</a></li>
<li><a href="#synthesis">Synthesis</a></li>
</ul></li>
<li><a href="#building-confidence-in-models">Building Confidence in Models</a><ul>
<li><a href="#model-design">Model Design</a></li>
<li><a href="#model-implementation">Model Implementation</a></li>
<li><a href="#model-results">Model Results</a></li>
<li><a href="#confidence-and-philosophy">Confidence and Philosophy</a></li>
</ul></li>
<li><a href="#the-process-of-modeling">The Process of Modeling</a><ul>
<li><a href="#pattern-oriented-event-oriented">Pattern Oriented / Event Oriented</a></li>
<li><a href="#from-models-to-insights">From models to insights</a></li>
<li><a href="#kidskiss">KIDS/KISS</a></li>
<li><a href="#sterman-9394-learning-in-a-complex-of-world">Sterman 93/94 “learning in a complex of world”</a></li>
<li><a href="#confirmation-bias-sterman-cant-trust-people-to-build-models">Confirmation bias sterman, can’t trust people to build models</a></li>
</ul></li>
<li><a href="#the-mathematics-of-modeling">The Mathematics of Modeling</a><ul>
<li><a href="#differential-equations-and-system-dynamics">Differential Equations and System Dynamics</a></li>
<li><a href="#solving-differential-equations">Solving Differential Equations</a></li>
<li><a href="#analytical-vs.numerical-analysis">Analytical vs. Numerical Analysis</a></li>
</ul></li>
<li><a href="#going-global">Going Global</a><ul>
<li><a href="#the-web-in-a-nutshell">The Web in a Nutshell</a></li>
<li><a href="#creating-an-webpage-for-engagement">Creating an Webpage for Engagement</a></li>
<li><a href="#flight-simulators-and-serious-games">Flight Simulators and Serious Games</a></li>
<li><a href="#additional-tips">Additional Tips</a></li>
</ul></li>
<li><a href="#modeling-with-agents">Modeling with Agents</a><ul>
<li><a href="#the-state-transition-diagram">The State Transition Diagram</a></li>
<li><a href="#creating-agents">Creating Agents</a></li>
<li><a href="#working-with-agents">Working with Agents</a></li>
<li><a href="#agent-geography">Agent Geography</a></li>
<li><a href="#multiline-equations">Multiline Equations</a></li>
<li><a href="#integrating-sd-and-abm">Integrating SD and ABM</a></li>
</ul></li>
<li><a href="#references-4">References</a></li>
</ul>
</div>
<h1 id="preface"><a href="#preface">Preface</a></h1>
<p>Ludwig von Bertalanffy(1) first proposed, in 1937, that the same basic structures operated across all disciplines, and if one learned how these structures operated one could transfer much of their learning from one discipline to another. When moving from one discipline to another, one would simply have to learn the structures that were operating, and the labels on the elements of the structures. On first reading this may seem most profound, or maybe even preposterous.</p>
<p>However, if you think about it, maybe there is some truth to it after all. What follows is the introduction to a live Systems Thinking book presented from a cross discipline models perspective. Live in the sense that the models are presented in a form that allows you to actually interact with them.</p>
<p>von Bertalanffy wrote “Allegemein Systemlehre” which was translated into English as “General Systems Theory”(2) and I expect we’ve still not recovered from the translation error. What he intended was a “General Theory of Systems” or “General Systems Teaching,” a way to support learning about the structures which operated across all disciplines. Today there are a set of structures referred to as Systems Archetypes which I believe are just what Bertalanffy had in mind.</p>
<p>In the words of von Bertalanffy, “The student in ‘system science’ receives a technical training which makes systems theory – originally intended to overcome current overspecialization – into another of the hundreds of academic specialties”(1)</p>
<p>Systems Thinking is not a method though more of a way of looking at the world around us and understanding based not from understanding things though more from understanding relations and interactions between things. And while there are many who believe that Systems Thinking or a Systems Perspective provides the best foundation for creating effective approaches of dealing with challenges and shaping a better tomorrow. Yet even with that view, over the past 75 years it has not become widely adopted, even though during that period dozens of approaches have been developed with claim to embrace the Systems Thinking world view. I believe Pogo had it right when he said, “We have met the enemy and he is us.” I have repeatedly commented to people that the greatest impediment to the adoption of Systems Thinking is Systems Thinkers.</p>
<p>This should provide you with a sense of why this book has to be different. Now let me offer you a view of how it will be different.</p>
<p>It is our intent to provide a basis for recovering from this overspecialization by offering an extensive series of models from everyday life that will show the value of looking at things though a different lense. We will then build on this to develop an understanding without all the terminology and complexity that typically drives people away from Systems Thinking.</p>
<p><strong>References</strong></p>
<ul>
<li>Davidson, Mark. 1983. Uncommon Sense: The Life and Thought of Ludwig von Bertalanffy http://www.amazon.com/Uncommon-Sense-Thought-Bertalanffy-1901-1972/dp/087477165X/</li>
</ul>
<h1 id="preface-1"><a href="#preface-1">Preface</a></h1>
<p>Ludwig von Bertalanffy(1) first proposed, in 1937, that the same basic structures operated across all disciplines, and if one learned how these structures operated one could transfer much of their learning from one discipline to another. When moving from one discipline to another, one would simply have to learn the structures that were operating, and the labels on the elements of the structures. On first reading this may seem most profound, or maybe even preposterous.</p>
<p>However, if you think about it, maybe there is some truth to it after all. What follows is the introduction to a live Systems Thinking book presented from a cross discipline models perspective. Live in the sense that the models are presented in a form that allows you to actually interact with them.</p>
<p>von Bertalanffy wrote “Allegemein Systemlehre” which was translated into English as “General Systems Theory”(2) and I expect we’ve still not recovered from the translation error. What he intended was a “General Theory of Systems” or “General Systems Teaching,” a way to support learning about the structures which operated across all disciplines. Today there are a set of structures referred to as Systems Archetypes which I believe are just what Bertalanffy had in mind.</p>
<p>In the words of von Bertalanffy, “The student in ‘system science’ receives a technical training which makes systems theory – originally intended to overcome current overspecialization – into another of the hundreds of academic specialties”(1)</p>
<p>Systems Thinking is not a method though more of a way of looking at the world around us and understanding based not from understanding things though more from understanding relations and interactions between things. And while there are many who believe that Systems Thinking or a Systems Perspective provides the best foundation for creating effective approaches of dealing with challenges and shaping a better tomorrow. Yet even with that view, over the past 75 years it has not become widely adopted, even though during that period dozens of approaches have been developed with claim to embrace the Systems Thinking world view. I believe Pogo had it right when he said, “We have met the enemy and he is us.” I have repeatedly commented to people that the greatest impediment to the adoption of Systems Thinking is Systems Thinkers.</p>
<p>This should provide you with a sense of why this book has to be different. Now let me offer you a view of how it will be different.</p>
<p>It is our intent to provide a basis for recovering from this overspecialization by offering an extensive series of models from everyday life that will show the value of looking at things though a different lense. We will then build on this to develop an understanding without all the terminology and complexity that typically drives people away from Systems Thinking.</p>
<p><strong>References</strong></p>
<ul>
<li>Davidson, Mark. 1983. Uncommon Sense: The Life and Thought of Ludwig von Bertalanffy http://www.amazon.com/Uncommon-Sense-Thought-Bertalanffy-1901-1972/dp/087477165X/</li>
</ul>
<h1 id="chapter-1---its-the-pattern-that-connects---v2-13.04.08"><a href="#chapter-1---its-the-pattern-that-connects---v2-13.04.08">Chapter 1 - It’s The Pattern That Connects - v2 13.04.08</a></h1>
<hr />
<h3 id="notes-to-self"><a href="#notes-to-self">Notes to Self!</a></h3>
<blockquote>
<p>remove it and it’s and I most everywhere.</p>
</blockquote>
<blockquote>
<p>If you give people the answers there is no need for them to practice insight and the purpose of BCTD is to encourage the practice of gaining insight into why systems behave the why they do.</p>
</blockquote>
<hr />
<h3 id="notes-to-reviewers"><a href="#notes-to-reviewers">Notes to Reviewers</a></h3>
<h4 id="v2-modifications"><a href="#v2-modifications">v2 Modifications</a></h4>
<ul>
<li>Ladder of Inference section removed so there is no Figure 4 at the moment.</li>
<li>The embedded Insight Maker are more interactive because of an enhancement Scott has made to Insight Maker. Please run the models in the web page.</li>
<li>The comparison structures model of Figure 23 has been completely overhauled.</li>
</ul>
<h4 id="chapter-intent"><a href="#chapter-intent">Chapter Intent</a></h4>
<p>Develop an awareness that the diverse world around us has a commonality that can be meaningfully represented by just a few interacting elements with rather simple attributes. The basic operation and interaction with embedded models must also be experienced and supporting aspects of Insight Maker explained.</p>
<h4 id="figure-captions"><a href="#figure-captions">Figure Captions</a></h4>
<p>Each figure is followed by a sequenced figure caption line that starts with ** and these lines are also an internet link. These lines are inserted so I can easily get back to wherever that graphic originated should I need to create a revised version of it. These statements will be deleted by the post processor and replaced with figure captions which are embedded in the Markdown formatting.</p>
<h4 id="insight-maker-references"><a href="#insight-maker-references">Insight Maker References</a></h4>
<p>I’m doing the best I can representing the version of Insight Maker I won’t be able to see for a couple of months. The interactive Insight Maker models are embedded from Insight Maker and the model is owned my me. This means that when one looks at it in this chapter it doesn’t look like it will look in the final book. Scott is creating a version of Insight Maker that will operate in a touch tablet environment. That version of Insight Maker will be embedded in the book and each book owner will own the models in the book. That means they will look different. As such I have to code something so I’ll know what to include later and reviewers can look at and connect with the written words associated with it. Getting through this seems to be a tall order.</p>
<h4 id="macros"><a href="#macros">Macros</a></h4>
<p>There are certain aspects of the text formatting we don’t have figured out and have resigned ourselves to the fact that we won’t have this figured out for some time. As such macros are being coded to be replaced in the content post processing phase. I sorry that it’s likely to make the text a bit more difficult to read.</p>
<ul>
<li><span class='attribute'>model attribute</span></li>
<li></li>
<li><span class='equation'>equation</span></li>
<li><span class='primitive'>model primitive</span></li>
<li></li>
</ul>
<h4 id="relation-to-table-of-contents"><a href="#relation-to-table-of-contents">Relation to Table of Contents</a></h4>
<p>What follows was presented in the Table of Contents as three separate chapters though the writing seemed to get away from me. The may be split into several chapters or the table of contents may be corrected. Presently it’s a bit difficult to tell.</p>
<hr />
<p>What you learn, and your capacity to learn, serves as the basis for everything you do in your life. Yet, have you ever thought about how you really learn about the world around you? Yes, there are some things you memorize early in life, like the times tables, and you learn to remember these, though is that really learning? Do you remember that if you put your hand on something very hot it will burn you, or is that something you learned? And if you learned that, how was it that that learning happened?</p>
<h3 id="consider-the-following"><a href="#consider-the-following">Consider the following</a></h3>
<ul>
<li>I have a box that’s about 3’ wide, 3’ deep and 6’ high</li>
<li>It’s a rather heavy box</li>
<li>The has a couple of doors on it</li>
<li>When you open the doors it’s cooler inside the box than outside</li>
<li>One compartment is much colder than the other</li>
<li>When you open the door a light comes on</li>
<li>There’s food inside the box</li>
<li>The box is in the kitchen</li>
<li>There are sticky notes all over the front of the box</li>
<li>There’s a collection of papers and stuff on top of the box</li>
<li>If you move the box you’ll probably find a lot of dust under it</li>
<li>The box is plugged into an electrical outlet</li>
<li>From time to time you can hear the box running</li>
</ul>
<p>At some point in this sequence you probably became convinced that what was being described was a refrigerator. Now stop for a moment and ask yourself just how was it that you realized what was being described was a refrigerator? Yes it would have been easier if I had just shown you a picture of a refrigerator, though that would have spoiled it, wouldn’t it.</p>
<div class="figure">
<img src="00-frig.png" alt="Figure 1. From the description you knew it was a refrigerator - but how?" /><p class="caption">Figure 1. From the description you knew it was a refrigerator - but how?</p>
</div>
<p>As long as you knew beforehand what a refrigerator was, the statements could have been given to you in any order, and still at some point you would have finally realized what was being described. If you had never seen, nor heard about, a refrigerator before you would still be wondering what was being described and what to call it.</p>
<p>You have also most likely come to understand that all refrigerators are not identical. Some have one door with a separate compartment inside. Some have two doors and a drawer. Some are much smaller than others. Some can fit under a counter and some even fit on top of a counter. Some can be so large you can walk into them.</p>
<div class="figure">
<img src="00-frigs.png" alt="Figure 2. Many kinds of refrigerators, or freezers - But how do you know?" /><p class="caption">Figure 2. Many kinds of refrigerators, or freezers - But how do you know?</p>
</div>
<p>If you see any of these you quickly decide it’s a refrigerator. How does that happen? Gregory Bateson, one of the great thinkers of our time, said, “It’s the pattern that connects.” If you reflect on this statement you should come to realize there are actually different ways to interpret what it means. In this particular case the pattern connects you to the following purpose</p>
<ul>
<li>The box keeps food from readily spoiling by keeping it cold</li>
<li>Part of the box is a freezer which keeps food from spoiling for even longer</li>
</ul>
<p>and you understand it to be a refrigerator. Though now that we’ve arrived at this point we still haven’t addressed the question of how you know. You probably were not actually taught that it’s the above purpose that defines the essence of a refrigerator. Most people were not, though they have essentially learned it over time.</p>
<h2 id="models"><a href="#models">Models</a></h2>
<p>Models are the way we look at, and understand the world around us. All we have are our models. They are the way we understand everything. This is so because we build our understanding based on what we already understand. The world around us simply has too much detail for us to pay attention to everything. A refrigerator has many pieces though how many do you really pay attention to? Probably not many unless you build or repair refrigerators. We filter out much of the detail around us so we don’t become overloaded and we choose what to pay attention to. Sometimes we do this consciously and sometimes subconsciously. In the midst of what we choose to pay attention to there are patterns. Whether we realize it or not it is these patterns that we pay attention to and attempt to make sense of. We understand these patterns by linking them to extend patterns we already understand. And much of the world around us we simply ignore for if we didn’t we would just become overwhelmed.</p>
<hr />
<h4 id="remember"><a href="#remember">Remember</a></h4>
<p>A model is a simplified version of some aspect of the world around us to help us understand something.</p>
<hr />
<h2 id="learning"><a href="#learning">Learning</a></h2>
<p>When we experience something that experience falls somewhere between complete novelty, meaning that we can’t connect it with anything in our past experience, and complete confirmation, meaning that it represents something we perceive as already completely understood. The things we experience which lie somewhere between complete novelty and complete confirmation provide a basis for learning. They represent a basis for connecting to understood patterns, extending our understanding, and what results is learning. {Cite: Jantach, Eric. 1980. The Self-Organizing Universe: Scientific and Human Implications. Pergamon Press. http://www.amazon.com/The-Self-Organizing-Universe-Implications-Innovations/dp/0080243118/}</p>
<div class="figure">
<img src="00-nov-conf.png" alt="Figure 3. Experience between novelty and confirmation as a basis for learning" /><p class="caption">Figure 3. Experience between novelty and confirmation as a basis for learning</p>
</div>
<p>Consider running into a refrigerator that looks like no refrigerator you’ve never seen before. From an initial view you are likely not to perceive it as a refrigerator. As you inspect it to find it serves the purpose you’ve come to understand for refrigerators or if someone tells you it’s a refrigerator you then expand or extend your awareness of the range of patterns that constitute a refrigerator.</p>
<h2 id="a-basis-for-flawed-learning"><a href="#a-basis-for-flawed-learning">A Basis for Flawed Learning</a></h2>
<p>While reading the previous paragraphs did it dawn on you that much of this pattern recognition/connection/extension learning doesn’t happen consciously? We connect with patterns and extend our knowledge at times without even being consciously aware that it is happening. And when it happens in an subconscious manner there isn’t really any critical validation that happens along with the learning. Because this ongoing learning happens without critical validation there are things we learn and come to believe which are actually incorrect. We have perceived patterns and extended our learning in a flawed manner. The really annoying thing is that we then act on these beliefs, and when we produce results that don’t go the way we planned we wonder why. Or even worse, we don’t actually learn from the results and correct our flawed models.</p>
<p>When we act on flawed beliefs when attempting to solve problems we typically create more problems than we fix. It has been said repeatedly that the majority of today’s problems are the direct result of yesterday’s solutions. Wouldn’t this provide a sense that we might really benefit from a better way to think about the world around us, develop better understanding, and develop solutions that don’t come back to haunt us in the future?</p>
<h2 id="a-better-way"><a href="#a-better-way">A Better Way</a></h2>
<p>Based on the understanding I hope you’ve developed to this point it should be obvious that we could benefit from a better way to develop models of what we believe that are more likely to be correct as well as surface flaws in many of our current beliefs.</p>
<p>Ludwig von Bertalanffy first proposed, in 1937, that the same basic structures operated across all disciplines, and if one learned how these structures operated one could transfer much of their learning from one discipline to another.{Davidson, Mark. 1983. Uncommon Sense: The Life and Thought of Ludwig von Bertalanffy. J.P. Tarcher, Inc. http://www.amazon.com/Uncommon-Sense-Thought-Bertalanffy-1901-1972/dp/087477165X/} When moving from one discipline to another, one would simply have to learn the structures that were operating, and the labels on the elements of the structures. On first reading this may seem most profound, or maybe even preposterous. However, if you think about it, maybe there is some truth to it after all.</p>
<p>I’m not asking you to believe the previous statement just because it was provided here. Though if you give me a few minutes the experience that follows may allow you to arrive at a sensibility of the statement from your own perspective.</p>
<p>Consider the images in Figure 5 and ask yourself what it is that all these different items actually have in common.</p>
<div class="figure">
<img src="00-im-4957.png" alt="Figure 5. What do these items have in common?" /><p class="caption">Figure 5. What do these items have in common?</p>
</div>
<p>Each of these items represents a collection of stuff. Admittedly each image represents different stuff though stuff just the same. Because in each case this stuff collected over time it’s really more appropriate to refer to the the collections as accumulations. And as you will come to realize it is extremely important to remember that accumulations take time to accumulate, and often even longer to get rid of when you find out you don’t want them.</p>
<p>The shorter term often used to refer to an accumulation is “stock.” Just where this term originate I’m unsure and what you call an accumulation of stuff isn’t nearly as important as remembering it’s a bunch of stuff that collected over time. How much time is different for each one of the accumulations and now it’s probably time to talk about how accumulations happen over time.</p>
<p>For each of the accumulations in Figure 5, how they change is a bit different, as are the time frames concerned. Time frame being the time it takes for some real noticeable change in the accumulation. Let me describe each in some detail.</p>
<h4 id="coffee-cup"><a href="#coffee-cup">Coffee Cup</a></h4>
<p>You usually fill a coffee cup from a coffee pot and it takes a few seconds. Then you take a few minutes to drink the coffee as it’s usually too hot to drink when you initially get it.</p>
<h4 id="dump"><a href="#dump">Dump</a></h4>
<p>Generally a dump accumulates by the truckload after the garbage is picked up at houses or businesses in your community. If the dump were just getting started you’d probably notice it grow with each additional truck load. As it gets bigger and bigger it’s gets more difficult to notice that it’s growing, even though it is. While the dump is likely to grow almost every day we are probably more likely to think about the growth of the dump in months and years. And does it ever really go away? Usually when it gets to be too much a new dump is started somewhere else and the current dump is buried. Though when it’s buried it doesn’t really go away. It’s still there and we’ll probably talk more about dumps later on.</p>
<h4 id="glacier"><a href="#glacier">Glacier</a></h4>
<p>A glacier is a long term accumulation of snow which packs down and turns to ice. Glaciers get bigger in the winter when snow falls and they get smaller in summer when some portion of the glacier melts. The time frame one usually uses to think about glaciers is years or even decades.</p>
<h4 id="lake"><a href="#lake">Lake</a></h4>
<p>Lakes are bigger than a pond and smaller than an ocean and usually filled with fresh water, not salty that is. The lake is filled by rivers and streams that flow into it as well as rain water. One might think of this in terms of gallons per hour or gallons per minute in the case of a large inflow such as at Niagara Falls where the water flows into Lake Ontario in the USA. Water leaves the lake through rivers and streams as well as evaporation into the air. For a lake one might think about the water flowing into our out of the lake in hours though when considering the level of the lake itself the change might be considered over days or weeks. It sort of depends on what you’re interested in.</p>
<h4 id="pile-of-sand"><a href="#pile-of-sand">Pile of Sand</a></h4>
<p>The pile of sand probably showed up in a truck that dumped it right where it is. While it may have taken the truck a while to drive from the wherever it started it probably only took a couple of minutes to dump the truck once it arrived. And the sand is probably referred to in cubic yards, which is how much sand it takes to fill a box that’s 1 yard wide, 1 yard deep, and 1 yard high. How long it takes for the sand to go away depends on how it’s taken away. If you use a wheel barrow then you have to shovel the sand into the wheel barrow and take it to wherever you’re going to use it. At this rate it may take days to move it. If you move it with a small piece of machinery, a Bobcat or a Backhoe, then will will probably only take a few minutes to an hour to get it moved.</p>
<h4 id="rabbits"><a href="#rabbits">Rabbits</a></h4>
<p>A population of rabbits gets larger with new rabbit births and gets smaller with rabbit deaths. Have you ever heard the phrase “multiply like rabbits?” What it means is that it doesn’t take very long for a few rabbits to become many rabbits, as long as there is a good food supply and not to many predators like wolves and coyotes. The time frame for considering a rabbit population is probably months to years.</p>
<h4 id="savings-account"><a href="#savings-account">Savings Account</a></h4>
<p>A savings account is a bank account where if you put money and if you keep it there the bank will periodically give you money just for keeping it there. They won’t give you very much, though some. If you keep putting money in your savings account every so often and never take it out one day you’ll be rich. Yet, for some reason that doesn’t happen to too many people. We’ll have to talk about that sometime later in the book. One generally thinks about the money associated with a savings account in dollars, the interest rate as a percentage, and the time frame in months and years.</p>
<h4 id="swimming-pool"><a href="#swimming-pool">Swimming Pool</a></h4>
<p>Swimming pools usually hold thousands of gallons of water and you usually have a couple of options to fill one. You might use a garden hose, which will take days, or a hose from a fire hydrant, which will take a few hours, or from a tanker truck, which probably takes a few loads. In each case the water filling the pool is probably measured in gallons per hour. Once you fill the pool you loose a little water when people get in and out of the pool, thought not too much. Most of the water loss from a pool is though evaporation due to the sun and when you backwash the filter used to keep the pool clean. The change in amount of water is usually measured in gallons per hour.</p>
<hr />
<h4 id="exercise"><a href="#exercise">Exercise</a></h4>
<p>Take a few minutes and identify half a dozen situations you’re familiar with where there are stocks that accumulate over time. What are the quantities for those stocks, e.g., gallons, pounds, kilograms, etc.. What are the flows that increase and decrease them and what are the time frames over which you think about the accumulation of that stock?</p>
<hr />
<p>At this point you may be wondering why so much time was spent making you walk though all these examples for the accumulation of stuff. Since we said this was an interactive book you’re probably wondering where the interaction is.</p>
<div class="figure">
<img src="00-im-4990.png" alt="Figure 6. The Accumulation of Stuff" /><p class="caption">Figure 6. The Accumulation of Stuff</p>
</div>
<p>All the accumulations depicted in Figure 5 can be represented in a general form by the model in Figure 6. Remember we defined a model as a simplified version of some aspect of the world around us to help us understand something. It doesn’t get much simpler than this does it?</p>
<p>Some amount of stuff flowing in causes stuff to increase over time and stuff flowing out causes stuff to decrease over time. With both of these happening at the same time stuff increases if stuff in is larger than stuff out. And if stuff out is greater than stuff in then the accumulation of stuff gets smaller. The most critical aspect of this to remember is that it takes time for stuff to increase or decrease. How fast the change happens depends on the amount of stuff in the flows.</p>
<IFRAME SRC="http://InsightMaker.com/insight/4990?embed=0&editor=1&topBar=0&sideBar=1&zoom=0" TITLE="Figure 7. Swimming Pool" width=950 height=600></IFRAME>


<p>Lets take a specific instance. Figure 7 represents Figure 6 in Insight Maker, an interactive modeling environment. We’ll talk about how this was done shortly. Now suppose we have a swimming pool and we start filling it with a hose that fills at 50 gallons an hour. If we let the hose run for 24 hours how much water will be in the pool? Admittedly the math is pretty straight forward though the idea here is to show how you can use a model to show changes over time.</p>
<p>If I set up the model in Figure 7 with stuff = 0, stuff in = 50 and stuff out = 0, set the Time Settings for 24 hours, and then click the Run button, the model produces the graph in Figure 8.</p>
<div class="figure">
<img src="00-im-4990b.png" alt="Figure 8. Adding water to the swimming pool" /><p class="caption">Figure 8. Adding water to the swimming pool</p>
</div>
<p>This graph indicates that the after 24 hours the swimming pool with have 1,200 gallons of water in it. I know, it’s about as interesting as watching paint dry. Actually, as you will come to find out, that’s a good thing because this is really easy. A more interesting question might be, if the swimming pool holds 20,000 gallons of water how long with it take to fill with water at 50 gallons per hour? We’ll get to this shortly.</p>
<hr />
<h4 id="modeling-notes"><a href="#modeling-notes">Modeling Notes</a></h4>
<p>As various models are developed and used I’ll present aspects of the modeling environment that you’ll need to do the exercises. I won’t spend a lot of time on pieces you’re not going to use immediately so please don’t let any of the displays overwhelm you. I think it’s far easier to remember things when you actually use them.</p>
<h4 id="canvas"><a href="#canvas">Canvas</a></h4>
<p>The center area is the work area where you create models. This area may be scrolled if necessary. I’ll talk about how to actually create models in the next chapter.</p>
<h4 id="stock"><a href="#stock">Stock</a></h4>
<p>A rectangle indicates a quantity of something that accumulates, and accumulation takes time. Stocks don’t change in the blink of an eye, well unless you blink for a long time.</p>
<h4 id="flow"><a href="#flow">Flow</a></h4>
<p>A directed arrow representing the flow of something into or out of a stock. Remember that a stock can only be changed by a flow. Hand waving and magic don’t work. The flow has to be explicit to cause a stock to change, and it takes time.</p>
<h4 id="toolbar"><a href="#toolbar">Toolbar</a></h4>
<blockquote>
<p>include another graphic to make the upper right arrow clear</p>
</blockquote>
<p>Notice in the upper right corner there is a small down arrow. If you click on this arrow it will open the toolbar displayed in Figure 9. The toolbar contains all the tools you will use to build and modify models. Yes, you get to do everything on a single screen, with a few pop up windows of course.</p>
<div class="figure">
<img src="00-im-4990c.png" alt="Figure 9. Toolbar" /><p class="caption">Figure 9. Toolbar</p>
</div>
<h4 id="parameter-tab"><a href="#parameter-tab">Parameter Tab</a></h4>
<p>Just below the arrow you clicked to open the top toolbar is a right pointing double caret. If you click this the parameter tab will close and the right pointing double caret will now point left and can be used to open the parameter tab. This tab serves two different purposes.</p>
<p>If there are no elements of the model selected on the canvas the parameter tab will be similar to Figure 10 and contain the model description, tags, and parameter sliders used to set parameter values just before running the model.</p>
<div class="figure">
<img src="00-im-4990d.png" alt="Figure 10. Configuration Panel" /><p class="caption">Figure 10. Configuration Panel</p>
</div>
<p>If there is a single element selected on the canvas then the parameter tab will present the list of parameters that can be set for that element. Figure 11 shows the parameters for the stuff element of the model. This is where I set the stuff in to 50 before running the model. Please don’t be overwhelmed by this long list of parameters. We’ll cover them one at a time as they are actually used in a model.</p>
<div class="figure">
<img src="00-im-4990e.png" alt="Figure 11. Element Parameters" /><p class="caption">Figure 11. Element Parameters</p>
</div>
<p>You should note in Figure 11 under the User Interface section it indicates that there should be a slider for stuff and it can be set for values from 0 to 100. Each element has some of the same parameters and some unique to it. Click one of the flows and see what its parameters are.</p>
<p>Just a couple more pieces and you can go interact with the model some more and get away from this boring description.</p>
<h4 id="time-settings"><a href="#time-settings">Time Settings</a></h4>
<p>In Figure 8 I talked about the swimming pool filling for 24 hours. It’s the Time Settings tool that allows you to define this for the model. Figure 12 shows the elements you can set before running a model.</p>
<div class="figure">
<img src="00-im-4990f.png" alt="Figure 12. Time Settings" /><p class="caption">Figure 12. Time Settings</p>
</div>
<p>This is where I told the model to start at Time = 0 and runs for 24 time units. It steps one unit at a time and the unit is in Hours. Don’t worry about Time Step for now. We’ll get into that later.</p>
<h4 id="simulation-results"><a href="#simulation-results">Simulation Results</a></h4>
<p>When you click the Run button the model is stepped through the defined time period and produces a display of the results. There are various options for the type of display and which elements are displayed as in Figure 13.</p>
<div class="figure">
<img src="00-im-4990g.png" alt="Figure 13. Simulation Results" /><p class="caption">Figure 13. Simulation Results</p>
</div>
<h4 id="configure-simulation-results"><a href="#configure-simulation-results">Configure Simulation Results</a></h4>
<p>A default configuration is put together when the model is constructed on the canvas. If you click the Configure button in the upper right corner of the Simulation Results window the Chart/Table Configuration window will open. It is in this window you indicate what type of display you want and which items of the model are to be displayed. The only part you need to be concerned about at the moment is the Y-Axis Label field. That’s where I indicated that the items displayed were in Gallons. You will need to change this shortly in the next exercise.</p>
<p>Note that if you change items in the configuration they will be immediately reflected in the Simulation Results window when you click Apply. You don’t need to run the model over again to see a different configuration of the data. This makes it very convenient when when you decide you need another display for one or two of the items.</p>
<div class="figure">
<img src="00-im-4990h.png" alt="Figure 13. Chart/Table Configuration" /><p class="caption">Figure 13. Chart/Table Configuration</p>
</div>
<p>I hope you haven’t found this short introduction to the modeling environment too overwhelming. As I said I will try to introduce different parts of the environment just as you need them to interact with the models presented.</p>
<hr />
<p>Too much explaining and not enough hands on interaction gets to be real boring in a hurry. I encourage you to actually do the exercises presented. By interacting with the various aspects of the modeling environment you will develop a level of comfort and expertise which will serve you well throughout the rest of the book.</p>
<hr />
<h4 id="exercise-1"><a href="#exercise-1">Exercise</a></h4>
<p>Go back and consider the various pictures in Figure 5. Pick a couple of them to model. The only parts you need to set up are the Time Settings, how long will it run and the Time Units. You can also set the values for stuff, stuff in and stuff out on the Configuration Panel. After you run the model open the Chart/Table configuration window and set the Y-Axis Label appropriate for what you’re modeling. I encourage you to be adventurous. Make new Displays, Table Displays, etc. You can’t break anything, it’s just an opportunity to become comfortable with the environment and learn.</p>
<hr />
<p>Now that you’ve become intimately familiar with almost the simplest model possible lets go back and look at a couple of the pictures in Figure 5 and think about how the accumulations change in a bit more detail.</p>
<h2 id="rabbit-population-growth"><a href="#rabbit-population-growth">Rabbit Population Growth</a></h2>
<p>If you modeled the accumulation of rabbits you may have already realized that the model of Figure 7 is missing something. Yes, if you add rabbits to rabbits you get even more rabbits. Though if you have more rabbits don’t they create even more rabbits? Figure 14 is a model that reflects the the notion that rabbits create more rabbits.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5123?embed=0&edit=1&topBar=0&sideBar=1&zoom=1" TITLE="Figure 14. Rabbit Population Growth" width=950 height=600></IFRAME>


<hr />
<h4 id="modeling-notes-1"><a href="#modeling-notes-1">Modeling Notes</a></h4>
<p>There are a couple new pieces added into the model here and it’s probably a good idea to explain the pieces before talking about how it works. The previous model had a stock, something that accumulates, and flows, the movement of stuff into or out of a stock. And the real important thing to remember is that accumulations take time to change. Stocks only change in the blink of an eye if you blink for a very long time.</p>
<h4 id="variable"><a href="#variable">Variable</a></h4>
<p>A constant or equation used to influence some part of the model. Remember that a variable and a stock are different. A stock is an accumulation that changes over time as a result of one or more flows. A variable may change though it doesn’t represent an accumulation. Rabbit Birth Rate is a variable, and in this model a constant value.</p>
<h4 id="link"><a href="#link">Link</a></h4>
<p>A link is used to communicate a value of one element to another. The link doesn’t actually represent something moving like a flow does.</p>
<h4 id="section"><a href="#section"> &amp; </a></h4>
<p>If you mouse over the elements of the model you’ll notice an = and an i appear. The i indicates there is additional info available. If you click the i a note window will open with a description of the element. This info was entered when the model was created. The = indicates there is a value or equation associated with the element. If you click the = it will open the  window. We’ll talk more about this when you start building a model.</p>
<hr />
<p>Based on the previous modeling notes the model depicted in Figure 14 indicates that if you start with some population of Rabbits and each time period the current number of Rabbits times the Rabbit Birth Rate will result in a number of Births. This number of Births will then be added to the accumulation of Rabbis and figure into the calculation for the next period. If you mouse over the elements of the model and click on the = sign you can look at the definitions for the elements.</p>
<p>The Time Settings for the model were set up to run from 0 to 12 months. If you click the Run button you you might be surprised when the model produces the graph in image in Figure 15.</p>
<blockquote>
<p>The values in figure 14 are supposed to be 0 unless someone changed them.</p>
</blockquote>
<div class="figure">
<img src="00-im-5123.png" alt="Figure 15. Rabbit Population Growth with No Rabbits" /><p class="caption">Figure 15. Rabbit Population Growth with No Rabbits</p>
</div>
<p>Figure 15 really shouldn’t be a surprise. If you look at the Configuration Panel you’ll see that it indicates 0 Rabbits and 0 Rabbit Birth Rate. If there are no Rabbits how could anything happen? And if we had some Rabbits with the Rabbit Birth Rate was 0 what would you expect the result to be?</p>
<p>Suppose we start with 10 Rabbits, half of which are male and half of which are female. My research indicates that a female rabbit can give birth to between 18 and 26 Rabbits a year. I’ll average this out (18 + 24) / 2 = 22 and then I’ll round this up to 24 just because it will make the math easier. If a female Rabbit can produce 24 Rabbits in a year, that’s 2 per months, though it actually takes two Rabbits. With all these assumptions we get about 1 new Rabbit per month for each Rabbit. If you plug Rabbits = 10 and Rabbit Birth Rate = 1 into the model and run it you should get Figure 16.</p>
<div class="figure">
<img src="00-im-5123a.png" alt="Figure 16. Rabbit Population Growth with 10 Rabbits" /><p class="caption">Figure 16. Rabbit Population Growth with 10 Rabbits</p>
</div>
<p>Forty thousand Rabbits in a year? That seems a bit bizarre doesn’t it? This result actually points out the real value of modeling, which is learning. You build a model based on what you think you understand. You then populate it with assumptions about the values and you run it. The result then either seems to make sense or seems really bizarre. In that case what the model is telling you is that either the structure is wrong, the assumptions are wrong, or both, because the world can’t possibly be this bizarre. As a result you investigate the model and your assumptions and as you understand better the model gets better. At some point the model finally serves its purpose, to be a simplification of some aspect of the world which leads to a better understanding. I hope you come to find, as I have, that going round and round with a model can be a delightful learning process.</p>
<blockquote>
<p>note the choppy nature of the graph. talk about why this is the result of the step size and we’ll address this in chapter 2</p>
</blockquote>
<p>After that sidetrack lets get back to our 40,000 Rabbits that can’t possibly exist after a year. I’m pretty sure I can be certain how many Rabbits I started with at the beginning. And when I check my formula for Births = Rabbits * Rabbit Birth Rate it seems to be in order. This sort of means my assumption for Rabbit Birth Rate must be too big. And if you think about what the model is doing it’s probably not too difficult to figure out that the model assumes that a Rabbit can be born this month and then give birth to another Rabbit next month. If a Rabbit has to mature for six months before it gives birth to Rabbits then the Rabbit Birth Rate might be something more like 20%. Using this estimate for Rabbit Birth Rate the model produces Figure 17.</p>
<div class="figure">
<img src="00-im-5123b.png" alt="Figure 17. Rabbit Population Growth with 10 Rabbits and 20% Birth Rate" /><p class="caption">Figure 17. Rabbit Population Growth with 10 Rabbits and 20% Birth Rate</p>
</div>
<p>Is this right? A good thing to remember at this point is that’s actually the wrong question. A better question might be, “What have I learned, and is there more I can learn?” The graph in Figure 17 sure seems more reasonable than what the model presented in Figure 16 though I don’t think we have a high degree of confidence in the current Rabbit Birth Rate. And there are a number of other questions we could ask about our Rabbits. What is the Rabbit Death Rate? Do they have enough food to eat? Are they living out in the open where Coyotes and Foxes can get at them? Does their owner have a passion for Rabbit Stew? These might each be a basis for building a better model, though at this point we’re going to leave the Rabbits alone and move on to something else.</p>
<p>The most important learning I hope you take away from this model is that when what flows into the accumulation increases as the accumulation increases the accumulation can get real big in a hurry. This is actually called exponential grown and we’ll talk in more detail about this in due quite soon.</p>
<h2 id="filling-a-swimming-pool"><a href="#filling-a-swimming-pool">Filling A Swimming Pool</a></h2>
<p>Long long ago, meaning back in Figure 7 and Figure 8 I was talking about filling a swimming pool with a hose and how much water was in the pool after a period of time. A more useful question might be, If the pool holds 20,000 gallons of water and the hose fills the pool at 50 gallons per hour, how long will it take to fill the pool. I know, you can do the math faster than it will take to build the model. Please bear with me a bit as there’s another aspect of models right around the corner you will find very useful on an ongoing basis.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5128?embed=0&eidt=1&topBar=0&sideBar=1&zoom=0" TITLE="Figure 18. Filling a Swimming Pool v1.0" width=950 height=600></IFRAME>


<p>I begin with a Swimming Pool that needs to be filled with a hose. I know how many gallows of water it takes to fill the pool and I don’t want to put too much water in the pool. I create a model where I compare the amount of the water in the Swimming Pool with the the Full Level and use that to decide whether water is flowing in the hose or not. If you mouse over Hose and click the = sign you’ll see the following equation.</p>
<blockquote>
<p>IfThenElse([Swimmng Pool] &lt; [Full Level], [Full Level]-[Swimmng Pool]), 0)</p>
</blockquote>
<p>This says that if the Swimming Pool isn’t full then I need to add enough water to fill the pool. And if the Swimming Pool is full then I add 0.</p>
<hr />
<h4 id="modeling-note"><a href="#modeling-note">Modeling Note</a></h4>
<p>Isn’t it curious that the structure of this model looks just like the one for the Rabbit Population growth in Figure 14. We’ll come back to this after we figure out how long it’s going to take to fill the Swimming Pool.</p>
<hr />
<p>With the Time Settings set for the model to run for 24 hours. Set the Swimming Pool to 0, meaning empty, and the Full Level to 20,000, on the Configuration go ahead and click the Run button. You should end up with the graph as shown in Figure 19.</p>
<blockquote>
<p>note the choppy nature of the graph. talk about why this is the result of the step size and we’ll address this in chapter 2</p>
</blockquote>
<div class="figure">
<img src="00-im-5128.png" alt="Figure 19. How long to fill the pool" /><p class="caption">Figure 19. How long to fill the pool</p>
</div>
<p>This is really great. We can fill the Swimming Pool in just 1 day, or can we? Either it’s a really really big hose or we’ve done something wrong because it’s probably not really possible fill the Swimming Pool with a Hose in one day if it takes 20,000 gallons or water.</p>
<hr />
<h4 id="modeling-note-1"><a href="#modeling-note-1">Modeling Note</a></h4>
<p>Hopefully you come to understand that when your models don’t do what you expect them to do it’s not a problem – it’s an opportunity for learning. This is the real reason why we do modeling - to understand and learn. Just think of it as, the more things don’t go the way you expect them too, the more opportunities you have to learn.</p>
<hr />
<p>If you look back at the formula for the Hose, notice it didn’t take into account the initial statement that the Hose could only deliver 50 gallons per hour. And, might it be useful if we could see what happened with different Hose capacities?</p>
<p>Figure 20 is a revised version of the model with Hose Capacity as a variable so you can set the capacity of the hose before you run the model.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5130?embed=0&edit=1&topBar=0&sideBar=1&zoom=0" TITLE="Figure 20. Filling a Swimming Pool v2.0" width=950 height=600></IFRAME>


<p>The new formula for Hose takes into account both the current amount of water in the Swimming Pool, Full Level and Hose Capacity</p>
<blockquote>
<p>IfThenElse([Swimmng Pool] &lt; [Full Level], min([Full Level]-[Swimmng Pool],[Hose Capacity]), 0)</p>
</blockquote>
<p>With Hose Capacity = 50 if you run the model it should produce Figure 21.</p>
<div class="figure">
<img src="00-im-5130.png" alt="Figure 21. How long to fill the pool at 50 gallons per hour" /><p class="caption">Figure 21. How long to fill the pool at 50 gallons per hour</p>
</div>
<p>Was this what you expected? Probably not. Over a period of 24 hours we’ve not even come close to filling the Swimming Pool.</p>
<p>Open the Time Settings and set the Simulation Length to 600 hours and Run the model again. Your run should produce the an equivalent of Figure 22.</p>
<div class="figure">
<img src="00-im-5130a.png" alt="Figure 22. Filling the pool takes how long?" /><p class="caption">Figure 22. Filling the pool takes how long?</p>
</div>
<p>Figure 22 indicates we need to wait 400 hours to fill the pool. That’s a little over 16.5 days. I think we need a bigger hose.</p>
<p>While there are a number of things we could do to improve the model at this point I think we’ve gone far enough with this one.</p>
<hr />
<h4 id="exercise-2"><a href="#exercise-2">Exercise</a></h4>
<p>Do a number of runs for the model in Figure 20 with different values for Full Level and Hose Capacity. Do you get a sense of how your choice of values impacts the results that appear over time?</p>
<hr />
<h2 id="similar-structures-different-behavior"><a href="#similar-structures-different-behavior">Similar Structures / Different Behavior</a></h2>
<p>If you compare Figures 7, 14 and 20 you should find them to be quite similar. And yet the behavior of the models are distinctly different.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5138?embed=0&editor=1&topBar=0&sideBar=1&zoom=0" TITLE="Figure 23. Similar Structures/Different Behaviors" width=950 height=650></IFRAME>


<p>Figure 23 presents the previous three models in a general form. This is so you can compare the different behavior of structures that are very similar. Flow Rate, Seeking Factor and Growth Factor are each factors which govern he rate of flow. Goal is a target value which the Growth model doesn’t have. The difference that makes a difference is what happens in the connection between the accumulation, or stock, and the flow.</p>
<p>The link between the stock and the flow provides information from one point to the other and is generally referred to as feedback, mostly likely because the information travels in the opposite direction as the flow.</p>
<h4 id="linear"><a href="#linear">Linear</a></h4>
<p>In the Linear model the Flow simply depends on the Flow Rate variable, which is expected to be some constant value. This model is referred to as linear because the Accumulation of Stuff is a straight line as you can see in Figure 24.</p>
<h4 id="balancing"><a href="#balancing">Balancing</a></h4>
<p>In the Goal Seeking model the State Change depends on the difference between the Goal and the Current State. This difference influences the State Change to increase the Current State until it reaches the Goal. The structure tries to bring about a balance between the Current State and the Goal so the difference is zero, and then there’s no more State Change.</p>
<h4 id="reinforcing"><a href="#reinforcing">Reinforcing</a></h4>
<p>In the Reinforcing Growth model Added depends on the value of Reinforcing Accumulation. This influences Added to increase the Reinforcing Accumulation which increases Added. One might consider a Reinforcing structure to be a Balancing structure that’s out of control.</p>
<p>Would you believe that no matter how complicated a model may look it’s really only some number of these structures connected together? In the next chapter you will begin actually building some models and investigating the implications of these structures.</p>
<hr />
<h4 id="exercise-3"><a href="#exercise-3">Exercise</a></h4>
<p>The values in the Figure 23 model elements were contrived so when you run the model it will produce the graph in Figure 24.</p>
<ul>
<li>Can you figure out why the values assigned are responsible for the curves produced?</li>
<li>Alter the values for the parameters in the Configuration Panel and run the model to get a sense of the impact initial values have on the behavior of these structures.</li>
<li>Can you explain to someone else the difference between Linear Growth, Goal Seeking and Reinforcing Growth in terms of why the structures produce the behavior they do?</li>
</ul>
<hr />
<div class="figure">
<img src="00-im-5138.png" alt="Figure 24. Balancing and Reinforcing Results" /><p class="caption">Figure 24. Balancing and Reinforcing Results</p>
</div>
<hr />
<h2 id="summary"><a href="#summary">Summary</a></h2>
<ul>
<li>Models are simplified versions of the world around us.</li>
<li>We build models to help us understand and learn.</li>
<li>We build simple models and add to them as we learn with them.</li>
<li>Building models and learning is an iterative process.</li>
<li>We learn as we go and seldom do we get models right the first time.</li>
<li>Reinforcing and Balancing structures are the basic building blocks for all models.</li>
<li>These building blocks can aid in understanding aspects of our interactions with the world around us.</li>
</ul>
<hr />
<h1 id="chapter-2---dynamic-building-blocks-v2-13.05.31"><a href="#chapter-2---dynamic-building-blocks-v2-13.05.31">Chapter 2 - Dynamic Building Blocks v2 13.05.31</a></h1>
<p>When we build things our skill in using the tools we work with has a very definite impact on things we create. Figure 1 is the last model from the previous chapter. In this chapter we hope you will become far more familiar with, and comfortable with, the Insight Maker environment, the creation of these structures, as well as a deeper understanding of why these structures for the building blocks of everything else you will create in the Insight Maker environment to further your understanding and learning.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5138?embed=0&editor=1&topBar=0&sideBar=1&zoom=0" TITLE="Figure 1. Similar Structures/Different Behaviors" width=950 height=650></IFRAME>


<h2 id="the-blank-canvas"><a href="#the-blank-canvas">The Blank Canvas</a></h2>
<p>When you create a New Insight you don’t actually have to start with a blank canvas. Insight Maker presents you with a very simple working Rabbits Population model. This is just so there’s something there to work with when you first start. If you click the <strong>Clear Sample Model</strong> button you will then have a blank canvas on which to create. In the next few segments you will learn how to create the three basic structures from which all models are constructed.</p>
<p>Notice in Figure 2 that similar tools are grouped together on the . Only a portion of the  is displayed though it’s enough for what will be covered in this section. If you wanted to see the rest of the  clicking the double caret at then end of the  will display the rest of the items on a drop down.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7070?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 2. New Insight" width=950 height=650></IFRAME>


<p>To use any of the  click on the icon on the  to select it, then click on the canvas where you want the item located. For each tool there are a set of allowed uses. Once you place the item on the canvas it is named for what it is, with that name selected so you can type in the name you want. Names can contain any characters except braces “{}”, brackets “[]”, parentheses (), and quotes ’. If the label is not selected you can double-click it to select the label and then enter a new one, or you can enter the label in the  though we’ll address that in a bit more detail later.</p>
<hr />
<h3 id="exercise-2-1"><a href="#exercise-2-1">Exercise 2-1</a></h3>
<p>Practice placing <span class='primitive'>Stock</span> and <span class='primitive'>Variable</span> <span class='primitive'>Primitives</span> on the blank canvas in Figure 2 and naming them. You can remove a <span class='primitive'>Primitive</span> by clicking on it to select it and then pressing the  key or clicking the  button in the  section of the . Note that the  option is disabled so you won’t be able to save what you create. <strong>Note</strong>: This is only for the review copy. In the final electronic copy you will be able to save what you create.</p>
<hr />
<h2 id="stocks-flows-variables-and-links"><a href="#stocks-flows-variables-and-links">Stocks, Flows, Variables and Links</a></h2>
<p><span class='primitive'>Stocks</span> and <span class='primitive'>Variables</span> are connected to other <span class='primitive'>Stocks</span> and <span class='primitive'>Variables</span> using <span class='primitive'>Link</span> and <span class='primitive'>Flow</span> <span class='primitive'>Connections</span>. The rules for connections are very explicit because Insight Maker has to figure out how to simulate the model. The allowed connections are depicted in Figure 3. The next chapter will present several types of models where the rules for connections aren’t nearly as rigid.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5275?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 3. Valid Primitive Connections" width=950 height=600></IFRAME>


<p>If you select  from the  segment of the  then hover over a model <span class='primitive'>Primitives) on the canvas a small arrow pointing to the right shows at the center of the \p{Primitives). If you select a \u{Flow</span> the small arrow will only show up over a <span class='primitive'>Stock</span> as a  can only connect to a <span class='primitive'>Stock</span>.</p>
<p>Center the  over the right arrow, which should then change to a . Drag the mouse over to a second model element and the arrow tags along while the  is drawn. If neither  or  is selected then there will be no right pointing arrow when you mouse over the primitive. We’ll go into more detail about connections shortly.</p>
<hr />
<h3 id="exercise-2-2"><a href="#exercise-2-2">Exercise 2-2</a></h3>
<p>Click on the  button in the lower left corner of Figure 3, and then repeatedly click the  arrow to walk though an unfolding of the Valid Primitives model while you read the comments on the lower bar.</p>
<p>Note the setup takes a few seconds to please be patient. This will only be the case in the review copy, not the final eBook.</p>
<hr />
<p>Hopefully the rules associated with the connections were easy to understand. Just remember that Flows represent the movement of stuff while Links only communicate the value of something from one location to another.</p>
<h2 id="valid-primitive-connections"><a href="#valid-primitive-connections">Valid Primitive Connections</a></h2>
<p>The valid primitive connections of Figure 3 are described as follows.</p>
<h3 id="flow-1"><a href="#flow-1">Flow</a></h3>
<p>A Flow adds stuff to a Stock, subtracts stuff from a Stock, or moves stuff from one Stock to another. The only way to change the quantity of stuff in a Stock is with a Flow.</p>
<ul>
<li>A flow out of a stock decreases it. If where the flow goes isn’t relevant to the model then it just flows from the stock to the canvas. Select Flow from the toolbar and then click on the arrow that appears on the stock when you mouse over it and drag onto the canvas and release.</li>
<li>A flow into a stock will increase it. If you don’t care where the Flow is coming from then you first have to draw the Flow from the Stock to the canvas and click the Reverse button in the Connections section to get the Flow to come into the Stock from nowhere. It’s just a quirk of the web implementation.</li>
<li>A flow from one stock to another decreases the source and increases the destination. The get a flow between two Stocks draw the Stocks first and then draw the Flow from one Stock to the other.</li>
<li>Flows can be bidirectional and we’ll talk more about that the first time we use one in a model.</li>
<li>Flows take time! Please remember this.</li>
</ul>
<h3 id="link-1"><a href="#link-1">Link</a></h3>
<p>A Link is used to communicate a value from one element to another. There is no flow of stuff through the link itself. The communication is considered to be instantaneous.</p>
<ul>
<li>You can use a Link from a Stock to a Variable to communicate the value of the Stock to be used in an equation. This does not change the Stock.</li>
<li>You can use a Link to communicate the value of a Stock to a Flow to be used in the equation determining the value of the Flow in the next iteration. The Link does not change the value of the Stock.</li>
<li>You can use a Link to communicate the value of a Flow to a Variable to be used in an equation. This does not change the value of the flow.</li>
<li>You can use a Link to communicate the value of a Variable to a Flow to be used in the equation that defines the flow. This does not change the value of the Variable.</li>
<li>You can use a Link to communicate the value of a Variable to another Variable so that value can be used in an equation in the destination variable. The link does not change the value of the source Variable.</li>
<li>You can use a Link to communicate the value of a Variable to a Stock to be used as it’s Initial Value when the simulation begins. The value of the Variable is computed and assigned to the Stock as the simulation begins and it has no influence on the Stock during the simulation.</li>
</ul>
<p>When you draw a link from one element to another it is created as a straight line. There are times when you would prefer that the connection be other than a straight line to make the diagram easier to follow. You can turn a straight line into a multiple segment line as follows.</p>
<ul>
<li>Click on the link to select it.</li>
<li>Hold down the shift key and click somewhere in the middle of the link then release. This puts a little node on the line.</li>
<li>Click on the node and move it as you wish to create a two segment link.</li>
<li>You can create as many segments as you need, simply repeat the second step above.</li>
<li>If you wish to remove the segments select the head of the link, move it off the element it’s connected to and then reconnect it. It will now be a straight link.</li>
</ul>
<hr />
<h3 id="exercise-2-3"><a href="#exercise-2-3">Exercise 2-3</a></h3>
<p>Go back to Figure 2 and recreate Figure 3 for yourself and as you create each element think about what that particular element is for. Actually making the connections helps develop a level of skill and comfort which will serve you well in the future.</p>
<hr />
<h2 id="configuration-panel"><a href="#configuration-panel">Configuration Panel</a></h2>
<p>Each of the four elements used to build a model has some of the same configuration options though because each has a different function there are some unique configuration options for each item. Some of the most frequently used options will be described in the following sections. The ones not described here will be described the first time they are used.</p>
<p>The Configuration Panels for Stock 1, Flow 1 and Variable 1 form Figure 3 are displayed in Figure 3a and are described below.</p>
<div class="figure">
<img src="02-im-5275.png" alt="Figure 3a. Stock, Flow &amp; Variable Configuration Panels" /><p class="caption">Figure 3a. Stock, Flow &amp; Variable Configuration Panels</p>
</div>
<h3 id="general"><a href="#general">General</a></h3>
<p>This section is where you can assign the (name) and Note for an item.</p>
<ul>
<li><strong>(name)</strong>. This is the label that you see on the item. You can double-click the item on the canvas and edit the label on the item itself or change it here in the configuration panel.</li>
<li><strong>Note</strong>. Here you can enter a description of the item. You can enter short descriptions directly into the field. If you click the down arrow in right of the field it will open the <strong>Note Editor</strong> dialogue window which allows some formatting options. The note that you enter here will pop up when you mouse over an item and click on the little  that appears on the item. If the element of the model is selected you can also open the Note Editor window by CTRL+`(Control+Backquote). Adding comments to a model helps others to understand what you were thinking and when you go back to the model in the future the comments will help you understand what you were thinking when you put the model together. Yes, you completely understand now, though will you remember next week, or a year from now?</li>
</ul>
<div class="figure">
<img src="02-im-5275a.png" alt="Figure 3a. Note Editor" /><p class="caption">Figure 3a. Note Editor</p>
</div>
<h3 id="configuration"><a href="#configuration">Configuration</a></h3>
<p>This section is used to define how the element behaves during the simulation and is a little different for Stock, Flow and Variables, though quite similar. The behavior is essentially controlled by an equation which is defined in terms of the variables connected to it. This is an initial value for a Stock. You may enter a short value into the field though if you click the down arrow in the right of the field the <strong>Equation Editor</strong> window will open. In this window you can define the formula that defines the behavior of the element. You can also open the <strong>Equation Editor</strong> for an element by mousing over the element and clicking on the <strong>equals (=)</strong> sign that appears. All the built in functions on the tabs at the bottom of the window have descriptions associated descriptions and examples.</p>
<div class="figure">
<img src="02-im-5275b.png" alt="Figure 3b. Equation Editor" /><p class="caption">Figure 3b. Equation Editor</p>
</div>
<p>Additionally in this section you define whether stocks can have negative values and whether flows can flow in both directions. We’ll talk more about these options the first time we use them.</p>
<h3 id="user-interface"><a href="#user-interface">User Interface</a></h3>
<p>It is in this segment of the configuration panel that you define a slider for an element, if there is to be one. You can define a sliders for Stocks, to define it’s initial value and for Flows and for Variables. Once you indicate there is to be a slider you then define the maximum and minimum values it may have, as well as the step size, how small are the variations allowed. If you leave the step size field blank then the slider can vary continuously.</p>
<p>An element may have a slider or a formula though not both. Sliders override equations. If you enter an equation and it disappears check to see if there was a slider defined and it hasn’t been turned off.</p>
<h3 id="validation"><a href="#validation">Validation</a></h3>
<p>This section allows you to indicate if there are Maximum and/or Minimum constraints on a Stock, Flow or Variable.</p>
<p>Additionally it is in this section that you assign the Units for an Stock, Flow, and Variable. Units are very useful in helping to ensure the soundness of a model. Units will be covered extensively in Chapter 4.</p>
<h2 id="common-property-1"><a href="#common-property-1">Common Property # 1</a></h2>
<p>To this point you’ve learned how to develop a static picture of a model. It is actually a model and provides a sense of the relationships between the various elements. What it doesn’t give you a sense of is the dynamic nature of these interactions over time. What are the implications of the relationships? In the next few sections you’ll learn how to bring your model to life.</p>
<p>Look at the pictures in Figure 4 and ask yourself what it is that these images have in common. The images all represent very different kinds of things, some living, some not, though there is a characteristics they all have in common. Have you figured it out?</p>
<div class="figure">
<img src="02-im-4548.png" alt="Figure 4. Common Property # 1" /><p class="caption">Figure 4. Common Property # 1</p>
</div>
<p>Maybe you notice the rabbits from the previous chapter? The things depicted in the various images all grow in one way or another, and some faster than others.</p>
<h2 id="constructing-a-growth-structure"><a href="#constructing-a-growth-structure">Constructing a Growth Structure</a></h2>
<p>Lets use Figure 5 to construct a basic growth structure and in the process you’ll learn about several of the parameters associated with the different elements of a model.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5351?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 5. Growth Structure" width=950 height=600></IFRAME>


<ul>
<li>Click  on the  and then click the  button.</li>
<li>Place a Stock on the canvas and label it Stuff.</li>
<li>Now make sure the Stock is selected and take a look at the Configuration Panel on the right.</li>
<li>Click on Flows to select that element.</li>
<li>Mouse over the stock and click when the arrow appears at the center and drag onto the canvas somewhere outside the stock. Which direction doesn’t make a difference though make sure you’re a couple inches outside the stock before you release the mouse button.</li>
<li>While the flow is still selected click on Reverse so you have a flow into the stock.</li>
<li>Notice that the parameters in the Configuration Panel are different from those for the Stock.</li>
<li>Click in the field to the right of Flow Rate = and change the zero to a 1.</li>
<li>Click the Run Simulation button, which is on the “&gt;&gt;” drop down on the right end of the toolbar. You’ve now successfully created, and run, your first model. Admittedly it may not be very exciting though it is the first one of many to follow and it runs.</li>
<li>Save this as you will add to this model shortly.</li>
</ul>
<div class="figure">
<img src="02-im-5351.png" alt="Figure 6. Your First Model Output" /><p class="caption">Figure 6. Your First Model Output</p>
</div>
<p>Notice that the model ran for 20 years. That’s because we used the default Time Settings.</p>
<hr />
<h3 id="exercise-2-4"><a href="#exercise-2-4">Exercise 2-4</a></h3>
<p>Open the Time Settings dialogue associated with Figure 5 and setup and run the model for different values of Simulation Length and Time Units. In what way do your changes alter the output?</p>
<p>Try creating a slider for your stock and flow. Set them for different values and run the model. The idea is just to develop your skill as well as a level of comfort in working with the tools.</p>
<hr />
<div class="figure">
<img src="02-im-5351a.png" alt="Figure 7. Simulation Time Settings" /><p class="caption">Figure 7. Simulation Time Settings</p>
</div>
<p>Notice that in each case what you get is a rising slope for different time periods and at different angles. What you perceive in the graph is referred to a linear growth though this growth doesn’t actually represent the growth associated with the images depicted in Figure 3. In those situations growth at each time is actually dependent on the size of the accumulation or stock at that time.</p>
<p>If we evolve the model of Figure 5 into Figure 8 so the flow is dependent on the amount of stuff we find the resultant growth to be very different.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5497?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 8. Feedback Dependent Growth" width=950 height=600></IFRAME>


<p>Figure 8 represents only a couple of changes from Figure 5 as follows.</p>
<ul>
<li>Extend the model you created based on Figure 5 as follows.</li>
<li>Connect a link from stuff to Flow and reshape it with a couple of handles to improve visibility.</li>
<li>Mouse over the Flow and click on the  sign to open the  and set the Flow to  as in Figure 9. You can do this just by clicking on  in the  list.</li>
<li>Open  and set the <span class='attribute'>Simulation Length</span> to 10.</li>
<li>Now Run the model. Note that because of the width of the embedded model you can’t see the whole . Clicking the  just to the right of the  section of the  the rest of the options will drop down and you can select the  option. You should now see the diagram in Figure 10.</li>
</ul>
<div class="figure">
<img src="02-im-5497.png" alt="Figure 9. Equations Editor:Flow" /><p class="caption">Figure 9. Equations Editor:Flow</p>
</div>
<p>The result of the run from the model in Figure 8 is depicted in Figure 9. The value after 10 Years is 1,024 which you should realize is just 2^10 as expected because we started with a value of 1 and doubled it every year. This curve is referred to as an exponential growth curve.</p>
<div class="figure">
<img src="02-im-5497a.png" alt="Figure 10. Growth of Stuff" /><p class="caption">Figure 10. Growth of Stuff</p>
</div>
<hr />
<h3 id="exercise-2-5"><a href="#exercise-2-5">Exercise 2-5</a></h3>
<p>Notice that the curve in Figure 10 is a bit choppy where it turns up. Run the model in Figure 8 with a Time Step of .5, .25, .125, .0625 and compare the results. What questions are raised by the the results?</p>
<hr />
<h3 id="time-units-and-time-step-selection"><a href="#time-units-and-time-step-selection">Time Units and Time Step Selection</a></h3>
<p>The  and  selected for a model should be consistent with the time frame and level of detail of the model. You probably wouldn’t develop a model about filling a bathtub with water and use  of months. Minutes are probably more appropriate for this model. The  is then selected to ensure none of the relevant transitions associated with the dynamic nature of the model are missed. A  of .25, meaning 15 seconds, is probably sufficiently small to ensure there are no transitions missed.</p>
<p>Trial is actually the most appropriate approach to determine if you have an appropriate value for . If you think .5 is appropriate then run the model with 1, .5, and .25 and if the results for 1 and .25 don’t differ from .5 then you’re probably OK. If .25 produced a different result then compare the .25 result with the .125 result. Once you get two runs where the values don’t change then use the larger one.</p>
<p>Given this guidance how would you interpret the results you experienced in Exercise 2-5?</p>
<hr />
<h3 id="references"><a href="#references">References</a></h3>
<ul>
<li><a href="http://www.iseesystems.com/Helpv9/Content/DT/How_does_DT_work_.htm">How does DT work? from isee Systems</a></li>
<li><a href="http://www.iseesystems.com/Helpv9/Content/DT/DT_Special_Care.htm">DT Situations Requiring Special Care from isee Systems</a></li>
</ul>
<hr />
<h3 id="exercise-2-6"><a href="#exercise-2-6">Exercise 2-6</a></h3>
<p>Consider the images in Figure 4 and think about what  and  you would use in a model representing the growth in each of these areas.</p>
<hr />
<p>One aspect of trying to model the contexts of Figure 4 that should have become apparent is that there is a piece of the model that’s missing.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5887?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 11. Feedback Dependent Growth" width=950 height=600></IFRAME>


<p>The model in Figure 11 adds a factor, which is allowed to vary between 0 and 1, which is simply used to govern the flow. Mouse over the Flow and click the equal (=) sign to view the formula governing the flow.</p>
<blockquote>
<p>Flow = [stuff] * [factor]</p>
</blockquote>
<hr />
<h3 id="exercise-2-7"><a href="#exercise-2-7">Exercise 2-7</a></h3>
<p>Use the model in Figure 11 to implement the models in Exercise 2-7. Does this structure allow you to construct more realistic representations of the growth situations presented in Figure 4?</p>
<hr />
<h3 id="exercise-2-8"><a href="#exercise-2-8">Exercise 2-8</a></h3>
<p>The model in Figure 11 is the model for a Savings Account that is defined as compounding annually, i.e. calculating and adding interest once a year. This means that the most appropriate  is years with a  of 1. There are no other transitions in this model that need to be accommodated. If you run this model with any  other than 1 it will result in a less accurate result. What does this happen?</p>
<hr />
<p>The model of Figure 11 is the standard reinforcing growth model depicted in Figure 1 at the beginning of this chapter. In the process of arriving this model the linear growth model of Figure 1 was developed first, and then evolved. Hopefully through the exercises to this point you have gained a deeper understanding of how this structure works and the extent to which it may be applied to various situations.</p>
<h2 id="common-property-2"><a href="#common-property-2">Common Property # 2</a></h2>
<p>Look at the activities depicted by the images in Figure 12 and ask yourself what it is that these activities have in common. The images represent very different kinds of activities though there is a characteristics they all have in common. Have you figured it out?</p>
<div class="figure">
<img src="02-im-6120.png" alt="Figure 12. Common Property # 2" /><p class="caption">Figure 12. Common Property # 2</p>
</div>
<p>Each activity depicted in Figure 12 represents the pursuit of some goal or objective. Admittedly the goals are very different and each is pursued in a very different manner.</p>
<h2 id="constructing-a-balancinggoal-seeking-structure"><a href="#constructing-a-balancinggoal-seeking-structure">Constructing a Balancing/Goal Seeking Structure</a></h2>
<p>As we have done repeatedly to this point we begin with a linear model consisting of a flow and a stock, along with a flow rate variable. To this we simply have to add a goal and the appropriate feedback and we end up with the model in Figure 13.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6168?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 13. Balancing/Goal Seeking" width=950 height=600></IFRAME>


<p>When you look at Figure 13 admittedly we added Gap which we haven’t addressed before. This was done so we could explicitly plot the difference between the Current value and the Goal. The factor is simply a multiplier between 0 and 1 to govern the extent to which the Gap governs the change.</p>
<blockquote>
<p>Gap = [Goal] - [Current]</p>
</blockquote>
<blockquote>
<p>change = [Gap] * [factor]</p>
</blockquote>
<p>Take a look at the Time Settings for Figure 13 and you’ll see that the model was set up to run from 0 to 10 with a time step of 1 and a units of hours. These were just selected to create a generic model where you could consider the Goal to be 100% and the other values as having values between 0 and 100%. This way we can consider the implications of the interactions without getting hung up on the actual values.</p>
<p>If you run this model you should get the result depicted in Figure 14. This shows how the value of Current approaches the Goal as the value of Gap declines with a factor = 0.5.</p>
<div class="figure">
<img src="02-im-6168.png" alt="Figure 14. Goal Seeking Result" /><p class="caption">Figure 14. Goal Seeking Result</p>
</div>
<p>Figure 14 shows that as Current moves toward the Goal the Gap decreases as does the change which is moving Current in the direction of Goal. Once Current reaches Goal the Gap is zero is change. This structure endeavors to remove the tension between Current and Goal, the Gap, to bring a balance to the situation. Figure 14 presents the characteristic behavior of a Balancing/Goal Seeking structure.</p>
<hr />
<h3 id="exercise-2-9"><a href="#exercise-2-9">Exercise 2-9</a></h3>
<p>Run the model in Figure 13 with various values for factor. What do you notice about the relation between Current and Gap? And what do you notice about the curves as the factor gets larger and larger?</p>
<hr />
<p>Under Time Units and Step Selection we talked about it being essential that the the Time Units were selected appropriate to what was being modeled. In this case since it’s a generic model one Time Unit is pretty much as appropriate as any other. The Time Step is another matter though, or is it? We said one chooses a Time Step such that none of the relevant interactions are missed and the change from one Time Step to another doesn’t change the result.</p>
<hr />
<h3 id="exercise-2-10"><a href="#exercise-2-10">Exercise 2-10</a></h3>
<p>Set up the model in Figure 13 to run with Current = 0, Goal = 1, and factor = .75. Now run the model with a Time Step of 1, .5. 25. .125. Does the result actually change? Look at the Tabular Display associated with the Simulation Result. As you make the Time Step smaller and smaller are the results more correct?</p>
<hr />
<p>Considering that we don’t know anything about a real environment being modeled in Figure 13 it’s a bit difficult to determine if the result is actually more correct as the Time Step used is smaller and smaller.</p>
<p>You might have also realized by this point that it would be quite difficult if we attempted to use this model to model any of the situations depicted in Figure 12. While progress toward the goal in the situations depicted is promoted by the Gap between the Goal and Current the change in those situations isn’t likely to be proportional to that Gap.</p>
<p>Figure 15 presents a modification to the model of Figure 13 where the factor has been replaced by a constraint. It looks like there have been lots of changes though they all cosmetic except the way Workers influence work on a daily basis.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6171?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="Figure 15. Goal Seeking with Constraint" width=950 height=600></IFRAME>


<p>If you run the model with Project Days Work = 60, Workers = 8 and Days Work Completed set at the default of zero and Time Step = 1 you should see the graph in Figure 16.</p>
<div class="figure">
<img src="02-im-6171.png" alt="Figure 16. Goal Seeking with Constraint" /><p class="caption">Figure 16. Goal Seeking with Constraint</p>
</div>
<p>The reason the graph looks like this is because of the constraint placed on the the work because of the number of Workers available. This is accomplished by the formula embedded in the flow.</p>
<blockquote>
<p>work = IfThenElse([Work Remaining] &gt; [Workers],[Workers],[Work Remaining])</p>
</blockquote>
<p>This says that if there is more Work Remaining than there are Workers available to do the work then the amount of work that day equals the number of Workers. This goes on for the first 7 days then on the 8th day there are only four days work required to finish the project which is represented by the different slope on the line on the 8th day. You can see this in detail if you look at the Tabular Display.</p>
<hr />
<h3 id="exercise-2-11"><a href="#exercise-2-11">Exercise 2-11</a></h3>
<p>Set up the model in Figure 16 to run with Time Step of .5. Compare the Tabular Display of this run with the results of the previous run above. By making the time step smaller have we improved the accuracy of result? Why?</p>
<hr />
<p>Again the appropriate Time Step is one that captures the activity occurring within the model. In this case the Workers are in integers and Project Work days are in integers, and with the Time Units in days the appropriate Time Step is 1. If there were events which happened in the model on the order of hours then you would have to decide whether to alter the model to run in hours or reduce the Time Step to ensure it was small enough so no interactions in the model were missed.</p>
<hr />
<h3 id="exercise-2-12"><a href="#exercise-2-12">Exercise 2-12</a></h3>
<p>Use the model in Figure 15 and reconfigure it for a couple of the activities depicted in Figure 12. Note that for this exercise you will have to relabel the stock, flow, and variables accordingly. You will also have to decide on the most appropriate Time Units and Time Step to use.</p>
<hr />
<h2 id="summary-1"><a href="#summary-1">Summary</a></h2>
<p>Hopefully this chapter has helped you become more familiar with the modeling environment and the four model elements you will use most often.</p>
<ul>
<li><strong>Stock</strong>. An accumulation of something that can only be changed by something flowing into or out of it.</li>
<li><strong>Flow</strong>. Something moving over time which adds to a stock or subtracts from a stock.</li>
<li><strong>Variable</strong>. Constant or equation computed each time the simulation steps.</li>
<li><strong>Link</strong>. Used to communicate a value from a Stock, Flow, or Variable, to a Stock, Flow or Variable. The source is not changed and a link to a stock can only be used to set it’s initial value.</li>
</ul>
<p>Because of the nature of the building blocks themselves there are only a small number of valid connections as depicted in Figure 3.</p>
<p>These valid connections are used to create only three different types of structures, linear growth, goal seeking and reinforcing growth. If you are comfortable with these you should be relieved to know that’s all there are. Just three simple structures will be used for all the models you will ever build. Of course at times there may be quite a few of these connected together though you should be confident that you know about the pieces.</p>
<p>The models that you have experienced in Chapter 1 and Chapter 2 are referred to as Stock &amp; Flow Simulation Models. These are also referred to as quantitative models because of the values associated with the simulation of these models. In the next chapter we’ll investigate a number qualitative models which are also used in developing understanding. These are referred to as qualitative models because there are no numerical values associated with them, though there are times when they can be quite useful.</p>
<h1 id="chapter-3---a-model-is-a-model-is-a-model-v2-13.06.19"><a href="#chapter-3---a-model-is-a-model-is-a-model-v2-13.06.19">Chapter 3 - A Model Is A Model Is A Model v2 13.06.19</a></h1>
<p>In the previous chapters you worked with what is referred to a Stock &amp; Flow Simulation Models. These are referred to as quantitative models because of the numerical values associated with them. While there are other types of quantitative models we won’t get into them here. There is also another class of models referred to as qualitative models because they have no numeric values associated with them. There is a level of understanding well served by the use of qualitative models and as such this chapter will serve to acquaint you with several qualitative models that you can create with Insight Maker and find use for in your study of systems.</p>
<p>Models are simplifications of some aspect of the world around us intended to help us understand something. The Stock &amp; Flow Simulation Models are very explicit as they the relations are represented by numerical formulas and the model may be iterated over time. The models presented in the sections of this chapter will present models which may also assist in understanding situations though only from a relationship perspective as there are generally no numerical values associated with the model and they are not iterated over time.</p>
<h2 id="rich-pictures"><a href="#rich-pictures">Rich Pictures</a></h2>
<p>A Rich Pictures is a pictorial representation of a set of relationships intended to convey an level of understanding about those relationships and the implication of those relationships. The strength of Rich Pictures is that there are no rules associated with creating a Rich Picture which means you create the picture that helps you understand the relationships.</p>
<p>Rich Pictures/Part 1 is intended to represent the relationships for a Savings Account. It is created using the Picture Primitive connected together with Links.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7085?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7085">Rich Pictures/Part 1</a></p>
<p>Picture Primitives are added to the canvas like any of the other Primitives. Just click on the Primitive to select it the click on the canvas where you want the Picture Primitive to be. You don’t have to be too specific about the placement as items are very easy to move around on the canvas.</p>
<p>Once the Picture Primitive is placed on the canvas there are several options available on the Configuration.</p>
<div class="figure">
<img src="03-im-7085.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/7085">Picture Configuration Panel</a></p>
<p>The General section of the Picture Primitive is just like the Primitives you’ve used to this point with a <strong>(name)</strong> and <strong>Note</strong> parameters. The Image option in the User Interface section is new. Here you may select one of the built in pictures from the drop down menu, no picture, the first option on the menu, or paste a URL into the field which points to some graphic on the Internet. Note that the Internet option only works if you’re connected to the Internet.</p>
<p>Once you’ve created the Pictures simply use the Link element to connect them together as you did in the Stock &amp; Flow models. After you select the Link tool when you mouse over a Picture Primitive the small right arrow will appear in the center as the connection point. Simply click on the selection point and drag to the element you want to connect to. You can’t use Flows to connect Picture Primitives.</p>
<p>Note that you can use Stocks, Variables, Text and Buttons in Rich Pictures if you wish and you can add images to them also. Even though this is the case most of the time using Picture Primitives will serve just fine and we’ll talk about Buttons somewhere further along the way.</p>
<hr />
<h3 id="exercise-3-1"><a href="#exercise-3-1">Exercise 3-1</a></h3>
<p>Use the Picture Primitive to add additional elements to the model in Figure 1 and then connect them together using the Link tool. Note that in the Configuration segment of the Configuration Panel for the Link there is an option to indicate whether a Link is bi-directional. Use some of these in your exercise.</p>
<hr />
<h3 id="modeling-note-2"><a href="#modeling-note-2">Modeling Note</a></h3>
<p>The Text primitive is just similar to any other primitive in that you select it then click on the canvas where you want the Text to appear. Once you create the text item you can edit the text, assign notes to it, connect to or from it with links, and style it with commands form the Style segment of the Toolbar.</p>
<hr />
<p>Rich Pictures/Part 2 adds a folder and a Link label to Rich Picture/Part 1.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7094?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7094">Rich Pictures/Part 2</a></p>
<p>If you select the Link that has the <strong>adds to</strong> label on it you’ll notice that the (name) field contains the displayed the <strong>adds to</strong>* label and there’s text in the <strong>Note</strong> field. These two attributes are like other Primitives. If the <strong>(name)</strong> field is blank for names <strong>Link</strong> it won’t display. Any other text in the field will display on the Link, or near it if the link is segmented and curved. If you segment the Link the program doesn’t really know where you want the label to be. As such if you select the link you’ll see a small yellow node on the text. You can click on this node and move the label to wherever you would like it to be. Be warned that at times the position is a bit artful though you’ll get the knack of it.</p>
<p>Folders are provided so you can enclose a number of items you want to explicitly draw attention to as a concept and have the ability to hide the detail if you choose. To hide the detail click on the little minus (-) sign in the upper left corner of the folder. when you do this the folder closes, displays it’s name and the minus (-) sign changes to a plus (+) sign. And you probably also surmised when you closed the folder that you can select an image for a folder or provide an image URL.</p>
<p>Remember the intent of a model is to be some simplification of the world around you to help you understand. There are really no rules for creating a Rich Picture though if you want others to understand it you might want to ensure it is readily understandable rather than confusing. How is the best way to ensure this? Present it to others and have them let you know where they thing it is clear and where they think it is confusing. Then go work on it some more.</p>
<p>In the next section you will be introduced to the Unfolding feature of Insight Maker which you can use to build a script so the model will explain itself to someone else when you’re not there.</p>
<p>The following three models are provide examples of Rich Pictures for your review. Reviewers please note that these will be replaced with Rich Pictures more appropriate for the target audience.</p>
<IFRAME SRC="http://InsightMaker.com/insight/666?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/666">Patient Flows ED and Beyond</a></p>
<IFRAME SRC="http://InsightMaker.com/insight/1557?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1557">Biology Levels and Genetics</a></p>
<IFRAME SRC="http://InsightMaker.com/insight/1460?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1460">SOA Reference Architecture</a></p>
<h2 id="causal-loop-diagrams"><a href="#causal-loop-diagrams">Causal Loop Diagrams</a></h2>
<p>A Causal Loop Diagram is more structured than a Rich Picture and less structured than a Stock &amp; Flow Diagram. The Causal Loop Diagram was initially invented as a way to express the findings of a Stock &amp; Flow simulation model without having to show the entire Stock &amp; Flow model as it was expected it might overwhelm the audience.</p>
<p>While a Causal Loop Diagram is a qualitative model there is still much one can come to understand from one because of the information presented about the relations.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7100?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7100">Causal Loop Diagram/Part 1</a></p>
<p>The good news is there are no new aspects of Insight Maker you need to learn to create a Causal Loop Diagram. The diagram is created with a Variables, Pictures and Links with Text used to indicate the relationship between the influencing variable and the influenced variable. After you create the variables, which you may represent with the Variable, Picture or Text Primitives you use Links to connect them and identify the relationship represented by the Link.</p>
<p>There are two widely used notations associated with Causal Loop Diagrams, both of which are presented below.</p>
<p>The first notation popularized by Senge in The Fifth Discipline uses an <strong>S</strong> and an <strong>O</strong> notation as depicted in the figure.</p>
<ul>
<li><strong>S</strong> implies that the influenced variable changes in the same direction as the influencing variable. If the influencing variable increases the influenced variable increases. If the influencing variable decreases the influenced variable decreases.</li>
<li><strong>O</strong> implies that the influenced variable changes in the opposite direction as the influencing variable. If the influencing variable increases then the influenced variable decreases. If the influencing variable decreases then the influenced variable increases.</li>
</ul>
<p>The influence indicators are created as Text elements and positioned as you deem appropriate to represent the influence representative of the Link.</p>
<p>The <strong>+</strong> and <strong>-</strong> notation is an older notation and the each has two possible meanings which are deduced from the context of the diagram.</p>
<ul>
<li><strong>+</strong> implies that the influenced variable changes in the same direction as the influencing variable or the influencing variable adds to the influenced variable.</li>
<li><strong>-</strong> implies that the influenced variable changes in the opposite direction as the influencing variable or the influencing variable subtracts from the influenced variable.</li>
</ul>
<p>The <strong>+</strong> and <strong>-</strong> notation are considered less likely to generate inconsistencies in a model when there are elements such as production and inventory are depicted. In this relationship the <strong>+</strong> interpreted as <strong>adds to</strong> for production adds to inventory. The situation is such that as production increases inventory increases and as production decreases inventory still increases, just not as rapidly. This should allow you to easily see that the <strong>S</strong> notation might result in a misinterpretation of the diagram as production decreases inventory decreases. To aid in avoiding the confusion some people use Stocks in their Causal Loop Diagrams to indicate those elements which are actually accumulations.</p>
<p>Because creating the Link indicators can get tedious in a hurry after you create the first one it’s much easier to hold down the Control Key then click on the indicator and drag to a new location. This quickly creates you a copy of the indicator. You can actually use this sequence to duplicate any element of a model.</p>
<p>As this section is about Causal Loop Diagrams there probably should be some loops defined here somewhere shouldn’t there? Causal Loop Diagrams/Part 2 presents a Causal Loop of the Balancing and Reinforcing loops presented in Chapter 1 and Chapter 2.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7101?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7101">Causal Loop Diagram/Part 1</a></p>
<p>The Balancing and Reinforcing models presented vary slightly from typical causal loop diagrams in the following ways.</p>
<ul>
<li><strong>Variables</strong>. Variables in a Causal Loop Diagram are typically just Text though here we’ve used Stocks for those variable which represent accumulations and Pictures, with no images, to represent the variables. The advantage in using Picture elements for variables is that there are no restrictions on labels because Picture elements are never used in equations.</li>
<li><strong>Link Colors</strong>. Because the Link identifiers have to be created separately and are not attached to the Link it’s much easier to make <strong>+</strong> indicators Blue and <strong>-</strong> indicators Red. This seems to be and evolving convention and then you could just leave the Link indicators out altogether.</li>
</ul>
<p>While models are a simplification of the world around you intended to promote understanding they also represent an unfolding story. It is appropriate to sequence and label the loops. This gives others an guide to what order to read the story and the intent of the loop itself. The images are created with Picture elements and the images for reinforcing <strong>+</strong> and balancing <strong>-</strong> loops, both clockwise and counterclockwise are defined images available from the pull images pull down on the Configuration Panel.</p>
<p>The easiest way to identify whether a loop is a reinforcing or balancing loop is to count the number of minus (-) influences around the loop. If the number is zero or even then the loop is a reinforcing loop. If the number is odd then it’s a balancing loop.</p>
<p>The two basic structures model presents Causal Loop/Rich Picture hybrid models.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7102?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7102">Causal Loop/Rich Picture Hybrids</a></p>
<p>If the images make it easier for the model to develop and convey understanding then it helps them achieve their purpose. The next model presents a Causal Loop Diagram for The Boy Who Cried Wolf Aesop’s Fable.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7103?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7103">The Boy Who Cried Wolf</a></p>
<p>If you mouse over the various elements of this model you’ll note there are notes on each one to help others to understand the model. Yet even with all these aids to understanding it’s difficult for others to see it as a story as they’re looking at the whole model at once. The Storytelling function in the next section will show you how to overcome this and actually tell a story with the model.</p>
<h2 id="storytelling"><a href="#storytelling">Storytelling</a></h2>
<p>Even though you may conscientiously develop your model and add comments often it turns out that people initially look at the whole model and they’re overwhelmed. It might be somewhat like to eat a whole Elephant in a single bite. Storytelling provides a way to overcome this difficulty.</p>
<p>Storytelling a model is intended to reveal a model little by little and explain it along the way. Click on the View Story button in the lower left corner of the screen, read the text, and then click the Step Forward arrow on the right repeatedly to have the model presented as a story.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7104?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7104">Storytelling Example</a></p>
<p>This sequencing you just experienced was all done with the <strong>Add Story</strong> function on the right side of the Tools section of the Toolbar. If you click <strong>Add Story</strong> you should see the <strong>Story Designer</strong> window.</p>
<div class="figure">
<img src="03-im-7104.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/7085">Story Designer</a></p>
<p>The main elements of this window are…</p>
<ul>
<li><strong>Enabled</strong>. This check box allows you to actually enable Storytelling. If this box is checked the green plus sign and the View Story will show up in the lower left corner of the window.</li>
<li><strong>Automatically View</strong>. There are four options on this drop down allowing you to indicate the conditions under which View Story should execute automatically when the model is opened. The options are Never, For Editors, For Non-Editors, Always.</li>
<li><strong>Story Steps</strong>. Lists the steps that you have defined as part of the story. You may reorder steps by clicking and dragging them to the new location. If you click on one of the steps it’s definition will be displayed on the right side of the Story Designer window. Currently the definition of the first Visibility Change is displayed.</li>
<li><strong>- Remove</strong>. To remove an Story Step first click on it to select it then click the <strong>- Remove</strong> button.</li>
<li><strong>+ Add Step</strong>. A drop down which allows you to select which type of step you want to add. New steps are added at the bottom of the list. You can select and drag the new step to the location in the sequence where you want it. The various steps will be described shortly.</li>
<li><strong>Cancel</strong>. Allows you to exit the Story Designer and not save any changes.</li>
<li><strong>Apply</strong>. Applies all the changes you have made in the Story Designer and exits.</li>
</ul>
<p>There are five different types of steps you can include in a story.</p>
<div class="figure">
<img src="03-im-7104a.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/7104">Steps of a Story</a></p>
<p>When you select any one of these steps it will be added to the bottom of the list. You can move the step to the location where you want it. As the following step types are described you might want open the Story Designer and click on different Unfolding Steps to visualize how they’re defined.</p>
<ul>
<li><strong>Change Visibility</strong>. Allows you to specify the Opacity, with the slider, for one or more elements of the model when that step is executed. The steps may be selected from the drop down or you may select one or more items from the model and then click the <strong>Select from Diagram</strong> button to put those items in the list. Note that clicking the <strong>Select from Diagram</strong> button will replace the already selected elements with whatever you’ve selected in the model. If you want to add or remove one more more Primitives it’s probably better to use the drop down to add or click the existing item to remove it.</li>
<li><strong>Show Message</strong>. Allows you to enter a text message you want to be displayed. There are some formatting options available in the Message edit window.</li>
<li><strong>Toggle Folders</strong>. Use this option to Expand or Collapse one or more folders. This is really useful if you want to expand a folder, walk through the items in the folder and then close the folder.</li>
<li><strong>Run Action</strong>. Provides you with a window in which you can enter Javascript commands to control various aspects of the model. And there are a large number of functions in the <a href="http://insightmaker.com/sites/default/files/API/files/API-js.html">Insight Maker API</a> that you can employ in this step.</li>
<li><strong>Group Steps</strong>. This step creates a folder in the sequence in which you can place multiple steps. This allows you to indicate there are several steps you want to execute with a single Next Step click. You can see how this was used in the Figure 11 definition of the unfolding for the model in Figure 10. You can open and close a New Group folder by toggling the little triangle to the left of it. Also if you click on a folder you can rename it in the <strong>Name</strong> field on the right.</li>
</ul>
<p>All new steps are added to the bottom of the list of steps. If you’re creating a long series of steps and then you need to add one near the top this may be difficult. In an attempt to provide a work around the Model Unfolding Designer window is resizable.</p>
<p>The Boy Who Cried Wolf is repeated here from above so you can unfold this model and then take a look at the Story Designer to see how it was setup. Just click the View Story in the lower left of the window.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7103?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7103">The Boy Who Cried Wolf</a></p>
<p>By creating an story of your model you significantly increase the likelihood that others will understand the insights your model is endeavoring to surface. You might even find that in the process of creating the story you uncover ways to improve or clarify the model for yourself.</p>
<p>Systems Thinking: The Essence of And? is another story you can walk through and study as to how it was put together. This story attempts to explain why applying pesticides can increase the requirement for spraying more pesticides. It also attempt to distill the concept of Systems Thinking to a single word… And?</p>
<IFRAME SRC="http://InsightMaker.com/insight/3365?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/3365">Systems Thinking: The Essence of And?</a></p>
<h2 id="summary-2"><a href="#summary-2">Summary</a></h2>
<p>Always remember that a model is a simplification of the world around you intended to help you understand something. You should use a modeling form that adequately serves your quest for understanding. Stock &amp; Flow, Rich Picture, and Causal Loop models are only three of a very large array of possible modeling forms that exist. Use them to the extent that they serve you and when they don’t find a form that does. The Modeling and Simulation references provide access to several additional types of diagrams that have been created with Insight Maker, though there are probably more that haven’t yet been identified. The Model Thinking Course by Scott E. Page presents a very extensive exposure to many types of models useful for understanding different aspects of the world around us.</p>
<h3 id="rich-pictures-1"><a href="#rich-pictures-1">Rich Pictures</a></h3>
<ul>
<li>Often easier for others to relate to and understand because of the images in the model.</li>
<li>No rules for creating them though remember that you need to tell a story.</li>
<li>Because you need to tell a story make the model as understandable as possible.</li>
</ul>
<h3 id="causal-loop-diagrams-1"><a href="#causal-loop-diagrams-1">Causal Loop Diagrams</a></h3>
<ul>
<li>Specific Guidelines for how to depict the relationships between the elements.</li>
<li>Two conventions for expressing relations.</li>
<li>S and O notation can produce misinterpretations when it comes to stocks.</li>
<li>The older + and - notation is considered more appropriate.</li>
<li>Color coding relations is an alternative to both notations, though be consistent.</li>
<li>Employing explicit stock representations often reduces misinterpretations.</li>
<li>Hybrid Rich Pictures/Causal Loop Diagrams are often the very meaningful.</li>
</ul>
<h3 id="storytelling-1"><a href="#storytelling-1">Storytelling</a></h3>
<ul>
<li>Makes it far easier for others to understand the insights you’re trying to surface with your model.</li>
</ul>
<h2 id="references-1"><a href="#references-1">References</a></h2>
<ul>
<li><a href="http://www.amazon.com/Fifth-Discipline-Practice-Organization-ebook/dp/B000SEIFKK/">Senge, P. 1990. The Fifth Discipline: The Art &amp; Practice of the Learning Organization</a></li>
<li><a href="http://www.systemswiki.org/index.php?title=Modeling_%26_Simulation_with_Insight_Maker">Modeling &amp; Simulation with Insight Maker</a></li>
<li><a href="https://www.coursera.org/course/modelthinking">Model Thinking Course</a> by Scott E. Page, University of Michigan</li>
<li><a href="http://systems.open.ac.uk/materials/T552/pages/rich/richAppendix.html">Rich Pictures</a> from Open University Course T552</li>
</ul>
<h1 id="chapter-4-building-a-model-v3-13.06.21"><a href="#chapter-4-building-a-model-v3-13.06.21">Chapter 4 Building a Model v3 13.06.21</a></h1>
<pre><code>“Would you tell me, please, which way I ought to go from here?”
“That depends a good deal on where you want to get to,” said the Cat.
“I don’t much care where–” said Alice.
“Then it doesn’t matter which way you go,” said the Cat.
“–so long as I get SOMEWHERE,” Alice added as an explanation.
“Oh, you’re sure to do that,” said the Cat, “if you only walk long enough.”

Lewis Carroll - Alice in Wonderland</code></pre>
<p>Now that the most relevant aspects of Insight Maker have been introduced it is appropriate to provide you with a meaningful process and guidelines to use when they set out to build a model to promote an understanding of an area of interest. An aspect of this essential for the development of sound models is the topic of units. While units don’t ensure a model is sound, if the units don’t match up one can be certain the model is not sound.</p>
<h2 id="model-construction-process"><a href="#model-construction-process">Model Construction Process</a></h2>
<p>We develop models to help us understand the implications of interactions, and sometimes guidance. As such, as with Alice above, it is essential that before you begin to build a model you know what it is that you want to understand otherwise how will you know if the model does what you needs to do.</p>
<p>There are a number of guidelines or rules of thumb that you will find helpful when developing a model. These will be presented as Modeling Tips throughout this chapter. The idea is to ensure that the model serves the purpose you started building it for.</p>
<div class="figure">
<img src="03-im-184.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/184">Model Construction Process</a></p>
<p>The difference between Real Events and Conclusions and Behaviors result in the creation of an Abstract Version of Real Events. The abstraction is then used to develop a Model which promotes a revision to Conclusions and Behaviors. This cycle continues until the Model produces a set of Conclusions and Behaviors which are congruent with Real Events. At this point there’s no longer a need to create an Abstract Version of Real Events, meaning you have achieved the understanding you were seeking.</p>
<p>The construction process of Figure 0 is very conceptual and as you continue to develop models you will arrive at a sequence that you are comfortable with an enables you to achieve the understanding your seeking. The following two figures present the two model formulation processes presented by Andrew Ford in Modeling the Environment.</p>
<div class="figure">
<img src="03-im-220.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/220">Emphasis on Model Formulation</a></p>
<p>In this approach one focuses on the understanding the qualitative dynamics, i.e., problem familiarization, problem definition and model formulation. Not until such time as there is a level of comfort in the understanding of these dimensions, which may employ Rich Pictures or Causal Loop Diagrams, does one progress to the quantitative aspect of model building, i.e., estimating parameters, simulating to explain the problem and sensitivity and policy analysis, which is where the Stock &amp; Flow simulation model is employed. The quantitative dynamics may produce sufficient understanding or the process may continue back into the qualitative dynamics area. Model development is an iterative process.</p>
<p>The following figure, which may look like complete chaos, emphasizes simulation to provide feedback to provide a better understanding of all other aspects of the modeling process.</p>
<div class="figure">
<img src="03-im-219.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/219">Emphasis on Simulate Early &amp; Simulate Often</a></p>
<p>Here the believe is that actually simulating all stages of the model are the best way to ground one’s understanding of all other aspects of the model development process.</p>
<p>As you develop models you will develop an approach which is probably somewhere between Figure 0a and 0b that you are comfortable with. That is probably the most critical aspect, i.e., that you be comfortable with your process and it make sense to you.</p>
<h2 id="modeling-guidelines"><a href="#modeling-guidelines">Modeling Guidelines</a></h2>
<p>the next figure presents a number of guidelines or rules of thumb it would be good for you to keep in mind as you develop your models. Some of the following are only relevant to Stock &amp; Flow simulations, and which they are should be quite obvious.</p>
<div class="figure">
<img src="03-im-1784.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/1784">Modeling Guidelines</a></p>
<p>Remember that model development and the understanding that comes with it is an iterative process. It’s almost impossible to create all the pieces as they should be the first time around. Look at it as do a little, learning a little and repeat.</p>
<ul>
<li><strong>Purpose</strong>. Have a sense of what you want the model to accomplish and expect the thought to evolve as you devleop the model.</li>
<li><strong>Boundary</strong>. A boundary allows you to explicitly define what’s part of the model and what’s not part of the model. If you’re unclear on the purpose of the model and unable to establish a boundary how will you ever know when to stop adding things to the model?</li>
<li><strong>Time Units</strong>. Will the interactions in this model be depicted over Years, Months, Days, etc. In this case the initial thought is that it will be hours. And you should realize that you initial thought may have to be revised once you begin developing the model.</li>
<li><strong>Simulation Length</strong>. How long might the interactions have to be modeled for. Here again the answer may be obvious, or you may have to start with an estimate and revise it after working with the model. Here we’ll estimate 4 hrs.</li>
<li><strong>Time Step</strong>. Here again you have to estimate a value based on the smallest time of transition you expect in the interactions and then test it to see if you you’re close enough. In this case we’ll start with 0.5</li>
<li><strong>Notes Notes Notes</strong>. As you build your model add notes to the elements so you can refer back to them later to get a sense of what you were thinking when you created them. Yes, you tell yourself you know what you’re doing at the moment, though you’ll be surprised at what you won’t remember a week, a month or even a year from now. Notes also make it much easier for others to understand what you intended when you created elements.</li>
<li><strong>Variable Names</strong>. A stock represents a quantity and should be labeled with a directionless noun our noun phrase, you know, a person, place or thing. Avoid directional modifiers such as increasing, decreasing, growing, slowing, etc. as they tend to make a model very difficult to understand. A flow represents something moving over time so it’s label should be something one would easily think of as moving over time as walk, speed, flow, etc.</li>
<li><strong>Loop Labels</strong>. If you’re developing a Causal Loop Diagram or Stock &amp; Flow Diagram be sure to label and sequence your loops so others have a sense in what order to read your story.</li>
<li><strong>Goals</strong>. Balancing loops always have goals. Make sure they’re explicitly identified.</li>
<li><strong>Influences</strong>. Make sure you include all relevant influences and only the relevant influences. Sometimes you include items because you can’t figure out if they’re relevant or not. That’s OK as long as you remember to later take out the ones that aren’t relevant. If you leave influenced which aren’t relevant they are likely to result in confusion later.</li>
</ul>
<p>The following items are most likely relevant only for Stock &amp; Flow simulations.</p>
<ul>
<li><strong>Stocks</strong>. Identify which items are the the stocks, or accumulations, in the model that will change over time. Stocks are often easy to identify if you think about stopping time. When time stops a stock still has a quantity. In this case it’s the distance from Grandma’s house as Red walks toward it.</li>
<li><strong>Flows</strong>. Identify the flows which are responsible for changing the stocks over time. If time stops a flow has no value. In this case it’s walking.</li>
<li><strong>Delay</strong>. Delays can have very unexpected impacts on the behavior of a model. Where there are delays make sure they’re explicitly identified.</li>
<li><strong>Units</strong>. Units can be very instrumental in assuring model validity. While consistency of units doesn’t guarantee model validity if the units are inconsistent you can be sure the model is not valid.</li>
<li><strong>Limits</strong>. If there are limits on Stocks, Variables or Flows be sure they are explicitly stated so Insight Maker can inform you if the model generates out of limit value. This will signal you that there is a problem with assumptions or initial values.</li>
<li><strong>Reality Check</strong>. Ensure the model is producing results which are consistent with reality. If it is not then it’s an opportunity for learning.</li>
</ul>
<p>The guidelines are far too much to memorize though if you refer to them as a check list over time they will actually become second nature and you’ll find yourself checking them as you’re adding elements to a model.</p>
<hr />
<h2 id="can-red-get-to-grandmas-house"><a href="#can-red-get-to-grandmas-house">Can Red Get to Grandma’s House</a></h2>
<p>Here’s a simple example of a question that might be answered with a model. And yes, it is quite obvious you could just do the math though would you get any better at building models if you did?</p>
<p>Little Red Riding Hood want’s to know how long it will take her to get to Grandma’s house if she walks at 2 miles per hour and Grandma’s house is 4.5 miles away thought the woods.</p>
<p>In this statement what is to be figured out is very easy to identify. Sometimes it’s not so easy and you have to dig a little.</p>
<p>The following figure represents a simple model of Little Red Riding Hood walking to Grandma’s house.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6767?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6767">Walking to Grandma’s House</a></p>
<p>While this may look like a rather trivial model there are several aspects of this model that warrant a few notes, and some of them we’ve not considered before.</p>
<hr />
<h3 id="modeling-tips"><a href="#modeling-tips">Modeling Tips</a></h3>
<hr />
<p>If you click on the stock and look at the configuration panel you’ll notice that the last item in the list, Units, is set to miles. Units were not addressed in the first two chapters as they are so important we wanted to ensure we could focus on them in this chapter. You use units to help ensure that your models are sound. Not that units will not guarantee that your model is sound though it the units don’t work out right you can be sure it’s not, and Insight Maker checks them for you. This figure shows the Configuration Panel for the stock.</p>
<div class="figure">
<img src="03-im-6767.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6767">Units for Distance to Grandma’s House is in miles</a></p>
<p>If you click on the flow and look at the configuration panel you’ll notice that the units for walk is miles/hour as depicted below.</p>
<div class="figure">
<img src="03-im-6767a.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6767">Units for Walk is in miles/hour</a></p>
<p>The flow has a units of hours as that’s what was set up in Time Settings as the Time Units for the model. All the time settings are showing in the following figure.</p>
<div class="figure">
<img src="03-im-6767b.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6767">Time Settings for the Walk to Grandma’s House</a></p>
<p>You might now be asking, how the Walk in miles/hour gets turned in to Distance to Grandma’s in miles? Because we’ve selected a Time Step of 0.5 each simulation step multiplies 0.5 hours x 2 miles/hour to get 1 mile traveled each time step. And the units are consistent. Later you can try changing the Time Units and running the model to see how that affects the answers. It’s not actually this simple though with a constant flow rate this description is close enough.</p>
<hr />
<h3 id="modeling-tip"><a href="#modeling-tip">Modeling Tip</a></h3>
<p>There are a large number of units predefined in Insight Maker. If you click in the Units field and then click on the drop down on the right the Units Selection window will open as depicted in the following figure. Here you can select from predefined units, though it’s usually easier to just enter the appropriate units into the Units field. There is also a way to define Custom Units thought we’ll cover this option in a later chapter.</p>
<div class="figure">
<img src="03-im-6767e.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6767">Units Selection Window</a></p>
<hr />
<p>Now click the Run Button to simulate the model. The Run Button was added as a convenience because the Run button on the menu bar is off the right side at the top. The Run Button in the model will probably go away in the final version of this writing.</p>
<p>From the graphic and tabular results in the following figures it should be evident that there are some enhancements that need to be made to our Walk to Grandma’s House model.</p>
<div class="figure">
<img src="03-im-6767c.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6767">Walk to Grandma’s/Graphic Results</a></p>
<div class="figure">
<img src="03-im-6767d.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6767">Walk to Grandma’s/Tabular Results</a></p>
<p>In both the graphic display and tabular display it’s evident that Red didn’t stop when she got to Grandma’s house, and one might wonder where she ended up after 5 hours of walking. And from the tabular display at 2 hours Red was 0.5 miles from Grandma’s House and at 2.5 hours she was 0.5 miles past Grandma’s House.That there is no time with the Distance to Grandma’s House equal to zero indicates that the time step is to large. This simply tells us that our Time Step is too large for the relationships in the model.</p>
<hr />
<h3 id="exercise-3---1"><a href="#exercise-3---1">Exercise 3 - 1</a></h3>
<p>Run this model with a Time Step of 0.25 and 0.125 and from the Tabular Display which Time Step do you think is most appropriate and why?</p>
<hr />
<p>Figure 8 represents a modification of the Little Red Riding Hood walking to Grandma’s house which was presented in Figure 1.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6778?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6778">Stopping at Grandma’s House</a></p>
<p>Hopefully you found in Exercise 3-1 that both 0.25 and 0.125 produced a step with a distance to Grandma’s House of 0 at 2.25 hours. In finding no difference between the results for 0.25 and 0.125 you should have concluded that 0.25 was a small enough for this model.</p>
<p>The time step in the this version has been set to 0.25 and the Stop at Grandmas variable has been added to tell the simulation to stop when Red has reached Grandma’s House. If you run the model you’ll see that it does just what we want it to do though if you look at the formula in Stop at Grandmas some explanation is probably in order.</p>
<pre><code>IfThenElse([Distance to Grandmas House] &lt; {0 miles}, STOP, 0)</code></pre>
<p>If you look at the Configuration Panel for Stop at Grandmas you’ll notice that the Units are Unitless. The variable itself doesn’t need a definition of units because it’s not participating in any calculations. It’s just a test.</p>
<p>As for the formula what you should remember is that when you start using units in a model, which you should do, all formulas have to be consistent from a units perspective otherwise Insight Maker will raise an error message. Just as a test change {0 miles} to 0 and run the model. Because [Distance to Grandmas House] has units what it is compared to has to have units.</p>
<hr />
<h3 id="exercise-3-2"><a href="#exercise-3-2">Exercise 3-2</a></h3>
<p>In the [Stop at Grandmas] variable change {0 miles} to {0 kilometers}. Does the model still work? Why?</p>
<hr />
<p>The simulation engine in Insight Maker is smart enough to convert between the myriad of similar dimensions, e.g., miles, kilometers, feet, etc. Though it’s recommended that you make conversions explicit otherwise models become very difficult to understand.</p>
<hr />
<h3 id="exercise-3-3"><a href="#exercise-3-3">Exercise 3-3</a></h3>
<p>Seldom is there ever just one right way to build a model. You build the model to help you understand something and you might do that in different ways. Even for a model as simple as Going to Grandma’s can be structured in several different ways other than starting with a stock of 2.5 and reducing it by walking. Try to build one or two alternatives to this model.</p>
<hr />
<p>Hopefully the Going to Grandma’s model has given you a sense of an approach for developing models along with some useful tips and an introduction to using units and why they can be so useful to you. Oh, and not forget about putting notes in the model. Wiring diagrams without knowing what the pieces mean are generally not very useful.</p>
<h2 id="why-arent-we-all-rich"><a href="#why-arent-we-all-rich">Why Aren’t We All Rich</a></h2>
<p>The following is intended to be another example of he development of a model, though somewhat more involved than the previous one. Here’s the initial question describing what I’d like to understand.</p>
<blockquote>
<p>If one can put money in an investment account and it grows over time, and it grows even faster with regular deposits, why aren’t more people rich and ready for retirement? I’ve started numerous retirement programs through the years though for one reason or another they’ve all evaporated in time. What is the basis of this sad state of affairs?</p>
</blockquote>
<IFRAME SRC="http://InsightMaker.com/insight/6780?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6780">Why Aren’t We All Rich v0</a></p>
<p>This figure presents the initial set up for this model.</p>
<ul>
<li><strong>Investment Account</strong>. represents the amount of money, in Dollars, in the account. If you look at the Configuration Panel you’ll notice that Units are set to Dollars.</li>
<li><strong>Initial Deposit</strong>. is a variable used to specify the amount of money that is initially put into the [Investment Account] when it is opened. Remember we said only a flow can increase or decrease a stock, though you can use a external variable to set the initial value for a stock. This is done done to make the [Initial Deposit] explicit with a slider for testing. The Units for [Initial Deposit] is also set to Dollars.</li>
<li><strong>Time Setting</strong>. We’ve assumed that this is an investment account that will compute and add interest on a monthly basis so the time settings are set up to run for 36 months with an initial Time Step = 1 knowing that we will have to test this later on.</li>
</ul>
<p>If you run the model you’ll find out it’s about as interesting as watching pain dry, thought it does run.</p>
<hr />
<h3 id="modeling-tips-1"><a href="#modeling-tips-1">Modeling Tips</a></h3>
<p>Before you run a model you should develop a sense of the result you expect from the model at this point of its development. Then once you run the model you should be certain that is it performing as expected. When the result is not what you expect then either the structure is wrong, your assumptions are wrong, or you simply have an opportunity to develop your understanding.</p>
<p>You should never be more than a single concept change away from a running model that produces a result that you understand. You may think this a bit strict though after you add several elements to a model and it doesn’t work and you spend hours trying to figure out why you may have a better appreciation for this statement.</p>
<hr />
<p>Since this is an investment account that is supposed to grow based on monthly interest Figure 10 provides a few additions.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6783?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6783">Why Aren’t We All Rich v1</a></p>
<p><strong>Annual Interest Rate</strong>, as depicted above, is the rate that will be used to compute the interest on the account on a yearly basis. Not the a slider has been included with a .01 step size to make it easy to test different values. Units is 1/year as this is the per year interest rate.</p>
<div class="figure">
<img src="03-im-6783.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Annual Interest Rate Configuration Pane</a></p>
<p><strong>Months Per Year</strong>, as depicted in the figure, is just the number of months per year, a fixed constant of 12, to be used to convert the Annual Interest Rate to a monthly interest rate. The Units for this variable are Months/Year.</p>
<div class="figure">
<img src="03-im-6783a.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Months per Year Configuration Pane</a></p>
<hr />
<h3 id="modeling-tips-2"><a href="#modeling-tips-2">Modeling Tips</a></h3>
<p>Making all the elements of a model visible makes it much easier for others to understand it. This is why Months per Year and Initial Deposit were created as explicit variables rather than embedding the valued inside other elements.</p>
<p>And what’s definitely worth repeating is that providing comments for all the elements of a model will also make it much easier for others to understand. All one need do is mouse over an element and click on the “i” that appears to read the comment.</p>
<hr />
<p><strong>Interest</strong>, ad depicted in Figure 13, contains the calculation for the Interest at each step of the simulation. The Units for interest are Dollars/Month which is derived from the formula.</p>
<blockquote>
<p>[Investment Account] * ([Annual Interest Rate]/[Months per Year])</p>
</blockquote>
<blockquote>
<p>In Units: Dollars * (1/Year) / (Months/Year) = Dollars/Month</p>
</blockquote>
<p>And as the simulation sums Dollars/Month over months the result added to the Investment Account is in Dollars which is consistent with the units specified for the Investment Account stock.</p>
<div class="figure">
<img src="03-im-6783b.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Interest Configuration Pane</a></p>
<hr />
<h3 id="modeling-tip-1"><a href="#modeling-tip-1">Modeling Tip</a></h3>
<p><strong>R1</strong> makes use of the Picture primitive used to indicate that the relationship between Investment Account and Interest created a Reinforcing structure, with the 1 simply meaning it’s the first one in the model.</p>
<div class="figure">
<img src="03-im-6783c.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Picture Configuration Pane</a></p>
<p>You have the option of adding notes to the Picture element and there are a number of predefined images that you can select from the pull down that can be assigned to the element. There are images for balancing and reinforcing loops, both clockwise and counter clockwise. These pictures can be assigned to Variables and Stocks also.</p>
<p>The other option is that you can put a URL in this field for an image somewhere on the web and that image will be displayed and may be resized.</p>
<hr />
<p>Figure 15 depicts a run of this model over the three years with a 2% annual interest rate.</p>
<div class="figure">
<img src="03-im-6783d.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Why Aren’t We All Rich v1</a></p>
<p>Admittedly $6 dollars in interest wouldn’t seem like much of an incentive to invest in a investment account for three years. Though there are several aspects of the Investment Account that we might take into consideration.</p>
<p>The following figure depicts a couple several update to the model which are described below.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6788?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6788">Why Aren’t We All Rich v2</a></p>
<p><strong>Time Settings</strong> have been changed so the model runs for 30 years, or 360 months.</p>
<p><strong>Monthly Deposits</strong> have been added as a flow allowing one to indicate that there are additional monthly deposits into the investment account. A slider has been included to allow for testing this model with different monthly deposits. The Units for this flow are Dollars/Month, the same as for Interest.</p>
<p><strong>Annual Interest Rate</strong> has been changed to 10% because one is likely to find an investment account that will average 10% over a period of 30 years, or so it would seem based on Whitfield &amp; Co[1].</p>
<p>The following figure shows the new result from the model with these parameters. Though is this enough to retire on? Not likely.</p>
<div class="figure">
<img src="03-im-6783e.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Why Aren’t We All Rich v2 for 30 years, 10% interest, $70/month deposits</a></p>
<p>Figure 18 is the same model with the years changed to 40 years and with $100 Dollars/Month recurring deposits. And there’s a significant difference between $160 thousand dollars and $640 thousand dollars. The difference being what you are willing to invest and for how long.</p>
<div class="figure">
<img src="03-im-6783f.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6783">Why Aren’t We All Rich v2 for 40 years, 10% interest, $100/month deposits</a></p>
<p>That said it’s best if we don’t lose sight of the initial question, that being why more people employ this model and become rich. Part of the difference between Figure 17 and Figure 18 is the extra $30 dollars/month in periodic deposits. One of the difficulties is finding the money to deposit on a monthly basis.</p>
<p>The next figure expands on where the money comes from for the monthly deposits.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6794?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6794">Why Aren’t We All Rich v3</a></p>
<p>Based on this model if one wants to increase the monthly deposits then it is necessary to increase Income or decrease Expenses as the Monthly Deposits are what’s left over. Part of the difficulty is that when one has money the tendency seems for most to spend it rather than save it.</p>
<p>There are a couple additional aspects related to deposits that should be mentioned though won’t actually be added to the model. Many companies allow employees to have payroll deductions directly deposited into a retirement account. This helps take care of the problem of having the money and spending it rather than depositing it in the investment account. Also, at least in the US their are tax laws that allow for the investment of some amount of pretax fund, money that you don’t have to pay taxes on, to be placed in an investment account. The idea being that you would withdraw the money sometime in the future when you’re in a lower tax bracket. Some companies will even match a portion of your investment account deposits up to a certain amount each year. These options, which you could add to the model, would increase the resultant funds available at the end of the simulation.</p>
<p>The question we started with was that is this approach can be used to amass a sizable amount of money then why aren’t more people using it to become well off. Part of the answer had to do with the idea that with money in their pocket people are more likely to spend it than save it even though there are incentives to save it.</p>
<p>The next figure provides an enhancement to the model adding Withdrawal and Penalty flows with some associated variables which are described below.</p>
<IFRAME SRC="http://InsightMaker.com/insight/6827?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/6827">Why Aren’t We All Rich v4</a></p>
<p><strong>Penalty</strong> is levied by the Government if the funds are withdrawn before you reach 59 1/2 and is meant to be an encouragement to save. The % Penalty is a variable with a slider defined to you can test the value during runs. The Units for Penalty are Dollars/Month.</p>
<p><strong>Withdrawal</strong> represents money taken out of the account to purchase things with. As the amount of money in the Investment Account grows it becomes more and more attractive for use to purchase other things and there develops a tug of war between the Attractiveness of the money in the Investment Account and one’s Determination to Save. Attractiveness and Determination to Save both represented by percentages between 0 and 100%. Attractiveness is represented with a Converter, a modeling element not previously described.</p>
<hr />
<h3 id="modeling-tip-2"><a href="#modeling-tip-2">Modeling Tip</a></h3>
<p>It is often the case that a variable to be used in a model can not be represented as a constant or some well defined formula. The variable is actually a function of Time or some other variable. In the case of this model Attractiveness is a function of Investment Account and is defined as a set of data points.</p>
<p>The next figure shows the Configuration Panel for Attractiveness Principle. Note that many of the configuration options are the same as other modeling elements. The ones that are different are in Configuration and Input/Output Table.</p>
<div class="figure">
<img src="03-im-6827.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Attractiveness Configuration Panel</a></p>
<p>Because the variable is defines as a set of XY coordinates the Data has to be defined point by point as depicted below, or the table may be imported.</p>
<div class="figure">
<img src="03-im-6827a.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Attractiveness Data Specification</a></p>
<p>Also notice on the Converter Configuration Panel there is an option for Interpolation. This option defines how Insight Maker figures out the Y values in between the defined X points. The graph displayed in Figure 21 depicts the Linear Interpolation meaning that Insight Maker treats the line between two points as a straight line and if computes the Y value from the XY values at the two points on either side of the X value.</p>
<p>Figure 22 shows the curve for the Interpolation option of None meaning that it treats all the Y values between point X1Y1 and X2Y2 as Y1.</p>
<div class="figure">
<img src="03-im-6827b.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Attractiveness Data Specification with Interpolation = None</a></p>
<hr />
<p>The following figures show the various display tabs for a run of this model with a Determination to save of 50%.</p>
<div class="figure">
<img src="03-im-6827c.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Investment Account Limited by Attractiveness</a></p>
<p>When the Investment Account reaches $87,000 dollars after 255 months it is sufficiently attractive to overcome the Determination to Save so money is withdrawn from the account every month and the account no longer grows. Is this a bad thing? That depends on the intent.</p>
<div class="figure">
<img src="03-im-6827d.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Investment Account Attractiveness and Determination</a></p>
<p>Figure 24 just shows that the Attractiveness has reached the Determination to Save level so withdrawals begin happening every month.</p>
<div class="figure">
<img src="03-im-6827e.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Investment Account Withdrawal and Penalty</a></p>
<p>The above figure shows that there is almost $800 dollars a month being withdrawn from the account monthly and the account doesn’t decrease. Maybe it’s accomplishing what it needs to if $800 a month is sufficient to augment other income.</p>
<p>Note the large overshoot on the Withdrawal curve and a small one on the Penalty curve. This is most likely because the Time Step is too large. The next figure is the same display tab for the model run with a Time Step of 0.5. Notice how the curve cleans up.</p>
<div class="figure">
<img src="03-im-6827f.png" />
</div>
<p><a href="http://www.insightmaker.com/insight/6827">Investment Account Withdrawal and Penalty with Time Step = 0.5</a></p>
<hr />
<h3 id="exercise-3-4"><a href="#exercise-3-4">Exercise 3-4</a></h3>
<p>There is a logic flaw in this model which you might try to repair. The Penalty is not actually taken from the Investment Account but from the Withdrawal itself so it reduces the amount you actually get from the Withdrawal. Be warned that is might be a tricky fix.</p>
<hr />
<p>We now have a model which provides some incentives to start and continue to deposit in an Investment Account, and some disincentives toward the withdrawal of funds, though have we really addressed the initial situation posed? Not really. As far as starting the Investment Account and regularly depositing money, there are incentives, and for many these incentives were enough to get them to invest. For many the incentive, for one reason or another, has not been sufficient. And, any more strict incentives would likely be looked on unfavorably. People do not like to be manipulated, even when it is for their own benefit. The penalty for withdrawal is a deterrent in some respects though as the Investment Account continues to grow its attractiveness in terms of what it can purchase continues to entice. The best answer for this situation is to legally tie up the withdrawal process so it’s only an option in the case of dire emergencies. Though as much as people find being manipulated by others distasteful, being controlled by themselves is just as distasteful.</p>
<p>Is the model done? As usual, the answer is; “It Depends!” If it has provided sufficient understanding to address the situation posed then it is sufficient. If not then it should be taken further, though once it is sufficient you should STOP!</p>
<h2 id="where-have-all-the-trees-gone"><a href="#where-have-all-the-trees-gone">Where Have All The Trees Gone?</a></h2>
<p>We had a forest reserve of over a million trees and the logging company guaranteed they would plant a new tree for every one they cut down, yet all of a sudden there are no trees left to harvest. What happened?</p>
<p>View the story for the following model.</p>
<IFRAME SRC="http://InsightMaker.com/insight/7543?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/7543">Where have all the trees gone?</a></p>
<hr />
<h3 id="exercise-3-5"><a href="#exercise-3-5">Exercise 3-5</a></h3>
<p>What have you come to understand about the difference between short term and long term perspectives and how do delays figure into surprises?</p>
<hr />
<h2 id="building-a-model-summary"><a href="#building-a-model-summary">Building a Model Summary</a></h2>
<ul>
<li><strong>Intent</strong>. Be sure you have a good idea of what you want the model to help you understand. This may evolve as you develop the model.</li>
<li><strong>Time Frame</strong>. Ensure you have a sense of the time frame over which you intend to simulation the model. As you build the mode you may find you need to adjust your initial thought on this.</li>
<li><strong>Stocks &amp; Flows</strong>. Identify the Stocks &amp; Flows first as they are key elements of the model.</li>
<li><strong>Use Units</strong>. Units help to ensure your model is sound and Insight Maker will test for consistency of units. If the units are consistent it doesn’t guarantee the model is sound though it does add a level of confidence.</li>
<li><strong>Variables &amp; Links</strong>. Add Variables &amp; Links to influence the flows.</li>
<li><strong>Test Often</strong>. Each time you make a logical addition to the model think about how you expect the model to behave then run the model and see if there is agreement with your expectation. If it isn’t then it’s an opportunity to learn and improve the model. And if it does agree you should still consider the output. It may be that your expectation and the model are both wrong.</li>
<li><strong>Time Step</strong>. Test the Time Step to ensure it’s small enough to capture all relevant transitions in the model.</li>
<li><strong>Stop at the End</strong>. When the model serves the purpose for which you are developing it, STOP! There is always more you can add to a model. You should only include what is relevant to satisfy the initial intent.</li>
</ul>
<h2 id="references-2"><a href="#references-2">References</a></h2>
<ul>
<li>Catalina Foothills School District. 2003. Tips for Using System Dynamics Tools. <a href="http://www.clexchange.org/ftp/documents/Implementation/IM2003-12TipsUsingSDTools.pdf">http://www.clexchange.org/ftp/documents/Implementation/IM2003-12TipsUsingSDTools.pdf</a></li>
<li>Ford, Andrew. 2009. Modeling the Environment. <a href="http://www.amazon.com/Modeling-Environment-Second-Andrew-Ford/dp/1597264733/">http://www.amazon.com/Modeling-Environment-Second-Andrew-Ford/dp/1597264733/</a></li>
<li>Keeting, Elizabeth K. Internet 2013. Everything You Ever Wanted to Know about How to Develop A System Dynamics Model, But Were Afraid to Ask. <a href="http://www.systemdynamics.org/conferences/1998/PROCEED/00024.PDF">http://www.systemdynamics.org/conferences/1998/PROCEED/00024.PDF</a></li>
<li>Newell, Barry &amp; Proust, Katrina. 2012. Introduction to Collaborative Conceptual Modelling. <a href="https://digitalcollections.anu.edu.au/bitstream/1885/9386/3/Newell_IntroductionCollaborative_2012.pdf">https://digitalcollections.anu.edu.au/bitstream/1885/9386/3/Newell_IntroductionCollaborative_2012.pdf</a></li>
<li>Whiftield, Caraig. 2012. What Returns Should We Expect from the Stock Market. <a href="http://www.whitfieldco.com/blog/?p=39">http://www.whitfieldco.com/blog/?p=39</a></li>
</ul>
<h1 id="chapter-5-implications-of-reality-v0.6-13.06.17"><a href="#chapter-5-implications-of-reality-v0.6-13.06.17">Chapter 5 Implications of Reality v0.6 13.06.17</a></h1>
<p>The sections of this chapter will provide an awareness of the relationships between a number of structures that occur repeatedly across all disciplines as well as provide a sense of how these structures are actually related to each other.</p>
<h2 id="three-basic-structures"><a href="#three-basic-structures">Three Basic Structures</a></h2>
<p>In the Chapter 2 we covered the three basic structures in some detail. And it was claimed that all the models you will ever create will simply be a combination of some number of these basic structures. We don’t expect that you take this on faith and while we can’t prove it in this chapter we will provide you an opportunity to experience some of the more common structures which occur repeatedly across all disciplines of science.</p>
<IFRAME SRC="http://InsightMaker.com/insight/5138?embed=0&editor=1&topBar=0&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/5138">Similar Structures/Different Behaviors</a></p>
<h2 id="typical-evolving-relationships"><a href="#typical-evolving-relationships">Typical Evolving Relationships</a></h2>
<p>Figure 2 depicts the manner in which the Balancing/Goal Seeking and Reinforcing/Exponential structures tend to evolve into more complex interactions when not appropriately tended to.</p>
<IFRAME SRC="http://InsightMaker.com/insight/538?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/538">Typical Evolving Relationships</a></p>
<p>The sections of this chapter will present each structure of the model as a Causal Loop Diagram and a Stock &amp; Flow Simulation which you can interact with. You are encouraged to spend time working with each simulation to develop a better understanding of the relationships and why the structure produces the characteristic behavior that it does.</p>
<p>Each structure will be presented in a generic form so you can focus on the implications of the relationships rather than what the actual elements are. Each section will also provide appropriate strategies for dealing with the structure as well as a number of explicit example of this structure in different areas.</p>
<h2 id="fix-a-problem"><a href="#fix-a-problem">Fix a Problem</a></h2>
<p>Have you ever thought about why when you fill a glass with water you seldom overflow it, or why when you get near the end of a project the final portion seems to take so much longer than it should? What you’re experiencing is the effect of a balancing loop in operation.</p>
<h3 id="causal-loop-diagram"><a href="#causal-loop-diagram">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-139.png" />
</div>
<p><a href="http://insightmaker.com/insight/139">Balancing Loop Causal Loop Diagram</a></p>
<p>The balancing loop structure attempts to attain a balance between some current state and a desired state. Is it the difference between these two states that provides the motivation for action intended to move the current stated in the direction of the desired state. Once action has moved the current state to the desired state there’s no longer a difference between the two so there’s no more motivation for action and action stops because balance has been reached.</p>
<p>Balancing structures always have a goal, though sometimes it’s zero and is implied. When you develop a balancing loop make sure you’re aware of what the goal is.</p>
<h3 id="stock-flow-simulation"><a href="#stock-flow-simulation">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/132?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/132">Balancing Loop Stock &amp; Flow Simulation</a></p>
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>desired state = 1</li>
<li>action factor = 1</li>
<li>Time Step = 1</li>
</ul>
<div class="figure">
<img src="05-im-132.png" />
</div>
<p><a href="http://insightmaker.com/insight/132">Balancing Loop with Time Step = 1</a></p>
<p>Changing to Time Step = 0.25 produces a much smoother transition.</p>
<div class="figure">
<img src="05-im-132a.png" />
</div>
<p><a href="http://insightmaker.com/insight/132">Balancing Loop with Time Step = 0.25</a></p>
<p>Though it is unlikely that the transition will be this rapid so we investigate the result if we change action factor = 0.5</p>
<div class="figure">
<img src="05-im-132b.png" />
</div>
<p><a href="http://insightmaker.com/insight/132">Balancing Loop with action factor = 0.5</a></p>
<hr />
<h3 id="exercise-5-1"><a href="#exercise-5-1">Exercise 5-1</a></h3>
<p>Run the model with different values of Time Step and action factor to get a better sense of the effect these two settings have on the results.</p>
<hr />
<h3 id="examples"><a href="#examples">Examples</a></h3>
<p><a href="http://www.systemswiki.org/index.php?title=Category:Balancing_Loop">Balancing Loop Examples</a></p>
<h3 id="effective-strategies"><a href="#effective-strategies">Effective Strategies</a></h3>
<p>If you want the Balancing Loop to migrate the Current State to the desired state there are some specific things you might want to take into account.</p>
<ul>
<li>Ensure there is an explicit well understood and agreed upon definition of the desired state. If you don’t know where you’re trying to get to then any action will take you somewhere.</li>
<li>Ensure there is an as objective as possible definition of the Current State. It is the relation between the desired state and the Current State that forms the basis for planning and subsequent action. If the planning is flawed there is a good chance the resultant action will be inappropriate to move the Current State to the desired state.</li>
<li>Because action is driven by the size of the gap between desired state and Current State there is a natural tendency for the extent of action to decline as the Current State approaches the desired sate. This tendency accounts for the fact that as projects approach completion it seems to be more and more difficult to make progress toward completion. To overcome this tendency the motivation for action must come from somewhere other than the gap. In terms of project completion the focus might be to begin to think about completing this project so the organization can get on to the next one. The answer to the predicament lies outside the structure as presented.</li>
</ul>
<h3 id="areas-of-concern"><a href="#areas-of-concern">Areas of Concern</a></h3>
<p>The Balancing Loop is one of the simplest structures and seldom ever occurs in isolation from additional influences. Look at the structure of the Balancing Loop and think of some things that might happen to change the behavior of the Balancing Loop.</p>
<ul>
<li>In time linear progress toward the goal may decline, which implies a Limits to Results Systems Archetype.</li>
<li>Since you can never do just one thing, and the fact that the Current State is what it is for some reason, the action taken to change the Current State, or the change in the Current State itself, may produce side effects which in fact cause the Current State, in time, to return to its initial state, which implies a Fixes that Fail Systems Archetype.</li>
<li>If the period of time over which it takes action to move the Current State to the desired state is relatively long there may be a willingness to settle for less than the initial desired state. In this instance the desired state is never reached because the desired state is lowered over time, which implies a Drifting Goals Systems Archetype.</li>
<li>Pursuing the desired state may cause problems elsewhere. These problems may actually result in increasing the desired state making it more difficult to reach, which implies an Escalation Systems Archetype.</li>
<li>The situation may be such that the action taken to achieve the desired state actually causes the Current State to overshoot the desired state. This would then require additional action to bring the Current State back toward the desired state, which implies a Balancing Loop with Delay Systems Archetype.</li>
<li>It is also possible that there is a delay such that the structure promotes an endless oscillation, which implies an Indecision Systems Archetype.</li>
</ul>
<h2 id="linear-progress-slows-over-time"><a href="#linear-progress-slows-over-time">Linear Progress Slows Over Time</a></h2>
<p>A Limits to Results structure represents a situation where a Balancing Loop moving toward its goal is slowed in its progress due to a limiting factor. This is generally due to some resource restriction or constraint.</p>
<h3 id="causal-loop-diagram-1"><a href="#causal-loop-diagram-1">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-542.png" />
</div>
<p><a href="http://insightmaker.com/insight/542">Limits to Results Causal Loop Diagram</a></p>
<p>The casual loop diagram for this structure is identical to the balancing loop structure except for the addition of a limit. The difference between the current state and the desired state produces a gap and that gap is the motivation for action. The limit is such that it won’t allow all the action that the gap would like there to be. Imagine that you have 100 miles to travel and your car only goes 60 miles per hour, meaning there’s no way you can get there in an hour. Or maybe you have a project to do that will take 30 hours which means that you along simply can’t get it done in one day. The limit indicates the maximum amount of action that can happen in a time period to move the current state toward the desired state. Once the difference between the current state and the desired state is smaller than the limit the structure will behave just like a simple balancing loop.</p>
<h3 id="stock-flow-simulation-1"><a href="#stock-flow-simulation-1">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/543?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/543">Limits to Results Stock &amp; Flow Simulation</a></p>
<p>The causal loop diagram can be implemented as a stock &amp; flow simulation using the following equations allowing us to get a sense of the transitions over time.</p>
<blockquote>
<p>action = IfThenElse([gap] &gt;= [limit], [limit], [gap]) gap = [desired state] - [Current State]</p>
</blockquote>
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>desired state = 1</li>
<li>limit = 0.4</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-543.png" />
</div>
<p><a href="http://insightmaker.com/insight/543">Limits to Results with limit = 0.4</a></p>
<p>Notice that the current state progresses toward the desired state in a linear manner until the gap becomes less than the limit. After that progress is linear for a couple more time steps because of the small time step of 0.25. Once the current state reaches about 0.8 it begins to slow down significantly and stops when it reaches the goal.</p>
<hr />
<h3 id="exercise-5-2"><a href="#exercise-5-2">Exercise 5-2</a></h3>
<p>Run the model with different values for limit. And see what happens if you change the Time Step to 0.5 or 1.0.</p>
<hr />
<h3 id="examples-1"><a href="#examples-1">Examples</a></h3>
<p><a href="http://www.systemswiki.org/index.php?title=Category:Limits_to_Results">Limits to Results Examples</a></p>
<h3 id="effective-strategies-1"><a href="#effective-strategies-1">Effective Strategies</a></h3>
<ul>
<li>The effective way to avoid a Limits to Results scenario is simply to plan ahead to ensure there are sufficient resources available so progress toward results is not limited to a greater extent than are acceptable.</li>
</ul>
<h3 id="areas-of-concern-1"><a href="#areas-of-concern-1">Areas of Concern</a></h3>
<ul>
<li>There are currently no known Systems Archetypes which are evolutions of this archetype.</li>
</ul>
<h2 id="the-fix-overshoots-the-goal"><a href="#the-fix-overshoots-the-goal">The Fix Overshoots the Goal</a></h2>
<p>Have you ever pursued a goal and later found that you actually overshot the goal and had to back up to get back to the goal? The Balancing Loop with Delay structure is a variation of the standard Balancing Loop. The variation being that there are one or more delays in the structure which are responsible for producing, as will be demonstrated, a very different behavior pattern than the standard Balancing Loop.</p>
<h3 id="causal-loop-diagram-2"><a href="#causal-loop-diagram-2">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-544.png" />
</div>
<p><a href="http://insightmaker.com/insight/544">Balancing Loop with Delay Causal Loop Diagram</a></p>
<p>If you look at the Balancing Loop with Delay structure it looks identical to the standard balancing loop with the exception of the delay near the reduces link. The implication is that it takes some amount of time after the current state changes before it is actually realized and figures into the calculation of the gap which influences the subsequent action. Essentially what’s happening is that action is being based on old data and therefore is probably not the appropriate action. The implications of this will become evident when we look at the simulation for this structure.</p>
<h3 id="stock-flow-simulation-2"><a href="#stock-flow-simulation-2">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/133?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/133">Balancing Loop with Delay Stock &amp; Flow Simulation</a></p>
<p>Notice in the stock &amp; flow structure the delay has been placed between the current state and the gap. The delay could have just as well been between the gap and action or there could have been a delay between the action and the actual change of the current state though this one is a bit more difficult to structure.</p>
<p>Equations for this structure are</p>
<blockquote>
<p>delay state = Delay(<Current State>, [time delay], 0) gap = [desired state] - [delay state] action = [gap] * [action factor]</p>
</blockquote>
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>desired state = 1</li>
<li>time delay = 0</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-133a.png" />
</div>
<p><a href="http://insightmaker.com/insight/133">Balancing Loop with Delay = 0</a></p>
<p>As expected these settings display the typical balancing loop goal seeking behavior.</p>
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>desired state = 1</li>
<li>time delay = 1</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-133b.png" />
</div>
<p><a href="http://insightmaker.com/insight/133">Balancing Loop with Delay = 1</a></p>
<p>Notice that now with a delay the change in the gap and action are delayed for one time period and then the current state actually overshoots the goal and a negative action is required to bring the current state back to the goal.</p>
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>desired state = 1</li>
<li>time delay = 2</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-133c.png" />
</div>
<p><a href="http://insightmaker.com/insight/133">Balancing Loop with Delay = 2</a></p>
<p>With a longer time delay the overshoot is even more severe though after a few time periods the current state actually will reach the goal.</p>
<hr />
<h3 id="modeling-note-3"><a href="#modeling-note-3">Modeling Note</a></h3>
<p>Notice the action flow in the diagram actually has an arrow at both ends. Click on the flow and notice the Configuration section of the configuration panel indicates Only Positive Rates is set to No. This means that the flow can flow in either direction based on whether the results of the equation are positive or negative.</p>
<hr />
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>desired state = 1</li>
<li>time delay = 3</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-133d.png" />
</div>
<p><a href="http://insightmaker.com/insight/133">Balancing Loop with Delay = 3</a></p>
<p>We’ve now reached a delay where the action is so out of sync with an awareness of the results that the goal is never reached and the current state continually oscillates around the goal.</p>
<p>With settings of</p>
<ul>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>desired state = 1</li>
<li>time delay = 3.5</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-133e.png" />
</div>
<p><a href="http://insightmaker.com/insight/133">Balancing Loop with Delay = 3.5</a></p>
<p>Now the situation is described as being out of control because rather oscillations continue to get worse because of the length of the time delay.</p>
<p>You might ask how could it be that it might take 3.5 days for someone to get a sense of what the results of the previous actions were, which would be a good question. It’s probably difficult to find a situation where this is realistic in days though what’s important to realize is this structure could operate in this manner if the time units were hours, minutes, seconds or micro seconds.</p>
<hr />
<h3 id="exercise-5-3"><a href="#exercise-5-3">Exercise 5-3</a></h3>
<p>Run this model varying the values of action factor, time delay and time step to develop a sense of how each of these variables influences the behavior of the model.</p>
<hr />
<h3 id="examples-2"><a href="#examples-2">Examples</a></h3>
<p><a href="http://www.systemswiki.org/index.php?title=Category:Balancing_Loop_with_Delay">Balancind Loop with Delay Examples</a></p>
<h3 id="effective-strategies-2"><a href="#effective-strategies-2">Effective Strategies</a></h3>
<ul>
<li>Advice for dealing with this structure is quite simple. Patience is a virtue. If you know you’re dealing with a balancing structure and things are not going as expected then study the structure to see if there could be one or more delays that your impatience is simply having difficulty dealing with. This structure proves that there are times when taking additional action is worse than not taking additional action. More is not always better. If things are waffling back and forth endlessly or out of control a little less effort might be appropriate.</li>
<li>An alternative is to monitor the Current State on a more frequent basis and ensure the result of the monitoring impacts the action appropriately in a more timely manner. In short, take the delay out of the structure.</li>
</ul>
<h3 id="areas-of-concern-2"><a href="#areas-of-concern-2">Areas of Concern</a></h3>
<p>There are currently no known Systems Archetypes which are direct derivatives of the Balancing Loop with Delay Systems Archetype.</p>
<h2 id="things-seem-to-oscillate-endlessly"><a href="#things-seem-to-oscillate-endlessly">Things Seem to Oscillate Endlessly</a></h2>
<p>Have you ever noticed how some things just seem to oscillate back and forth endlessly? Trying to decide between two options, the way people have their ups and downs, the way supply and demand never seems to settle out are examples of just this.</p>
<p>This situation is characteristic of two Balancing Loops with Delays which provide the desired state for each other. Because of the delays in the structure by the time one value reaches the point it’s headed for, its destination has moved, so it begins changing again. This is very much like shooting at a target bobbing up and down on the end of a spring while you’re jumping up and down on a trampoline.</p>
<h3 id="causal-loop-diagram-3"><a href="#causal-loop-diagram-3">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-545.png" />
</div>
<p><a href="http://insightmaker.com/insight/545">Indecision Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-3"><a href="#stock-flow-simulation-3">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/546?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/546">Indecision Stock &amp; Flow Simulation</a></p>
<p>With settings of</p>
<ul>
<li>result 1 = 1</li>
<li>result 2 = 0.5</li>
<li>delay 2 = 1</li>
<li>delay 1 = 2</li>
<li>factor = 0.5</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-546.png" />
</div>
<p><a href="http://insightmaker.com/insight/546">Indecision Example 1</a></p>
<p>For these settings there is a delay for result 1 and result 2 and you can see the oscillations as action attempts to bring the two into a balance with each other. It is apparent that a balance will be achieved after some time as the oscillations are getting smaller over time.</p>
<hr />
<h3 id="exercise-5-4"><a href="#exercise-5-4">Exercise 5-4</a></h3>
<p>Vary the values of delay 1, delay 2, factor, and time step to get a better sense of the implications of each variable on the behavior of this structure.</p>
<hr />
<h3 id="examples-3"><a href="#examples-3">Examples</a></h3>
<ul>
<li><a href="http://www.systemswiki.org/index.php?title=Supply_and_Demand">Supply and Demand</a></li>
<li><a href="http://www.systemswiki.org/index.php?title=Price_Balancing_Loops">Price Balancing Loops</a></li>
<li><a href="http://insightmaker.com/insight/759">Romeo &amp; Juliet IM-759</a></li>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Indecision">Indecision Examples</a></li>
</ul>
<h3 id="effective-strategies-3"><a href="#effective-strategies-3">Effective Strategies</a></h3>
<ul>
<li>Because of the inherent delays in this structure it is completely inappropriate to base action on what the current driving value is. To deal with this structure one has to watch the cycles and attempt to predict what the driving value is going to be at a future point. One then creates a result 1 that will be appropriate for the predicted future result 2. In this structure a well operating crystal ball would be most helpful.</li>
<li>Reducing the action in the short term until on gets a sense of the influences is most advisable.</li>
</ul>
<h3 id="areas-of-concern-3"><a href="#areas-of-concern-3">Areas of Concern</a></h3>
<ul>
<li>Presently there are no Systems Archetypes which are derivatives of the Indecision Systems Archetype.</li>
</ul>
<h2 id="the-fix-creates-a-problem-elsewhere"><a href="#the-fix-creates-a-problem-elsewhere">The Fix Creates A Problem Elsewhere</a></h2>
<p>Have you ever wondered how the apparently sensible actions by two individuals, groups, or countries for that matter, can result in both parties finding themselves where neither of them wants to be? Consider the way an argument heats up between two people, or the way that urgency begets urgency, or even the US/Soviet arms race of the past. The foundation of these activities is an Escalation structure.</p>
<h3 id="causal-loop-diagram-4"><a href="#causal-loop-diagram-4">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-970.png" />
</div>
<p><a href="http://insightmaker.com/insight/970">Escalation Causal Loop Diagram</a></p>
<p>The two balancing loops interact in such a way as to create what is essentially a single reinforcing structure. Is this this reinforcing action which typically drives the result to somewhere neither of the participants wishes to be.</p>
<div class="figure">
<img src="05-im-970a.png" />
</div>
<p><a href="http://insightmaker.com/insight/970">Escalation as a Reinforcing Loop</a></p>
<h3 id="stock-flow-simulation-4"><a href="#stock-flow-simulation-4">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/972?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/972">Escalation Stock &amp; Flow Simulation</a></p>
<p>With settings of</p>
<ul>
<li>Ted Results = 1</li>
<li>Anne Results = 1.1</li>
<li>multiplier = 2</li>
<li>Time Step = 1</li>
</ul>
<div class="figure">
<img src="05-im-972.png" />
</div>
<p><a href="http://insightmaker.com/insight/972">Escalation Example</a></p>
<hr />
<h3 id="exercise-5-5"><a href="#exercise-5-5">Exercise 5-5</a></h3>
<p>Vary the values of Ted Results, Anne Results and time step to get a better sense of the implications of each variable on the behavior of this structure.</p>
<hr />
<h3 id="examples-4"><a href="#examples-4">Examples</a></h3>
<ul>
<li>A kid telling a small lie to cover a small thing, only to find himself into further problems that would require bigger lies, making it all the more difficult to tell the truth later when two people walking against each other on the street try to pass by making a step sideways only to discover they block each other again and another attempt to go off the way leads to the same situation</li>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Escalation">Escalation Examples</a></li>
</ul>
<h3 id="effective-strategies-4"><a href="#effective-strategies-4">Effective Strategies</a></h3>
<ul>
<li>One approach is to disconnect the two loops so Anne and Tom are no longer competing with each other but competing with themselves. This produces two reinforcing loops.</li>
<li>The second approach is to begin evaluating the composite results of Anne and Tom rather than their individual results. In this way they begin to see the value in cooperation rather than competition and the structure turns into two synergistic reinforcing loops.</li>
</ul>
<h3 id="areas-of-concern-4"><a href="#areas-of-concern-4">Areas of Concern</a></h3>
<ul>
<li>There are currently no known Systems Archetypes which are derivatives of the Escalation Systems Archetype.</li>
</ul>
<h2 id="over-time-there-is-a-tendency-to-settle-for-less"><a href="#over-time-there-is-a-tendency-to-settle-for-less">Over Time There Is A Tendency To Settle For Less</a></h2>
<p>Have you ever noticed how difficult it is to bring the best of intentions to fruition? How so many people’s New Years resolutions only last a few days? Our inability to achieve the things we set out to achieve is very much a result of the operation of a Drifting Goals structure we generally have little awareness of.</p>
<h3 id="causal-loop-diagram-5"><a href="#causal-loop-diagram-5">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-983.png" />
</div>
<p><a href="http://insightmaker.com/insight/983">Drifting Goals Causal Loop Diagram</a></p>
<p>Again we have two balancing loops which each provide a goal for the other and because of the delays in the time it takes for the action to produce results one goal overrides the other. What I Want server as the goal for B1 and Pressure to Settle for Less serves as the goal for B2.</p>
<h3 id="stock-flow-simulation-5"><a href="#stock-flow-simulation-5">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/984?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/984">Drifting Goals Stock &amp; Flow Simulation</a></p>
<p>With settings of</p>
<ul>
<li>desired state = 1</li>
<li>curretn state = 0</li>
<li>pct chg fact = 0.2</li>
<li>goal chg fact = 0.2</li>
<li>Time Step = 0.5</li>
</ul>
<div class="figure">
<img src="05-im-948.png" />
</div>
<p><a href="http://insightmaker.com/insight/972">Drifting Goals Example with pct chg = goal chg factors</a></p>
<p>In this example with the extent to which the goal drifted is about 50% which is very significant. The extent to which the goal drifts is very dependent on the goal chg fact variable.</p>
<hr />
<h3 id="exercise-5-6"><a href="#exercise-5-6">Exercise 5-6</a></h3>
<p>Vary the pct chg fact, goal chg fact and Time Step values to get a sense of the impact on the extent to which the goal for the structure is degraded over time.</p>
<hr />
<h3 id="examples-5"><a href="#examples-5">Examples</a></h3>
<ul>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Drifting_Goals">Drifting Goals Examples</a></li>
</ul>
<h3 id="effective-strategies-5"><a href="#effective-strategies-5">Effective Strategies</a></h3>
<ul>
<li>There is only one real effective way to deal with this structure, which is to disconnect the feedback from tension to goal reduction to Desired State so it can no longer subtract from Desired State.</li>
<li>An alternative strategy is to further increase the action toward the Current State so it reduces the time delay such that there is no time for the tension to reduce the Desired State. This is fine if there are sufficient resources to increase the action.</li>
</ul>
<h3 id="areas-of-concern-5"><a href="#areas-of-concern-5">Areas of Concern</a></h3>
<ul>
<li>The action toward the Desired State requires resources, which may have to be developed. Consideration needs to be given as to whether or not there really are sufficient resources to achieve the Desired State. For further insights into this see Growth and Underinvestment with a Drifting Standard.</li>
</ul>
<h2 id="in-time-the-problem-returns"><a href="#in-time-the-problem-returns">In Time The Problem Returns</a></h2>
<p>Have you noticed how often your best intentions go awry? You set out to fix a problem and shortly thereafter you find yourself fixing the same problem again, and again. This generally results from some unexpected consequences, things that come into play because of your action, or the results of your action, that you never expected, which is why they’re called unexpected consequences.</p>
<p>A Fixes that Fail Systems Archetype consists of a Balancing Loop which is intended to achieve a particular result, yet the result is foiled by an insidious Reinforcing Loop. These two loops interact in such a way that the desired result initially produced by the Balancing Loop is, after some delay, negated by the actions of the Reinforcing Loop. This structure may also be referred to as a Remedies that Fail structure.</p>
<h3 id="causal-loop-diagram-6"><a href="#causal-loop-diagram-6">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-547.png" />
</div>
<p><a href="http://insightmaker.com/insight/547">Fixes that Fail Causal Loop Diagram</a></p>
<p>The action of the Goal Seeking loop (B1) also influences, after some delay, unexpected consequences which diminishes the migration of the current sate in the direction of the desired state and creates the reinfocing loop (R2).</p>
<h3 id="stock-flow-simulation-6"><a href="#stock-flow-simulation-6">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/549?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/549">Fixes that Fail Stock &amp; Flow Simulation</a></p>
<p>With settings of</p>
<ul>
<li>desired state = 1</li>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>uc factor = 0</li>
<li>ucd factor = 0.2</li>
<li>Time Step = 0.5</li>
</ul>
<div class="figure">
<img src="05-im-549.png" />
</div>
<p><a href="http://insightmaker.com/insight/549">Fixes that Fail Structure as Simple Goal Seeking Loop</a></p>
<p>With uc factor = 0 there is no unexpected consequences and therefor the value of ucd factor is irrelevant and the structure is essentially a standard goal seeking balancing loop (B1).</p>
<p>With settings of</p>
<ul>
<li>desired state = 1</li>
<li>current state = 0</li>
<li>action factor = 0.5</li>
<li>uc factor = 0.3</li>
<li>ucd factor = 0.2</li>
<li>Time Step = 0.5</li>
</ul>
<div class="figure">
<img src="05-im-549a.png" />
</div>
<p><a href="http://insightmaker.com/insight/549">Fixes that Fail Structure as Simple Goal Seeking Loop</a></p>
<p>As the value of uc factor increases unexpected consequences will increase more rapidly and have a more marked impact on the current state as long as the value of ucd factor remains constant.</p>
<hr />
<h3 id="exercise-5-7"><a href="#exercise-5-7">Exercise 5-7</a></h3>
<p>Run the Fixes that Fail structure with various values of action factor, uc factor, ucd factor, and Time Step to get a sense of how these four factors influence the behavior of the structure.</p>
<hr />
<h3 id="examples-6"><a href="#examples-6">Examples</a></h3>
<ul>
<li>Your soccer ball is soft so you put air in it though in a few hours you have to put more air in it. And after a few weeks it seems like you spend all your time pumping up your soccer ball.</li>
<li>Often times what appears to be the most appropriate way to deal with the situation doesn’t really solve the problem and in time actually makes the situation worse.</li>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Fixes_that_Fail">Fixes that Fail Examples</a></li>
</ul>
<h3 id="effective-strategies-6"><a href="#effective-strategies-6">Effective Strategies</a></h3>
<ul>
<li>The most effective strategy for dealing with this structure is advance planning. Since you can never do just one thing, as everything affects everything else, before taking action to change the current state, think about what else that action, or change in the current state, is likely to affect. And, what effect the effect will have. Sometimes the unexpected consequence may be several effects away, so don’t stop at just one. Essentially what one seeks to do is close the loop and identify the unexpected, which means it’s no longer unexpected then, is it?</li>
<li>A less effective strategy would be to figure out how to disconnect the unexpected consequence from influencing the action or the current state. Of course then it wouldn’t be a consequence, would it?</li>
</ul>
<h3 id="areas-of-concern-6"><a href="#areas-of-concern-6">Areas of Concern</a></h3>
<ul>
<li>There are times when attempts to deal with a situation in a particular way makes it even more difficult to deal with the situation in an appropriate manner later on which is often an indication of a Shifting the Burden Systems Archetype.</li>
</ul>
<h2 id="the-underlying-cause-is-not-being-addressed"><a href="#the-underlying-cause-is-not-being-addressed">The Underlying Cause Is Not Being Addressed</a></h2>
<p>How many times have you noticed that there are some problems that seem to be addressed over and over. When the problem arises it is addressed, then some time later, maybe a day, a week, or a month, the same problem arises again. This situation is quite often the result of a Shifting the Burden structure.</p>
<h3 id="causal-loop-diagram-7"><a href="#causal-loop-diagram-7">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-986.png" />
</div>
<p><a href="http://insightmaker.com/insight/986">Shifting the Burden Causal Loop Diagram</a></p>
<p>The causal loop depicts a problem symptom which can be addressed by a symptomatic solution (B1) and a fundamental solution (B2). The symptomatic solution is easier and quicker than the fundamental solution though it only treats the symptoms rather than actually solving the problem. And the nasty aspect of this structure is that the symptomatic solution typically has a side effect that makes it more difficult to implement the fundamental solution. This means that the more one employs the symptomatic solution the less likely one is to implement the fundamental solution. And because the problem isn’t solved in time it returns again and again.</p>
<h3 id="stock-flow-simulation-7"><a href="#stock-flow-simulation-7">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/1005?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1005">Shifting the Burden Stock &amp; Flow Simulation</a></p>
<p>The Shifting the Burden Stock &amp; Flow model is the equivalent of the Causal Loop Diagram with one addition. Problem Cause has been added to as it is essentially for the Problem Symptom to be able to return. This wasn’t depicted in the Causal Loop Diagram and points out one of the shortcomings of Causal Loop Diagrams. Because they’re qualitative you can argue any interactions you’d like and they’re difficult to dispute because there’s no data to support any of the arguments. With Stock &amp; Flow models one can’t argue things with hand waving and there’s no smoke and mirrors to hide behind. Everything has to be explicit which is their strength.</p>
<p>With settings of</p>
<ul>
<li>sym fact = 0.5</li>
<li>prob fact = 0.5</li>
<li>fund fact = 0</li>
<li>side effect fact = 0</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-1005.png" />
</div>
<p><a href="http://insightmaker.com/insight/1005">Applying the Symptomatic Solution</a></p>
<p>The problem cause results in an increase in the Problem Symptom until it reaches a level where it needs to be dealt with and the symptomatic solution is applied. This removes the Problem Symptom though has no affect on the problem cause so the Problem Symptom again begins to increase until it reaches a point where the symptomatic solution is again applied. Unless something else changes this will repeat endlessly.</p>
<p>With settings of</p>
<ul>
<li>sym fact = 0.5</li>
<li>prob fact = 0.5</li>
<li>fund fact = 0.2</li>
<li>side effect fact = 0</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-1005a.png" />
</div>
<p><a href="http://insightmaker.com/insight/1005">Applying the Symptomatic Solution &amp; Fundamental Action</a></p>
<p>In this example it is apparent that the Symptomatic Solution is still has a part to play while the fundamental solution is actually solving the problem. Once this happens the symptoms don’t return and there no need to apply the symptomatic solution or fundamental action in the future.</p>
<p>With settings of</p>
<ul>
<li>sym fact = 0.5</li>
<li>prob fact = 0.5</li>
<li>fund fact = 0.2</li>
<li>side effect fact = 0.2</li>
<li>Time Step = 0.25</li>
</ul>
<div class="figure">
<img src="05-im-1005b.png" />
</div>
<p><a href="http://insightmaker.com/insight/1005">Applying the Symptomatic Solution &amp; Fundamental Action with Side Effect</a></p>
<p>With the Side Effect coming into play you can see that the fundamental solution attempts to come into play though the side effect essentially negates it requiring that the symptomatic solution continue to be applied periodically.</p>
<hr />
<h3 id="exercise-5-8"><a href="#exercise-5-8">Exercise 5-8</a></h3>
<p>While there are myriad of possible variations for the variables in this model you might find the result interesting if you apply the fundamental solution without the symptomatic solution. What questions does this result raise?</p>
<hr />
<h3 id="examples-7"><a href="#examples-7">Examples</a></h3>
<ul>
<li><a href="http://www.systemswiki.org/index.php?title=Summer_Driving_is_an_Emergency%3F">Summer Driving is an Emergency?</a></li>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Shifting_the_Burden">Shifting the Burden Examples</a></li>
</ul>
<h3 id="effective-strategies-7"><a href="#effective-strategies-7">Effective Strategies</a></h3>
<p>Initially I perceived there to be a single appropriate strategy for dealing with this structure though I have found examples, which I will attach as soon as I get them sorted out, which seem support the range of strategies below.</p>
<ul>
<li>Learn to live with the symptomatic solution because that’s as good as it’s going to get. There are situations where there may be more effective solutions though you’ll just never get them implemented in your lifetime. Sad but true. -Implement the fundamental solution because if the symptomatic solution is implemented the strength of the side effect will ensure the fundamental solution will never get any traction.</li>
<li>When dealing with a problem ask yourself if you are treating the symptoms or addressing the real cause of the problem. Often, out of expediency, the symptomatic solution is essential. The most effective strategy for dealing with a Shifting the Burden structure is to employ the symptomatic solution AND develop the fundamental solution. Thus one resolves the immediate problem and the other works to ensure that it doesn’t return.</li>
</ul>
<h3 id="areas-of-concern-7"><a href="#areas-of-concern-7">Areas of Concern</a></h3>
<ul>
<li>It is often the case that the side effect promotes some sort of dependency which further inhibits development of the fundamental solution. For insights into this situation see Addiction Systems Archetype.</li>
</ul>
<h2 id="dependence-on-the-fix-develops"><a href="#dependence-on-the-fix-develops">Dependence on the Fix Develops</a></h2>
<p>An Addiction Systems Archetype is a variation of a Shifting the Burden Systems Archetype in which the side effect results is an addiction to the symptomatic solution. This structure is composed of two Balancing Loops and a Reinforcing Loop. It is a very annoying structure because the two Balancing Loops act as a single Reinforcing Loop migrating the situation in the same direction as the Reinforcing Loop. Both structures cooperate in moving the system in a direction other than the one desired.</p>
<h3 id="causal-loop-diagram-8"><a href="#causal-loop-diagram-8">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-1085.png" />
</div>
<p><a href="http://insightmaker.com/insight/1085">Addiction Causal Loop Diagram</a></p>
<p>It should be immediately evident that this is the same structure as the shifting the burden structure with the Side Effect relabeled as Addiction. The difference in function will be demonstrated below in the stock &amp; flow model.</p>
<h3 id="stock-flow-simulation-8"><a href="#stock-flow-simulation-8">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/1086?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1086">Addiction Stock &amp; Flow Simulation</a></p>
<p>I need to do is figure out how the addiction is different from shifting the burden structure. I think the side effect in shifting the burden may not be a stock whereas addiction is a stock. This was once the problem is solved in shifting the burden there isn’t a residual influence from the side effect whereas in the addiction structure there is a significant residual.</p>
<hr />
<h3 id="exercise-5-9"><a href="#exercise-5-9">Exercise 5-9</a></h3>
<p>I don’t know about this at the moment.</p>
<hr />
<h3 id="examples-8"><a href="#examples-8">Examples</a></h3>
<ul>
<li>in organizations, people firefighting instead of solving the root problems, thereby reducing time available to invest in solving root problems</li>
<li>I’m sure we could easily set up a similar example for short term economical measures that redirect resources from what could fix the economy in the longer term, though any model would probably be controversial.</li>
<li>Wanting to win all the time can be really hard, and to increase your chances of winning, there are two options. One option is to cheat. The other option is to practise all the time and demonstrate a serious commitment to your sport. Whilst cheating is probably easier, it becomes highly addictive (because it doesn’t require much effort) and because of this, the desire to win fairly though practise and commitment to your sport doesn’t happen. Think of what happened to Lance Armstrong. https://dl.dropboxusercontent.com/u/102156844/Loop%20Structures/Lance%20Armstrong%20Shifting%20the%20Burden.jpeg</li>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Addiction">Addiction Examples</a></li>
</ul>
<h3 id="effective-strategies-8"><a href="#effective-strategies-8">Effective Strategies</a></h3>
<ul>
<li>When dealing with a problem ask yourself if you are treating the symptoms or addressing the real cause of the problem. Often, out of expediency, the symptomatic solution is essential. The most effective strategy for dealing with an Addiction structure is dealing with the Addiction AND employment of the symptomatic solution AND development of the Fundamental Solution. This approach resolves the immediate problem and works to ensure that it doesn’t return. Once one becomes addicted an external support system is often necessary to break the Addiction.</li>
</ul>
<h3 id="areas-of-concern-8"><a href="#areas-of-concern-8">Areas of Concern</a></h3>
<ul>
<li>There are currently no known direct derivatives of the Addiction Systems Archetype.</li>
</ul>
<h2 id="trying-to-promote-growth"><a href="#trying-to-promote-growth">Trying to Promote Growth</a></h2>
<p>A Reinforcing Loop is one in which an action produces a result which influences more of the same action, thus resulting in a growth or decline behavior. The Reinforcing Loop is one of the two foundation Systems Archetypes, the other being the Balancing Loop.</p>
<h3 id="causal-loop-diagram-9"><a href="#causal-loop-diagram-9">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-540.png" />
</div>
<p><a href="http://insightmaker.com/insight/540">Reinforcing Loop Causal Loop Diagram</a></p>
<p>You can readily tell a reinforcing structure as there are zero or an even number of balancing influences in the loop. The implication is that the loop results in exponential growth or decline as will be evident in the Stock &amp; Flow model below.</p>
<h3 id="stock-flow-simulation-9"><a href="#stock-flow-simulation-9">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/131?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/131">Reinforcing Loop Stock &amp; Flow Simulation</a></p>
<p>With settings of</p>
<ul>
<li>factor = 1</li>
<li>results = 1</li>
<li>Simulation Length = 10</li>
<li>Time Step = 1</li>
</ul>
<div class="figure">
<img src="05-im-131.png" />
</div>
<p><a href="http://insightmaker.com/insight/131">Reinforcing Loop Causal Loop Diagram</a></p>
<p>The result of this run should be obvious as the value of result at the end of 10 periods is 1,024 or 2^10. Though you might also note that the graph is a bit choppy meaning that the Time Step is probably longer than it should be.</p>
<hr />
<h3 id="exercise-5-10"><a href="#exercise-5-10">Exercise 5-10</a></h3>
<p>You can do various runs with smaller and smaller Time Step size and the answer gets larger and larger. That being the case how would you determine the appropriate Time Step for the model?</p>
<hr />
<h3 id="examples-9"><a href="#examples-9">Examples</a></h3>
<ul>
<li><a href="http://www.systemswiki.org/index.php?title=Category:Reinforcing_Loop">Reinforcing Loop Examples</a></li>
</ul>
<h3 id="effective-strategies-9"><a href="#effective-strategies-9">Effective Strategies</a></h3>
<ul>
<li>If a reinforcing structure is producing a desirable result it is generally referred to as a virtuous cycle. When this happens there is a tendency to ignore it and let it go. This is a mistake as nothing grows forever. When everything is going just the way you want it to that’s the best time to be concerned about how to ensure it continues going the way you want in the future.</li>
<li>When a reinforcing structure is producing an undesirable result it is generally referred to as a viscous cycle. The best way to deal with a viscous cycle is to find a way to break one of the feedback loops so the structure can no longer reinforce itself. Either that or figure out why the viscous cycle is a good thing.</li>
</ul>
<h3 id="areas-of-concern-9"><a href="#areas-of-concern-9">Areas of Concern</a></h3>
<p>The reinforcing structure is one of the simplest structures and seldom ever occurs in isolation from additional influences. As was indicated above, nothing grows forever so there are extensions of this structure to be concerned about. The most prevalent extensions of the reinforcing structure are identified in the following areas of concern.</p>
<ul>
<li>It has been repeatedly indicated that nothing grows forever. What often happens with a reinforcing structure is that there are limits to growth which have not yet kicked in. The best thing to do is look for these before you run into them. For insights into this situation see Limits to Growth Systems Archetype.</li>
<li>Since you can’t create something from nothing, the growth comes with a cost somewhere. Consider whether the growth is limiting growth or creating a decline somewhere else you haven’t quite noticed as of yet. For insights into this situation see Success to the Successful Systems Archetype.</li>
<li>Often the reinforcing nature of this structure is the result of a synergistic relation between two or more individuals, groups, or organizations. When this is the case there is a tendency for the involved parties to take unenlightened action which actually destroys the synergy. For insights into this situation see Accidental Adversaries Systems Archetype.</li>
</ul>
<h2 id="growth-leads-to-decline-elsewhere"><a href="#growth-leads-to-decline-elsewhere">Growth Leads to Decline Elsewhere</a></h2>
<p>As long as A and B are equally successful everything will remain stable. Though if A or B receive more resources than the other or A or B is more successful than the other the imbalance will result in greater success of a or b accordingly and promote even more success of the one that demonstrates greater success.</p>
<h3 id="causal-loop-diagram-10"><a href="#causal-loop-diagram-10">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-552.png" />
</div>
<p><a href="http://insightmaker.com/insight/552">Success to the Successful Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-10"><a href="#stock-flow-simulation-10">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/554?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/554">Success to the Successful Stock &amp; Flow Simulation</a></p>
<hr />
<h3 id="exercise-5-11"><a href="#exercise-5-11">Exercise 5-11</a></h3>
<hr />
<h3 id="examples-10"><a href="#examples-10">Examples</a></h3>
<ul>
<li>balancing two boats http://bit.ly/17CI6sH</li>
</ul>
<h3 id="effective-strategies-10"><a href="#effective-strategies-10">Effective Strategies</a></h3>
<p>There are actually two strategies for dealing with a Success to the Successful situation. - Identify the resource being unequally distributed and balance the distribution. - Disconnect the two reinforcing structures so they are not dependent on the allocation of resources based on their results. While the allocation based on results may initially appear to make sense it might actually be the reason for the results.</p>
<h3 id="areas-of-concern-10"><a href="#areas-of-concern-10">Areas of Concern</a></h3>
<ul>
<li>There are currently no known Systems Archetypes which are derivatives of the Success to the Successful Systems Archetype.</li>
</ul>
<h2 id="growth-slows-over-time"><a href="#growth-slows-over-time">Growth Slows Over Time</a></h2>
<p>A Limits to Growth Systems Archetype consists of a Reinforcing Loop, the growth of which, after some success, is offset by the action of a Balancing Loop.</p>
<h3 id="causal-loop-diagram-11"><a href="#causal-loop-diagram-11">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-550.png" />
</div>
<p><a href="http://insightmaker.com/insight/550">Limits to Growth Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-11"><a href="#stock-flow-simulation-11">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/551?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/551">Limits to Growth Stock &amp; Flow Simulation</a></p>
<hr />
<h3 id="exercise-5-12"><a href="#exercise-5-12">Exercise 5-12</a></h3>
<hr />
<h3 id="examples-11"><a href="#examples-11">Examples</a></h3>
<ul>
<li>Rabbits tend to multiply very rapidly so why is it we’re not completely overrun by rabbits, well maybe everywhere except Australia?</li>
<li>keep playing instead of cleaning up the mess in the room, which makes further play difficult, AND the increased mess repels one from cleaning up.</li>
</ul>
<table>
<col width="2%" />
<tbody>
<tr class="odd">
<td align="left">### Effective Strategies ###</td>
</tr>
<tr class="even">
<td align="left">- The best defense is a good offense. As defined in the effective strategies for the Reinforcing Loop, if there is a Reinforcing Loop operating start looking for what is going to become a limiting factor, and remove it before it even has a chance to create a substantial impact on the result. - If the structure is already at a stage where the limiting factor is interacting with results to limit results the options are: - Alter the limiting factor in such a way that it no longer interacts with the results to create a slowing action. - Find a way to disconnect the results from the slowing action so it can no longer add to it. - Disconnect the slowing action from the results so it can no longer have a negative impact.</td>
</tr>
<tr class="odd">
<td align="left">### Areas of Concern ###</td>
</tr>
<tr class="even">
<td align="left">- There are often multiple limits to deal with which leads to an Attractiveness Principle. - It is possible that limited shared resources are the source of the limiting factor leading to a Tragedy of the Commons. - The limit may be insufficient capacity which leads to Growth and Underinvestment.</td>
</tr>
<tr class="odd">
<td align="left">## Partners for Growth Become Adversaries ##</td>
</tr>
<tr class="even">
<td align="left">The Accidental Adversaries Systems Archetype represents a structure where two entities which would be in a synergistic growth relationship end up limiting each others results because of their own activities.</td>
</tr>
<tr class="odd">
<td align="left">### Causal Loop Diagram ###</td>
</tr>
<tr class="even">
<td align="left"><img src="05-im-163.png" /></td>
</tr>
<tr class="odd">
<td align="left"><a href="http://insightmaker.com/insight/163">Accidental Adversaries Causal Loop Diagram</a></td>
</tr>
<tr class="even">
<td align="left">### Stock &amp; Flow Simulation ###</td>
</tr>
<tr class="odd">
<td align="left"><IFRAME SRC="http://InsightMaker.com/insight/164?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME></td>
</tr>
<tr class="even">
<td align="left"><a href="http://insightmaker.com/insight/164">Accidental Adversaries Stock &amp; Flow Simulation</a></td>
</tr>
</tbody>
</table>
<h3 id="exercise-5-13"><a href="#exercise-5-13">Exercise 5-13</a></h3>
<hr />
<h3 id="examples-12"><a href="#examples-12">Examples</a></h3>
<ul>
<li>Parents can be interesting. Both Mums and Dads want to act as good role models and create a positive family environment, but sometimes, each one of them gets caught up in being seen as ‘’the good parent&quot; and gives in to our whims and desires. We all know how this works: If one parent says ’no’ to something, we just ask the other parent. The problem is that when one or both of our parents wants to be seen as the ‘’good parent,’‘the other one ends up being seen as the ’bad’ or ‘tough’ parent, and the whole ‘good role model’ or ‘good family environment’ disintegrates pretty quickly. https://dl.dropboxusercontent.com/u/102156844/Loop%20Structures/Family%20dysfunctionality%20Accid%20Adversaries.jpeg</li>
</ul>
<h3 id="effective-strategies-11"><a href="#effective-strategies-11">Effective Strategies</a></h3>
<p>This structure points out how myopic local activity, with the best of intentions, can lead to an overall limiting development of the global system, and actually inhibit local development as well. - A and B need to determine whether it is really better to be partners in creating the future or competitors, and do one or the other, not both. At present A and B are neither as they undermine each others success to promote their own success. Sounds like enemies to me. - Alternatively, some higher authority could alter the structure in such a way that A to A and B to B didn’t promote the individual result of A and B. - Another alternative would be to alter the structure in such a way that the result is not measured in terms of A and B individually but in terms of the total result of the two of them together. In this way it should be quite quickly evident that each is undermining their own success through their self-serving actions.</p>
<h3 id="areas-of-concern-11"><a href="#areas-of-concern-11">Areas of Concern</a></h3>
<ul>
<li>There are currently no known Systems Archetypes that are derivatives of the Accidental Adversaries Systems Archetype.</li>
</ul>
<h2 id="limited-resources-are-shared-by-others"><a href="#limited-resources-are-shared-by-others">Limited Resources are Shared by Others</a></h2>
<p>A Tragedy of the Commons situation exists whenever two or more activities, each, which in order to produce results, rely on a shared limited resource. Results for these activities continue to develop as long as their use of the limited resource doesn’t exceed the resource limit. Once this limit is reached the results produced by each activity are limited to the level at which the resource is replenished. As an example, consider multiple departments with an organization using IT resources, until they’ve exhausted IT capacity.</p>
<h3 id="causal-loop-diagram-12"><a href="#causal-loop-diagram-12">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-559.png" />
</div>
<p><a href="http://insightmaker.com/insight/559">Tragedy of the Commons Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-12"><a href="#stock-flow-simulation-12">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/560?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/560">Tragedy of the Commons Stock &amp; Flow Simulation</a></p>
<hr />
<h3 id="exercise-5-14"><a href="#exercise-5-14">Exercise 5-14</a></h3>
<hr />
<h3 id="examples-13"><a href="#examples-13">Examples</a></h3>
<h3 id="effective-strategies-12"><a href="#effective-strategies-12">Effective Strategies</a></h3>
<p>This structure repeatedly appears in organizational contexts where a service organization supports the success of multiple departments who fail to support the service organization in return. There are two strategies for dealing with this structure, one more effective than the other. - The most effective strategy for dealing with this structure is to wire in feedback paths from A’s result and B’s result to the resource replenishment so as A and B use resources their results promotes the availability of additional resources. - The alternate, and less effective, strategy for dealing with this structure is to add an additional resource to control the use of resources by A and B. This strategy limits the overall potential results of the structure to the predefined resource limit. It also adds additional resources to the equation, and probably results in endless disputes as to the fairness associated with the allocation of resources. While not really the most appropriate strategy this is the one most often used — out of ignorance I would suspect. - More ecological approach would be for A and B to realize what they’re doing and collaboratively manage their activity and the resource such that it isn’t depleted. Yes, it could happen.</p>
<h3 id="areas-of-concern-12"><a href="#areas-of-concern-12">Areas of Concern</a></h3>
<p>There are currently no known Systems Archetypes which are derivatives of Tragedy of the Commons.</p>
<h2 id="more-than-one-limit-to-be-addressed"><a href="#more-than-one-limit-to-be-addressed">More Than One Limit To Be Addressed</a></h2>
<p>It’s relatively well understood that you can’t be all things to all people. Somewhere one has to make choices. An Attractiveness Principle Systems Archetype is essentially a Limits to Growth Systems Archetype with multiple limits, all of which can not be addressed equally.</p>
<h3 id="causal-loop-diagram-13"><a href="#causal-loop-diagram-13">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-1115.png" />
</div>
<p><a href="http://insightmaker.com/insight/1115">Attractiveness Principle Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-13"><a href="#stock-flow-simulation-13">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/1117?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1117">Attractiveness Principle Stock &amp; Flow Simulation</a></p>
<hr />
<h3 id="exercise-5-15"><a href="#exercise-5-15">Exercise 5-15</a></h3>
<hr />
<h3 id="examples-14"><a href="#examples-14">Examples</a></h3>
<h3 id="effective-strategies-13"><a href="#effective-strategies-13">Effective Strategies</a></h3>
<ul>
<li>A strong offense is the most effective defense. Being aware that there is a growth situation in effect should induce the insightful to look for limiting factors because they will come into play sooner or later. Once limiting factors are identified steps should be taken to inhibit the limiting factors before they inhibit results.</li>
<li>It is generally the case that limiting factors do not come into play at the same levels of results. As such, one needs to be concerned with the timing of the limiting factors. It makes little sense to inhibit factors before they are about to act as limiting factors.</li>
<li>It is often the case that all the limiting factors cannot be addressed. When this is the case one must decide which ones to inhibit and which ones to live with. If possible the factor promoting the greatest limitations should be eliminated first as it will provide the greatest gain.</li>
</ul>
<h3 id="areas-of-concern-13"><a href="#areas-of-concern-13">Areas of Concern</a></h3>
<p>There are currently no known direct derivatives of the Attractiveness Principle Systems Archetype.</p>
<h2 id="the-limit-is-insufficient-capacity"><a href="#the-limit-is-insufficient-capacity">The Limit Is Insufficient Capacity</a></h2>
<p>A Growth and Underinvestment Systems Archetype is simply an elaborated Limits to Growth Systems Archetype where the growth inhibitor is part of another Balancing Loop with an external standard and some delay. The real nasty thing about this structure is that the two Balancing Loops form a single Reinforcing Loop which inhibits growth.</p>
<h3 id="causal-loop-diagram-14"><a href="#causal-loop-diagram-14">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-1122.png" />
</div>
<p><a href="http://insightmaker.com/insight/1122">Growth and Underinvestment Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-14"><a href="#stock-flow-simulation-14">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/1124?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1124">Growth and Underinvestment Stock &amp; Flow Simulation</a></p>
<hr />
<h3 id="exercise-5-16"><a href="#exercise-5-16">Exercise 5-16</a></h3>
<hr />
<h3 id="examples-15"><a href="#examples-15">Examples</a></h3>
<h3 id="effective-strategies-14"><a href="#effective-strategies-14">Effective Strategies</a></h3>
<ul>
<li>The only effective strategy for dealing with this structure is foresight. One has to study the implications of the Result before the Result actually places demands on the system and develop the slowing action avoidance before it is actually needed. Have you ever noticed that runners seem to be the people that least need to run? It’s because they run.</li>
</ul>
<h3 id="areas-of-concern-14"><a href="#areas-of-concern-14">Areas of Concern</a></h3>
<ul>
<li>It is possible that under pressure the standard may drift and this structure will develop into a Growth and Underinvestment with a Drifting Standard Systems Archetype.</li>
</ul>
<h2 id="there-is-a-tendency-to-let-the-standard-slip"><a href="#there-is-a-tendency-to-let-the-standard-slip">There Is A Tendency To Let The Standard Slip</a></h2>
<p>A Growth and Underinvestment with a Drifting Standard structure is simply an elaborated Growth and Underinvestment structure where the growth inhibitor induces a decline of the standard over time. The real nasty thing about this structure is that the growth inhibitor influence sets up a Reinforcing Loop which even further promotes a drifting of the standard over time.</p>
<h3 id="causal-loop-diagram-15"><a href="#causal-loop-diagram-15">Causal Loop Diagram</a></h3>
<div class="figure">
<img src="05-im-1123.png" />
</div>
<p><a href="http://insightmaker.com/insight/1123">Growth and Underinvestment with a Drifting Goal Causal Loop Diagram</a></p>
<h3 id="stock-flow-simulation-15"><a href="#stock-flow-simulation-15">Stock &amp; Flow Simulation</a></h3>
<IFRAME SRC="http://InsightMaker.com/insight/1126?embed=0&editor=1&topBar=1&sideBar=1&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/1126">Growth and Underinvestment with a Drifting Goal Stock &amp; Flow Simulation</a></p>
<hr />
<h3 id="exercise-5-17"><a href="#exercise-5-17">Exercise 5-17</a></h3>
<hr />
<h3 id="examples-16"><a href="#examples-16">Examples</a></h3>
<h3 id="effective-strategies-15"><a href="#effective-strategies-15">Effective Strategies</a></h3>
<ul>
<li>The only effective strategy for dealing with this structure is foresight. One has to study the implications of Result before Result actually places demands on the system and develop the Inhibitor Avoidance before it is actually needed. Have you ever noticed that runners seem to be the people that least need to run? It’s because they run.</li>
<li>And, in this structure it is essential to ensure that the standard is not diminished by the tension created by the growth inhibitor.</li>
</ul>
<h3 id="areas-of-concern-15"><a href="#areas-of-concern-15">Areas of Concern</a></h3>
<ul>
<li>There are currently no known Systems Archetypes which are based on the Growth and Underinvestment with a Drifting Standard Systems Archetype.</li>
</ul>
<h2 id="summary-3"><a href="#summary-3">Summary</a></h2>
<p>The chapter should explicitly depict the relationships between the structures presented in the previous sections and explain the natural evolution paths for the structures.</p>
<IFRAME SRC="http://InsightMaker.com/insight/538?embed=0&editor=1&topBar=0&sideBar=0&zoom=0" TITLE="" width=950 height=650></IFRAME>

<p><a href="http://insightmaker.com/insight/538">Systems Archetypes Relationships</a></p>
<h2 id="references-3"><a href="#references-3">References</a></h2>
<ul>
<li>Braun, Bill. 2002. The Systems Archetypes. <a href="http://wwwu.uni-klu.ac.at/gossimit/pap/sd/wb_sysarch.pdf">http://wwwu.uni-klu.ac.at/gossimit/pap/sd/wb_sysarch.pdf</a></li>
</ul>
<p>Chapter 6 - Applied Understanding</p>
<h1 id="models-and-truth"><a href="#models-and-truth">Models and Truth</a></h1>
<blockquote>
<p>All models are wrong, but some are useful – George E.P. Box</p>
</blockquote>
<p>A model is a tool designed to reflect reality. A model is never a perfect mirror of reality, but often models can still be useful even given their imperfections. In this chapter, we will take a journey exploring different types of models and distinctions that are commonly used to classify and understand them. We will consider several approaches to modeling that are quite different from the ones we have introduced throughout this book. These will help to understand the richer ecosystem of modeling tools and techniques that exist and how the ones we have learned fit within this ecosystem.</p>
<p>The ultimate destination of this exploration will be a clear understanding of the fundamental principles and approaches used to construct models. There will be many detours that we must make to arrive at this destination, but in the end we will be able to divide models into two overarching categories based on their purposes and the techniques used to construct them. By mastery this divide, and how the work we and others do fits into it, we will obtain a rich perspective and understanding of the relationship between models and truth. We will also have a renewed appreciation for the strength and power of the techniques introduced in this book for tackling a wide swath of modeling problems.</p>
<p>Before we get there, however, let’s introduce some of the terminology that is commonly used to describe models. It is useful to take a step back and first discuss different kinds of models. Modeling is a wide-ranging field with many distinctions made by modelers and mathematicians. Three of these distinctions are presented below:</p>
<h3 id="deterministic-versus-stochastic-models"><a href="#deterministic-versus-stochastic-models">Deterministic versus Stochastic Models</a></h3>
<p>There are two polar opposite views of the world. One view says the fate of the universe is governed by strictly predictable laws of physics. In this view, the universe acts as if it were a giant machine, where if its current state is known (down to each individual atomic particle), its future states through the rest of time are predetermined. The opposite view is that the universe is ruled by chance and randomness. Random quantum mechanical fluctuations merge and amplify leading to an infinite range of diverging possibilities.</p>
<p>Which of these two views holds more of the truth? We certainly do not know and it is possible that this will be a question that physicists will never cease exploring. Albert Einstein had a viewpoint of special interest, however. He was a strong partisan of the more deterministic view, famously remarking, “God does not play dice with the world.”</p>
<p>When creating a model of a system, we must choose how we treat chance. Do we build our model deterministically, such that each time we run it we obtain the same results? Or do we instead incorporate elements of uncertainty so that each time the model is run we may see a different trajectory of outcomes?</p>
<h3 id="mechanistic-versus-statistical-modelsthis-relates-more-broadly-to-the-contrasting-research-approaches-of-induction-and-deduction.-induction-starts-with-data-and-observations-which-are-analyzed-to-create-a-broader-theory-similar-to-a-statistical-approach-to-modeling.-deduction-starts-with-a-theory-and-finishes-with-the-collection-of-data-to-confirm-the-theory-similar-to-a-more-mechanistic-approach-to-modeling.-it-is-easy-to-become-mixed-up-with-the-meanings-of-induction-and-deduction-and-even-great-minds-have-confused-them.-while-sir-arthur-conan-doyles-character-sherlock-holmes-attributes-his-impressive-powers-to-deduction-he-is-actually-using-induction.-treating-what-we-are-calling-statistical-models-here-as-a-form-of-induction-we-can-also-refer-to-them-as-phenomenological-or-empirical-models."><a href="#mechanistic-versus-statistical-modelsthis-relates-more-broadly-to-the-contrasting-research-approaches-of-induction-and-deduction.-induction-starts-with-data-and-observations-which-are-analyzed-to-create-a-broader-theory-similar-to-a-statistical-approach-to-modeling.-deduction-starts-with-a-theory-and-finishes-with-the-collection-of-data-to-confirm-the-theory-similar-to-a-more-mechanistic-approach-to-modeling.-it-is-easy-to-become-mixed-up-with-the-meanings-of-induction-and-deduction-and-even-great-minds-have-confused-them.-while-sir-arthur-conan-doyles-character-sherlock-holmes-attributes-his-impressive-powers-to-deduction-he-is-actually-using-induction.-treating-what-we-are-calling-statistical-models-here-as-a-form-of-induction-we-can-also-refer-to-them-as-phenomenological-or-empirical-models.">Mechanistic versus Statistical Models<sup><a href="#fn1" class="footnoteRef" id="fnref1">1</a></sup></a></h3>
<p>When beginning to build a model of a system, there are many questions you should ask, two of which are:</p>
<ol style="list-style-type: decimal">
<li>Do I know (or have a hypothesis of) the mechanisms that drive the system?</li>
<li>Do I have data that describe the observed behavior of the system?</li>
</ol>
<p>If the first question is answered in the affirmative, you can build a mechanistic model that replicates your understanding (or hypothesis of) the true mechanisms in the system. If, on the other hand, the second question is answered in the affirmative, you can use statistical algorithms such as regressions to create a model of the system based purely on the data.</p>
<p>If neither question is answered affirmatively… well in that case there isn’t much of anything you can build.</p>
<h3 id="aggregated-versus-disaggregated"><a href="#aggregated-versus-disaggregated">Aggregated versus Disaggregated</a></h3>
<p>When building a model, the issue of scale becomes very important. Imagine we are concerned about the effects of Global Climate Change on water resources. We may wish to examine the question of whether there will be sufficient water supplies given a rise in future temperatures.</p>
<p>At what scale do we build this model? The range of possible scales is wide:</p>
<ul>
<li>At the most aggregate, we could estimate total worldwide water demands and supplies into the future.</li>
<li>Maybe that is too coarse a scale, however, as clearly having excess water in Norway has little direct impact on the situation in Egypt. We could instead create a finer resolution model that separately looked at water demand and consumption in each country.</li>
<li>Even that may still be too coarse, maybe we should make our model more granular to look at specific cities or population clusters around the globe.</li>
<li>At the extreme disaggregated level, we might even want to model individual people – all 7 billion of them – and their needs and movements around the world.</li>
</ul>
<p>There is no simple answer to this question of optimal scale. The best choice is highly context-sensitive and depends on the needs of the specific modeler and application.</p>
<h2 id="prediction-inference-and-narrative"><a href="#prediction-inference-and-narrative">Prediction, Inference and Narrative</a></h2>
<p>The three distinctions just presented – deterministic vs. stochastic, mechanistic vs. statistical, aggregated vs. disaggregated – can be used to classify models. We can even use them to classify the models we have discussed in this book. Most of our models would be classified as deterministic (random chance is generally not explicitly incorporated in these models), mechanistic (we generally assume mechanisms rather than estimating dependencies from data), and highly aggregated (the agent based models are an exception).</p>
<p>There are many nuances to these broad distinctions that can also be made (e.g. the type of statistical techniques used for a statistical model) and there are also many other distinctions that can be made between model implementations such as the programming language or software that was used to implement the model. These distinctions and technical choices are important when constructing a model, however what is of key importance is the utility of the model for fulfilling a specific goal.</p>
<p>Technical details matter – they can affect maintainability and other factors – but they are of secondary interest to the adequacy of a model in fulfilling it main purpose. It would make as little sense to say a model was fundamentally bad because it was written in a relatively ancient programming language – like Pascal – as it would be to say a model was fundamentally bad because it was, for instance, deterministic. Let’s look back at Box’s quote at the beginning of this chapter. We know all models are wrong, what we should really care about is their utility in meeting a specific task.</p>
<p>So instead of using the aforementioned technical classifications to discuss models, we think it is more useful to base our discussions of models on the model’s driving purpose. This allows us to leave behind relatively mundane technical and implementation details to focus on what we really care about. Among the many different reasons for building models, they all boil down basically to three broad purposes: prediction, inference and narrative.</p>
<div class="figure">
<img src="Usages.png" alt="Figure 1. Three Usages of Models" /><p class="caption">Figure 1. Three Usages of Models</p>
</div>
<p>Prediction : Models used for prediction are the most straightforward. They attempt to forecast some outcome given information about variables that may influence that outcome. A weather forecast is an example of a model used for prediction. Likewise, when you apply for a credit card at a bank, they run a predictive model to determine your risk of not paying them back what you owe and defaulting. When you apply for life insurance, the company has a model that predicts how long they think you will live in order to determine how much they should charge you. All these models take in data (the current temperature for the weather forecast, the amount of money in your bank account for your risk of default, your age for the life insurance application) and apply various forms of analysis to generate a prediction of the outcome.</p>
<p>Inference : Models used for inference are most common in academic research. Often, academic research questions distills down to this simple template: “Does <em>X</em> affect <em>Y</em>?” These are inferential questions. As an example, a researcher may make a hypothesis statement such as, “The wealthier a high-school student’s family is, then the higher the student’s test scores will be.” The researcher may then build a model to test the validity of this hypothesis and the model’s results will generally be phrased in terms of a <em>p</em> value indicating the statistical significance of the evidence in support of the hypothesis.</p>
<p>Narrative : Models are often used to tell a persuasive story. When the Obama administration wanted to persuade lawmakers and the public to support their economic stimulus, they famously published the graph shown in Figure 2. A great deal of complex modeling and mathematics surely went into constructing this figure. However its core purpose was to tell the nation a story: Things are going to be bad, but the recovery plan will make them less so. Such stories are at the heart of narrative models and we will return to this figure later on and why it is not really a predictive model despite it generating predictions.</p>
<div class="figure">
<img src="Stimulus.png" alt="Figure 2. The Obama Administration’s Predictions for the Effects of the Recovery Plan [@Romer:2009tx]" /><p class="caption">Figure 2. The Obama Administration’s Predictions for the Effects of the Recovery Plan [@Romer:2009tx]</p>
</div>
<p>All models can be classified in terms of these three primary purposes and we will see how useful it is to discuss modeling projects in terms of them<sup><a href="#fn2" class="footnoteRef" id="fnref2">2</a></sup>.</p>
<h2 id="the-strange-case-of-inference"><a href="#the-strange-case-of-inference">The Strange Case of Inference</a></h2>
<p>To help us get at this fundamental classification scheme, let’s first talk for a moment about the process of inference. Take the earlier example of determining whether wealth results in increased high-school test scores. We phrased this hypothesis in a specific way: that increased wealth will always increase test scores. This illustrative statement, however, actually differs from what is often done in practice. In general, researchers simply asks the question “Does <em>X</em> affect <em>Y</em>?” rather than “Does <em>X</em> increase <em>Y</em>?” It’s just a slight difference, but it is a more flexible question that allows for many forms of relationships. For our example, we would ask the question “Does wealth affect tests scores?”</p>
<p>The gold standard to answering questions like this is the controlled experiment. Controlled experiences allow you to develop strong inferences as you can see how a system responds when you hold all variables constant except for the single one you are interested in. For our example, we could imagine an experiment where we took a sample of a thousand families from a school district. When these families’ children enter high school we would randomly select them to be in a “poor” category and the other half to be in a “rich” category. Families in the rich category are given grants of $500,000 a year to spend how they wish while the parents in the poor category are fired from their jobs and have their savings frozen for the duration of the experiment. Once the students graduate from high school, we would compare the scores for the students in the poor and rich categories.</p>
<p>These controlled randomized experiments are considered the ideal approach to answering inferential questions like these as they allow you to truly determine the effect of your variables, in this case wealth. For many types of questions, such experiments can be implemented (for instance does consumption of a new drug help treat a disease). Unfortunately, in general complex social questions are simply impossible to answer with them. We can consider the testing procedure we just imagined to assess the effect of wealth on scores, but it would be impossible and unethical to undertake in a real community. Furthermore, even if you were to implement the experiment as described, the behavior of a family that was poor or wealthy to begin with might very well differ from a family that experiences a sudden change in income.</p>
<h3 id="traditional-model-based-inference"><a href="#traditional-model-based-inference">Traditional Model Based Inference</a></h3>
<p>Given our general inability to undertake ideal controlled experiments, how do we answer inferential questions? The standard way is to collect data and then construct a model enabling us to measure the statistical significance of our hypothesis given the data. Due to history and simplicity, linear regression models are by far the most commonly used type of model today. A linear regression predicts an outcome (<span class="math"><em>Y</em></span>) based on the multiplication of variables (<span class="math"><em>X</em></span>’s) by a set of coefficients determining the effect of the variables on the outcome (<span class="math"><em>β</em></span>’s):</p>
<p><br /><span class="math"><em>Y</em> = <em>β</em><sub>0</sub> + <em>β</em><sub>1</sub> × <em>X</em><sub>1</sub> + <em>β</em><sub>2</sub> × <em>X</em><sub>2</sub>. . . </span><br /></p>
<p>For the education example we could collect data on a number of students, measuring their families’ wealth (<span class="math"><em>X</em><sub>1</sub></span> in the equation above) and the student’s test scores (<span class="math"><em>Y</em></span>). We would then run the linear regression to determine the coefficient values (<span class="math"><em>β</em><sub>0</sub></span> – the intercept – and <span class="math"><em>β</em><sub>1</sub></span> – the effect of wealth on test scores). If we thought there were other factors that affected test scores, we could measure them and include them as addition <span class="math"><em>X</em></span>’s in the regression.</p>
<p>In addition to obtaining the values of these coefficients, we also obtain as a result from the regression the statistical significances or “<span class="math"><em>p</em></span> values” of these coefficients. Although <span class="math"><em>p</em></span> values are commonly used in statistics, they are ubiquitously misunderstood<sup><a href="#fn3" class="footnoteRef" id="fnref3">3</a></sup> so it is useful to briefly review them.</p>
<p>In short a <span class="math"><em>p</em></span> value measures the probability of seeing the measured data (or more extreme data) assuming the null hypothesis is true. Generally the null hypothesis will be that there is no relationship between the variables and the outcomes.</p>
<p>When assessing the significance of coefficients, a <span class="math"><em>p</em></span> value means the probability of seeing that value of a coefficient (or one even further from 0), assuming that the (unknown) truth is that the coefficient actually has a value of 0. In other words, it is the probability of seeing the observed non-zero value, assuming that the true value is in fact 0. Frequently, probabilities of 10%, 5% or 1% or smaller are taken as indicating statistical significance. These low values indicate that the coefficient value is so far from 0, and the probability of this occurring by chance so small, that we can reject the null hypothesis and accept the fact that the coefficient is not 0.</p>
<p>Using the <span class="math"><em>p</em></span> values enables inference by relying on the statistical significance of the coefficients. If the probability of <span class="math"><em>β</em><sub>1</sub></span> (the coefficient for the effect of wealth) occurring due to chance (given it is 0 in reality) is less than, say 5%, we can claim with reasonable strength that wealth does in fact affect test scores. This is the standard approach researchers take to model-based inference and is used ubiquitously.</p>
<h3 id="a-troubled-sea-of-assumptions"><a href="#a-troubled-sea-of-assumptions">A Troubled Sea of Assumptions</a></h3>
<p>Let’s stop for a second and consider what we have done here. In carrying out these logical steps to apply model based inference to determine whether wealth affects test scores, we have had to make one very large assumption: that the relationship between test scores and wealth is linear.</p>
<p>Our linear regression equation assumes that for every increase in one unit of wealth (<span class="math"><em>X</em><sub>1</sub></span>), test scores (<span class="math"><em>Y</em></span>) will increase on average by the amount of the coefficient (<span class="math"><em>β</em><sub>1</sub></span>). What if this were not in fact the truth? For instance, we could easily imagine the case where wealth initially helped test scores by providing students more resources and opportunities to learn. After a certain point, however, wealth might negatively impact scores as very wealthy students might lack the pressure or motivation to study hard.</p>
<p>If we believed this were the case, then our linear regression model from earlier would be wrong as would the inferences we obtained from the model. We could correct our model and inferences by changing our regression formula to contain a squared term that could replicate this type of relationship:</p>
<p><br /><span class="math"><em>S</em><em>c</em><em>o</em><em>r</em><em>e</em> = <em>β</em><sub>0</sub> + <em>β</em><sub>1</sub> × Wealth + <em>β</em><sub>2</sub> × Wealth<sup>2</sup></span><br /></p>
<p>Using this equation, at low values of wealth the <span class="math"><em>β</em><sub>1</sub> × Wealth</span> term will have the most effect on scores. Conversely, at high levels of wealth, the <span class="math"><em>β</em><sub>2</sub> × Wealth<sup>2</sup></span> term will have the most effect on scores. Thus by having a positive <span class="math"><em>β</em><sub>1</sub></span> and a negative <span class="math"><em>β</em><sub>2</sub></span> we can model wealth as having an initially beneficial and then detrimental effect. If our assumptions about the quadratic relationship are correct, then this model will yield accurate inferences. If they are wrong, our inferences will be wrong again.</p>
<p>What are we really doing when we assume regression forms like this? Now it might not be immediately obvious, but what we are in fact doing is telling a story. Using our first equation, we are telling the story that as wealth increases test scores will almost always increase. Bill Gate’s children will preform amazingly well here! Using the second equation we are telling a different story: As wealth increases test scores initially do as well but after a certain point increased wealth will hurt test scores. That picture isn’t so rosy for the Bill Gates of the world!</p>
<p>And so we arrive at a key insight. By choosing our equations to tell a story, our inferences are in fact based on narrative modeling approaches. True, these inferences build upon numerous calculations and very advanced theoretical underpinnings, but ultimately what governs our conclusions and inferences are the stories or narratives we tell about our system. These are choices that we as narrators make and they not determined by an objective truth or reality.</p>
<h3 id="predictive-inference"><a href="#predictive-inference">Predictive Inference</a></h3>
<p>Is there an alternative approach to inference that does not rely so heavily on narrative? Can we accomplish it without assuming the relationships between variables? The answer is yes. Although they are not often used, alternative prediction-based approaches to inference are available. In these approaches, rather than calculating statistical significances as a function of an assumed model, we calculate significances as a function of the simple question: “Does knowing <em>X</em> help us to predict <em>Y</em>?” This question is effectively identical to our earlier question – “Does <em>X</em> affect <em>Y</em>?” – but it is structured in an explicitly predictive manner. If the answer to the question is true, then we can say that there is a relationship between <em>X</em> and <em>Y</em>.</p>
<p>The techniques to accomplish prediction-based inference are much newer than classic techniques as linear regression as they rely upon extensive computing power and would not be possible without modern technology. One of these approaches is the <em>A3</em> method (XXX Citation) which uses resampling based algorithms to obtain estimates of predictive accuracy and statistical significance. <em>A3</em> focuses purely on predictive accuracy of a model to determine whether a variable is significant and often requires the automatic exploration of hundreds or thousands of competing models to find the one that best describes the data. The results of these analyses are inferences that are founded in the data of model fits only, not on subjective assumptions.</p>
<h2 id="predictive-versus-narrative-modeling"><a href="#predictive-versus-narrative-modeling">Predictive versus Narrative Modeling</a></h2>
<p>As we can see, inferential techniques can be split into two categories: those based on narrative modeling methods and those based on predictive modeling methods. So – and this is a key advance – although there three categories of model purposes – prediction, inference, and narrative – there are only two fundamental approaches to constructing models: predictive modeling and narrative modeling.</p>
<p>This divide is not traditionally used in the modeling field, but it is truly at the heart of modeling. Understanding the distinction between these two types of modeling proves below to be much more valuable than mastering fine technical details. The choice of whether to build a predictive or a narrative model is a fundamental one that shapes every aspect of a model and determines its ultimate utility for a specific purpose. The following sections will describe these two types of models in more detail.</p>
<h3 id="predictive-models"><a href="#predictive-models">Predictive Models</a></h3>
<p>How do we define a predictive model? The naive answer is that a predictive model is one that makes predictions. If a model generates predictions for a future outcome or a given scenario, than it must be a predictive model. By this definition, a weather forecast is a predictive model as were the Obama administration’s unemployment predictions we saw earlier.</p>
<p>Unfortunately, this straightforward definition is useless. Worse than being useless, it is actually quite dangerous.</p>
<hr />
<p>Let us propose a model for next year’s unemployment figures in the United States:</p>
<blockquote>
<p>Generate a random number from 0 to 1. If the number is less than 0.1, unemployment will be 20%. If the number is greater than or equal to 0.1, unemployment will be 0%.</p>
</blockquote>
<p>There, we have just constructed a model of unemployment. Furthermore, our model creates predictions. With just a few calculations we can forecast unemployment for the coming year. Isn’t that convenient?</p>
<p>Of course, this model is a joke. It is useless in predicting unemployment. However, using the naive definition of what it means to a predictive model, it would be classified as one.</p>
<p>What makes this simple model, such a poor model for prediction purposes?</p>
<p>There are several answers. We might start by saying it is too <em>simple</em>. If we are really trying to predict unemployment we should incorporate the current economic state and trends into our model. If the economy is improving, unemployment will probably drop and vice versa. This is a valid point. Let’s address it by proposing an “improved” model:</p>
<blockquote>
<p>Generate a random number from 0 to 1. If the number is less than the percentage change in GDP over the past year, unemployment will be 20% plus the current unemployment rate. If the number is greater than or equal to 0.1, unemployment will be the net change in the consumer price index over the past 8 years.</p>
</blockquote>
<p>Is this a better model? Clearly, it is more complex than the previous one and it incorporates some relevant economic data and indicators. Equally as clear, however, is that it is also a joke far from being a useful model.</p>
<p>These toy economic models show that just generating predictions is not a helpful criterion to define a predictive model. They also show that complexity and the use of relevant data is not a valid criterion. So how do we specify a predictive model? The answer is straightforward:</p>
<blockquote>
<p>A predictive model is a model that not only creates predictions but also must contain an <em>accurate assessment of prediction error</em>.</p>
</blockquote>
<p>Read that statement again. The key point is that the assessment of prediction error must be accurate, which is different from the accuracy of the predictions themselves. Of course, ideally the predictions will be accurate; however this is often not possible. Many systems are governed to a significant extent by chance and no model, no matter how good it is, will be able to create accurate predictions for the systems.</p>
<p>If you know the level of prediction error, you can instead contextualize poorly fitting models. You can determine how much to discount their predictions in your decision-making and analysis. Furthermore, and this is crucial, you can compare different predictive models. If your current model is insufficiently accurate, you can develop another one and objectively test it to determine whether it is better than the current model.</p>
<p>Without measures of predictive accuracy, discussing predictions or comparing models that create predictions is an almost nonsensical endeavor. Such discussions will be governed by political concerns and partisanship as there is no objective foundation on which to base them.</p>
<p>Our two proposed models to estimate unemployment are thus clearly not predictive as no estimate of predictive error has been established. We can apply same this requirement to Obama’s employment predictions we saw earlier. When we first presented the model, we called it a narrative model, which might have been slightly perplexing as the model did generate predictions. However, using our above definition of a predictive model we can see also that it is in fact not a predictive model. The model contains no estimate of prediction error (and one is not available in the original report) so it simply cannot be considered to be predictive.</p>
<p>If accurate estimates of prediction error are available, you can directly compare the prediction errors between different models to select the one with the lowest error. We could estimate prediction errors for the two joke models we proposed here along with the Obama administration’s model to find the one with the lowest error. We would hope that the one the Obama administration presented to Congress would be the most accurate. Before we test it however, we must not make the error of fallaciously accepting a model to be good based on who presented it to us or its complexity.</p>
<p>Why do we so rarely hear about the predictive accuracy of models? There are numerous reasons but they boil down to three basic ones:</p>
<ol style="list-style-type: decimal">
<li>Assessing prediction error accurately is quite difficult.</li>
<li>Sharing prediction error may perversely decrease an audience’s belief in a model.</li>
<li>Most models people use for prediction are in reality narrative models and their predictive error is either abysmal or irrelevant.</li>
</ol>
<p>Let’s look at each point in detail. First consider the issue of the difficulty of assessing prediction error. In general, obtaining an accurate assessment of prediction error is much more difficult than developing the predictions themselves. Most commonly used approaches (for instance the standard <span class="math"><em>R</em><sup>2</sup></span> from linear regression) have significant flaws. There are both theoretical and numerical methods that can be used to make more accurate prediction errors in many cases (this will be discussed further in the section the Cost of Complexity; see also @FortmannRoe:2012tf). When dealing with time series data, however, like most of the models explored in this book, it is often almost impossible to accurately assess model prediction error. Recently, theoretical technique to approach these issues have just begun to be developed (e.g. @He:2009jp or @King:2008jq) but they are still impractical to apply in many cases so far.</p>
<p>If the challenge of measuring prediction error is surmounted, there is an even more formidable barrier to its being published with the model. There is a perverse phenomena that the act of reporting prediction error can <em>decrease</em> the confidence an audience gives a model. An anecdote was relayed to us by a member of a team working on a model of disease spread. His team shared the predictions from the model with a group of policy-makers. Everything was going fine until the audience saw the error bars around the predictions. Where his audience had been content with the raw predictions, they were quite unhappy with the predictions when accompanied by their accurately estimated uncertainties. Why was this? Was the team’s model particularly bad or did these policy-makers have a better model at their disposal? No. In a world where policy-makers and clients are constantly shown models (like Obama’s unemployment figures) with no measure of uncertainty (or even worse, poorly calculated, artificially low uncertainty), they come to have unrealistic expectations and often turn away good science in favor of magical thinking.</p>
<p>Finally, the most likely reason supposedly predictive models do not include prediction error is that they simply are not predictive. We have seen how models developed for a purportedly predictive purpose can actually be narrative models in disguise. Just why is this too often the case? You need only look at the reason for most modeling projects. It is very rare that models are commissioned solely for the purpose of generating an accurate prediction. Frequently, models are part of some political process within an organization or across them (whether an organization be a for-profit company or a non-profit such as a university). Ultimately, the people funding the model expect it to prove a point to their benefit. In environments like these, it is to be expected that some predictive modeling efforts will be sidetracked by political concerns or compromised in the process.</p>
<p>We can see the results of such influences in the predictions generated for unemployment presented earlier. Figure 3 shows the projections for the unemployment rates with and without the stimulus plan just as in Figure 2. Overlaid on this are now the true values of unemployment the occurred after the predictions were made. As is readily evident, the original modeling and predictions were well off the mark. Not only was reality worse than the projections assuming the stimulus was enacted (which it was) it is much worse than the projections for the economy assuming the stimulus had never been enacted at all! This is just a small example – one that is sadly replicated over and over again in business and policy-making – of mistakenly treating a narrative model as a predictive one.</p>
<div class="figure">
<img src="StimulusAndReality.png" alt="Figure 3. Unemployment predictions versus reality [@TheHeritageFoundation:2013vu]" /><p class="caption">Figure 3. Unemployment predictions versus reality [@TheHeritageFoundation:2013vu]</p>
</div>
<h3 id="narrative-models"><a href="#narrative-models">Narrative Models</a></h3>
<p>In contrast to predictive models, a narrative model is one built to persuade by telling a story. When many people first hear the “narrative” terminology, they respond negatively. “It’s just a story.” We find this strange, as narratives are the fundamental human form of communication. We tell narratives to our friends and relatives. Politicians communicate their policies to us using narratives. Of course the vast majority of our entertainment is focused on narratives<sup><a href="#fn4" class="footnoteRef" id="fnref4">4</a></sup>. Business leaders and managers attempt to describe their strategies to us using story lines; and business books are in general dominated by anecdotes plotted along the way to making their points.</p>
<p>We as a species do not view the world as a collection of numbers and probabilities; instead we see consequence and meaning. In short, narratives are how we see the world.</p>
<p>One critique of the term narrative is that it lacks numbers, quantified data, or mathematics. This could not be further off the mark. There are many ways to construct narratives. Words are one, pictures are another, and music is a third. Numbers and mathematics are just another way of telling a story.</p>
<p>In fact, most statistical and mathematical models are infused with narrative models. We looked earlier at the case of linear regression as a tool to predict test scores as a function of wealth. Again the mathematical equation for this simple model was:</p>
<p><br /><span class="math"><em>S</em><em>c</em><em>o</em><em>r</em><em>e</em> = <em>β</em><sub>0</sub> + <em>β</em><sub>1</sub> × <em>W</em><em>e</em><em>a</em><em>l</em><em>t</em><em>h</em></span><br /></p>
<p>This equation defines a narrative. Translating this narrative into words, we would say:</p>
<blockquote>
<p>Test scores are only determined by the wealth of a student’s family. A child whose family is broke will have a test score, on average, of <span class="math"><em>β</em><sub>0</sub></span>. For every dollar of wealth a child’s family accumulates, the child will score, on average, better on tests by <span class="math"><em>β</em><sub>1</sub></span>.</p>
</blockquote>
<p>You might or might not agree with this storyline (in our view it is a nonsensical and reductionist view of child achievement) but it shows the strict equivalence between this mathematical narrative and narrative prose. This process can be applied to all mathematical models. The mathematical definition of the model can be converted directly, with more or less lucidity, into a story describing how the system operates. The same can also be done in the reverse: we can take a descriptive narrative of a system and convert it into a mathematical description. As we have seen (will see? XXX) this is what tools like reference modes and pattern matching are designed to do efficiently: elicit a narrative from a subject in a way which can be reformulated quantitatively.</p>
<p>The question of how to assess the quality of a narrative model is an important one. With predictive models, we can compare competing models based primarily on predictive accuracy<sup><a href="#fn5" class="footnoteRef" id="fnref5">5</a></sup>. But how do we evaluate and compare the quality of narrative models?</p>
<p>The key criterion in assessing a narrative model is its ability to be <em>persuasive</em>. Although persuasion is not an objective measure in the same sense prediction accuracy is, we can decompose persuasiveness into two components for our purposes: believability and clarity. A persuasive model is one that is both believable and effectively communicates its message.</p>
<p>When building a narrative it is very important to use tools that are well suited to meeting these components. Unfortunately, many statistical models, including regressions, are poorly suited to this two-fold task in many ways. Most statistical models depend on unrealistic and highly technical assumptions about the data. If these assumptions were enumerated in plain English, they would often conflict with people’s understanding and in fact end up discrediting the model. The “alternative” has been to leave these assumptions hidden creating a black box model opaque to outside inspection.</p>
<p>This is a shame in our view. Such a stratagem can be successful if the authority presenting the model is prestigious enough. But the misdirection will quickly fail if any kind of rigorous scrutiny is applied to the model. Narrative models should never be given any real credence if the operation of the model is not transparent. Most statistical models are built on assumptions that are never made transparent to the audience.</p>
<p>The modeling techniques presented in this book, on the other hand, are well suited for narrative modeling. The techniques we present are “clear box” modeling where the workings of the model are transparently evident and accessible. Our models have their structure explicitly described using an accessible modeling diagram showing the interactions between the different components in the model. The equations governing the model’s evolution are clear and readily available for each part of the model<sup><a href="#fn6" class="footnoteRef" id="fnref6">6</a></sup>. Furthermore, these modeling techniques used here make it straightforward to generate animated illustrations and displays to clearly communicate model results.</p>
<h2 id="synthesis"><a href="#synthesis">Synthesis</a></h2>
<p>Now that we have thoroughly described the concepts of narrative and predictive models we can conclude this chapter by taking a step back and reemphasizing that these two categories do to represent specific modeling techniques. You can build a stock and flow model to tell a story about a system resulting in a narrative model. If your story of the system accurately represents how the system operates in reality, then you will also have a model that generates accurate predictions.</p>
<p>Similarly, you can apply a linear regression to a dataset. If the relationship in the data is truly a completely linear one, then the result of this regression will be the most accurate predictive model you could build. On the other hand, if you do not assess the predictive accuracy of the model and just use a linear regression because it is easy to interpret or because it matches you understanding of reality, then you have a narrative model.</p>
<p>The key criteria to remember when building your own models or assessing other peoples models is that a predictive model is one for which you have an accurate assessment of the errors of the predictions. A good predictive model is one that has low relative errors when compared to other predictive models for the same system. A narrative model is one that tells a story about the system. A good narrative model is one that persuades an audience that its story is credible.</p>
<h1 id="building-confidence-in-models"><a href="#building-confidence-in-models">Building Confidence in Models</a></h1>
<p>When used correctly, the transparency of the modeling techniques presented in this book results in models that are powerful persuasive tools. As with any model, however, there are concerns and questions will invariably be raised which could cause users to doubt the result of the modeling work. There are a number of techniques that you can use to help preemptively address these concerns and increase an audience’s confidence in your model.</p>
<p>The idea of building confidence in a model is closely tied to the standard concept of model verification and validation. We dislike this conceptual approach to assessing models as it seems to imply that a model can go through a process to get a big fat “VALID” or “VERIFIED” stamp on it. Returning to Box’s quote that “all models are wrong, but some are useful”, in reality all models are wrong and none of them are completely valid, period. Models can however be useful, especially narrative models in which the audience has confidence.</p>
<p>We favor the conceptual approach put forth by @Forrester:1978vy, that there is not any single test or suite of tests that will verify or validate a model and that validity should instead be thought of as a function of confidence. This is a view that differs from that held by some modelers and laypeople. As Forrester and Senge note, “the notion of validity as equivalent to confidence conflicts with the view many seem to hold which equates validity with absolute truth.” We share their belief that model confidence is built up piece by piece from a variety of tests that, though they cannot prove anything, together comprise a persuasive case for the quality of a model.</p>
<p>There are three distinct areas where confidence needs to be developed:</p>
<ol style="list-style-type: decimal">
<li>That the model itself is well designed.</li>
<li>Given a design of the model, this design is implemented correctly.</li>
<li>The conclusions drawn from the model are accurate.</li>
</ol>
<p>In the remaining sections of this chapter we will look at each of these different areas in detail. We will explore the different tests and tools that can be used to build confidence for each area.</p>
<h2 id="model-design"><a href="#model-design">Model Design</a></h2>
<p>Fundamentally the design of a narrative model is of utmost importance and needs to be justified to an audience<sup><a href="#fn7" class="footnoteRef" id="fnref7">7</a></sup>. There are two primary aspects to a model’s design design: the structure of the model and the data used to parameterize the model.</p>
<h3 id="structure"><a href="#structure">Structure</a></h3>
<p>The structure of the model should mirror the structure of the system being simulated. Depending on the system complexity, the model structure may need to carry out more or less aggregation and simplification of this reality. Nevertheless, all the primitives in the model should map on to reality in a way that is understandable and relatable to the audience. Thus if there is some object in the real system that behaves as a stock, a stock should exist in the model mirroring the object’s position within the system. The same should hold true with the other primitives in the model. Each primitive would ideally be directly mappable onto a counterpart in the real system and any key component in the real system should be mappable onto primitives in the model. Furthermore, feedback loops that exist in the system should exist within the model. These feedback loops should be explicitly identifiable in the model and would ideally be called out or marked in a way that highlighted their presence to an audience.</p>
<p>Furthermore, the model structure should include components that an audience thinks are important drivers of the system. Missing a factor that the audience considers to be a key driver can fatally discredit a model in an audience’s mind irrespective of the performance or other qualities of a the model. This is true even if the factor has in fact a negligible effect. Generally speaking, it is much easier to include a factor an audience views as important than it is to later on convince the audience that the factor does not in actuality matter.</p>
<h3 id="data"><a href="#data">Data</a></h3>
<p>The more a model uses real-world data, the more confidence an audience will have in the model. Ideally, you have empirical data to justify the value of every primitive in your model. In practice, such a goal may be a pipe dream. Indeed, for a complex model, obtaining data to parameterize every aspect of it is usually impossible<sup><a href="#fn8" class="footnoteRef" id="fnref8">8</a></sup>. When faced with model primitives that do not have empirical data to parameterize them, an approach must be taken to ensure that it does not appear that their values were chosen without justification or to arrive at a predetermined modeling conclusion. Sensitivity testing, as discussed later on, is one way to achieve this. Another is to carry out a survey of experts in the field in order to solicit a set of recommended parameter values that can then be aggregated or used to justify the ultimate parameterization.</p>
<h3 id="peer-review"><a href="#peer-review">Peer-Review</a></h3>
<p>Going through a peer-review process can be extremely useful in establishing confidence in a model. Two general types of peer-review are available. In one, the model may be incorporated into an academic journal article and submitted for publication. The article will then peer-reviewed by generally two or three anonymous academics in the field who critique it and judge whether or not it is a worthy contribution to the literature, thus meriting publication. In the second type of peer-review, a peer-review committee may be assembled (hired) to review a specific model and provide conclusions and recommendations to clients.</p>
<p>Peer-review can be very useful in establishing the credibility of a model. A credible model is a model one can be more confident in, other things being equal. By engaging an independent group of exports to assess the model, their conclusions about its quality have the appearance of greater validity than those of the self-interested modelers<sup><a href="#fn9" class="footnoteRef" id="fnref9">9</a></sup>. This can be especially useful when trying to meet some abstract standard such as that the model represents the “best available technology” or the “best available science”.</p>
<p>A key risk of a peer-review is, of course, that the peer-review members will find a model deficient in important respects. Good criticism can be very useful and help improve a model. However, some criticism received in practice may be nitpicking details or detrimental advice that would make the model worse if followed.</p>
<h2 id="model-implementation"><a href="#model-implementation">Model Implementation</a></h2>
<p>Although it is not as much a lightning rod as is model design, the implementation of a model specification is a point where significant error can occur. Programming mistakes or mistyped equations can introduce bugs into a model that can be hard to identify later on. This is a particular problem in black-box models but it is still an important point to consider for all types of models including those presented in this book. Fortunately, a number of steps can be taken to ensure the model is implemented correctly.</p>
<h3 id="primitive-constraints"><a href="#primitive-constraints">Primitive Constraints</a></h3>
<p>For many of the primitives in the model, there will be natural constraints. For instance, a stock representing the volume of water in a lake can never fall below 0. Similarly, if a variable represents the probability of an event occurring, it must be between 0 and 1.</p>
<p>Often these constraints are implicit without being formally specified in the model. A modeler may think, water volume can never become negative so why would I need to specify it? However, the existence of these constraints provides an opportunity to implement a level of automatic model checking. By specifying that a primitive can never go above or below a value (using the <span class='attribute'>Max Value</span> and <span class='attribute'>Min Value</span> properties in Insight Maker), you can create in effect a canary in the coal mine that warns if something is wrong in the model. If these constraints are violated an error message can be given letting you know that you need to correct some aspect of your model.</p>
<p>This concept of constraints in models is similar to the concept of “contracts” which are support in some programming languages. These contracts define and constrain the interaction between different parts of the program causing an error to be generated if the contract is violated. The Eiffel programming language probably has the best support for this approach to development.</p>
<h3 id="unit-specification"><a href="#unit-specification">Unit Specification</a></h3>
<p>Since we introduced units in Chapter 3, we showed that they could be a useful tool in constructing models. Units can also be used to ensure that equations are entered correctly. If you fully specify the units in a model, many types of equation errors will result in invalid units, which will create an immediate error. By employing units in your model you can automatically catch a whole class of errors and mistyped equations.</p>
<h3 id="regression-tests"><a href="#regression-tests">Regression Tests</a></h3>
<p>Other tests than those specified above can be developed. For instance, the proper behavior of one part of the model may be determined and automated tests created to periodically confirm that the model continues to exhibit the correct behavior. Development of such tests are a common part of software engineering that we wish would see more use in model development. Insight Maker itself has a suite of over 1,000 individual regression tests that automatically test every aspect of its simulation engine.</p>
<p>In regards to regression testing, it is important to ensure these tests are automated. It is not enough to examine a portion of the model, determine it is currently working correctly, and leave it at that. The problem is that future changes may break the existing functionality (i.e. a “regression”, the introduction of an error or reduced quality compared to an earlier version of the model). Especially for complex models, a change in one part of the model may have an unexpected effect in another part. By implementing a set of automatic checks, you can protect your model against unintended changes and regressions.</p>
<p>George Oster and his class XXX</p>
<h3 id="a-second-pair-of-eyes"><a href="#a-second-pair-of-eyes">A Second Pair of Eyes</a></h3>
<p>That is not to say, however, that spot and point-in-time checks are not worthwhile. It can be very useful to have a second modeler review your models and cross-check the equations. This helps not only to check simple mistakes but also to question and critique the fundamental structure and choices of the model.</p>
<p>The gold standard in verifying that a model is implemented correctly according to specification is to have a second modeler completely reimplement the model according to that specification. Such reimplementation should ideally occur without access to the original model’s code base to ensure that the second modeler does not simply copy bugs from the original model into the reimplementation. If the results from the two implementations concur, that is strong evidence that the model has been implemented correctly. Although potentially an expensive exercise, it will also most likely identify numerous ambiguities in the specification, which could be valuable in and of itself.</p>
<h2 id="model-results"><a href="#model-results">Model Results</a></h2>
<p>Given that the design of the model and its implementation are assumed to be correct, the burden still falls upon the modeler to transfer her confidence in the model’s results to her audience. There are several different ways this can be done.</p>
<h3 id="expected-results"><a href="#expected-results">Expected Results</a></h3>
<p>The first way is to demonstrate that the model generates expected results for normal inputs. For instance, if you had a model a reservoir, you would expect the volume of the reservoir to decline over time during the summer due to evaporation if no more water flowed into it. You can additionally test extreme scenarios and show that they generate the expected results. If, for example, your reservoir were empty, you would expect the amount of water evaporating from it to be zero. By enumerating these standard cases and showing the model results match the expected results you can help build confidence in the model.</p>
<p>Often these expected results can be described in terms of a curve showing how the values of one of the stocks or variables in the system is expected to change over time. This curve can be taken from historical data (a reference behavior pattern), or simply drawn on a piece of paper by experts familiar with the system (an excepted behavior pattern).</p>
<h3 id="counterintuitive-results"><a href="#counterintuitive-results">Counterintuitive Results</a></h3>
<p>Another attempt to increase confidence in a model is to show unexpected results that are justifiable. Imagine a model that for a certain set of inputs would create what, at first glance, appeared to be the “wrong” behavior. Some lever in the model could lead to unexpected results. When first shown these results, they could decrease an audience’s confidence in the model. If the audience was then walked through the model step by step to show how those results proved to be correct and mirrored reality, then that could well increase their confidence in the model results.</p>
<h3 id="forecasting"><a href="#forecasting">Forecasting</a></h3>
<p>Possibly the most persuasive action to convince an audience of the effectiveness of a model is to forecast the future and then to show this forecast to be correct. This, of course, is difficult to do in practice for multiple reasons including the fact that the scale of a model is often such that it could take several years or decades to generate data to test the model. Additionally, it must be remembered that most narrative models are poor predictors and should not be used for predictive purposes solely.</p>
<h3 id="sensitivity-testing"><a href="#sensitivity-testing">Sensitivity Testing</a></h3>
<p>Sensitivity testing is a broad field that has the potential to address many questions and doubts that may arise about a model. In general, the variables and numeric configuration values in a model will never be known with complete certainty. When the results from an election poll are published, the pollsters publish not only their predictions but also the uncertainty in the prediction (e.g., “the Democratic candidate will obtain <span class="math">52% ± 3%</span> of the vote”). Similarly when a building is constructed, the materials used will have certain properties – such as strength – that again are only known up to some errors or tolerance. It is the engineer’s and contractor’s responsibilities to ensure that the materials are sufficient even given the uncertainty of their exact strengths.</p>
<p>The same occurs when modeling. Most primitive values in the model will have to be estimated by the modeler and there will be an error associated with these values. Of course the error will also be propagated through the model when it is simulated and affect the results generated by the model. This error is one factor that can create doubt about a model and reduce an audience’s confidence.</p>
<p>As a modeler, one approach to address this doubt would be to try to measure all the model’s variables with great accuracy. You could search the available literature, undertake a meta-analysis of current results, carry out new experiments, and survey experts to get as precise a set of parameter values as possible. If you were able to say with strong certainty that these values were so accurate and the errors so small that their effect on the results in negligible, then that would be one way of addressing the issue of uncertainty.</p>
<p>However, all of this is often impossible to do. When dealing with complex systems it is almost always the case that at least a couple variable values will never be known fully with certainty. In this case, no matter how much research or experiments you do, you will never be able to pin down the precise values of these variables. How do we handle these cases?</p>
<p>The answer is straightforward: Rather than trying to eliminate the uncertainty, we embrace it by explicitly including it in the model. If you can then show that the results of your model do not significantly change even given the uncertainty, you have a persuasive case for the validity of your results. Of course the results will always change when the uncertainty is introduced, but if the model conclusions persist even in the face of this uncertainty it will greatly increase your audience’s confidence in the results.</p>
<p>Uncertainty can be explicitly integrated into a model by replacing constant primitive values with a construct that represents the uncertainty in that value. Imagine you had a simple population model of rabbits in a cage. You want to know how many rabbits you will have after two years. However, you don’t know how many rabbits there initially are in the cage. You have been told that there are probably 12 rabbits, but the true number could range anywhere from 6 to 18.</p>
<p>If you model your population as a single stock, what should the initial value be? A naive model could be built where you the initial value of the rabbit stock was specified as 12. However, that does not incorporate the uncertainty and could be a source of criticism or doubt for the model. An alternative would be to specify that the initial value of the stock is a random number with a minimum value of 6 and a maximum value of 18. So each time you run the model you will get a different result. If you ran the model once, the initial value might be chosen to be 7 and you would obtain one result. If you ran the model again, the initial value might be 13 and you would get another result.</p>
<p>If you run this stochastic model many times, you obtain a range of results. These results can be automatically aggregated to show the range of outputs. For instance if you ran the model 100 times you could see what the maximum and minimum final populations were. This would give you a good feeling for how many rabbits you needed to prepare for after two years. In addition to the maximum and minimum you might be interested in the average of these 100 runs: the expected number of rabbits you would see. You could also plot the distribution of the final population sizes using a histogram to see how the results are distributed. This distribution would show how sensitive the outputs are to the uncertainty in the inputs: a form of sensitivity testing.</p>
<div class="figure">
<img src="Distributions.png" alt="Figure 1. Common Distributions for Sensitivity Testing with Sample Parameter Values" /><p class="caption">Figure 1. Common Distributions for Sensitivity Testing with Sample Parameter Values</p>
</div>
<p>There are four key distributions that are useful for specifying the uncertainty in a variable:</p>
<p>Uniform Distribution : The uniform distribution is defined by two parameters: a minimum and a maximum. Each number within these two boundaries has an equal probability of being sampled. The uniform distribution is useful when you know the boundaries on the values a variable can take on, but you do not have any information on the likelihood of the different values within this region. The uniform distribution can be used in Insight Maker using the function <span class='equation'>Rand(Minimum, Maximum)</span>, the two parameters are optional and will default to 0 and 1 if <span class='equation'>Rand()</span> is called without them.</p>
<p>Triangular Distribution : The triangular distribution is defined by three parameters: the minimum, the maximum, and the peak. Like the uniform distribution, the triangular distribution will only generate numbers between the minimum and maximum. Unlike the uniform distribution, the triangular distribution will not sample all numbers between these boundaries with equal likelihood. The value specified by the peak will have the most likelihood of being sampled with the likelihood falling off as you move away from the peak towards either the minimum or maximum boundary. The triangular distribution is useful when you know the both the most likely value for a variable and you also know boundaries for the values a variable can take on. The triangular distribution can be used in Insight Maker using the function <span class='equation'>RandTriangular(Minimum, Maximum, Peak)</span>.</p>
<p>Normal Distribution : The normal distribution is defined by two parameters: the mean of the distribution (generally denoted <span class="math"><em>μ</em></span>) and the standard deviation of the distribution (generally denoted <span class="math"><em>σ</em></span>). The most likely value to be sampled from the normal distribution is the mean. As you move away from the mean (in either a positive or negative direction), the likelihood of a number being sampled decreases. The standard deviation controls how fast this likelihood falls as you move away from the mean. Small standard deviations result in steep declines in the likelihood while large standard deviations result in more gradual declines. The normal distribution is useful when you do not have boundaries on the values for a variable but you do know what the most likely value for the variable should be (the mean). The normal distribution can be used in Insight Maker using the function <span class='equation'>RandNormal(Mean, Standard Deviation)</span>.</p>
<p>Log-normal Distribution : The log-normal distribution is closely related to the normal distribution. In fact the logarithm of the values samples from a normal distribution will be log-normally distributed. Like the normal distribution, the log-normal distribution is defined by two parameters: the mean and standard deviation. Where the log-normal distribution differs from the normal distribution, is that negative values will never be generated by the log-normal distribution. Thus it is useful when you have a variable which you know cannot be negative but for which you do not have an upper bound. The log-normal distribution can be used in Insight Maker using the function <span class='equation'>RandLogNormal(Mean, Standard Deviation)</span>. The log-normal distribution can also be used to represent other types of one-sided boundaries. For instance, the following equation could be used to represent a variable whose number was always less than 5: <span class='equation'>5-RandLogNormal(2, 1)</span></p>
<p>There are many other forms of probability distributions. Some notable ones are the Binomial Distribution (<span class='equation'>RandBinomial(Count, Probability)</span>), the Negative Binomial Distribution (<span class='equation'>RandNegativeBinomial(Successes, Probability)</span>), the Poisson Distribution (<span class='equation'>RandPoisson(Lambda)</span>), the Exponential Distribution (<span class='equation'>RandExp(Lambda)</span>) and the Gamma Distribution (<span class='equation'>RandGamma(Alpha, Beta)</span>). These distributions can be used to address very specific modeling usage cases and needs (for instance, the Poisson distribution can be used to model the number of arrivals over time), however, the four distributions described in detail above should generally be sufficient for most sensitivity testing needs.</p>
<div class="figure">
<img src="DistributionsChoice.png" alt="Figure 2. Choices in Selecting a Distribution for a Variable’s Value" /><p class="caption">Figure 2. Choices in Selecting a Distribution for a Variable’s Value</p>
</div>
<p>When important practical tip when using sensitivity testing within the System Dynamics context is to be careful about specifying random numbers within variables. The value of a variable is recalculated each time step. This means that if you have a random number function in the variable, a new random value will be chosen each time step. This can create a problem if the random value is supposed to be fixed across the course of the simulation. For instance, we may not know the birth rate coefficient for our rabbit population, but, whatever it is, we assume it is fixed over the simulation.</p>
<p>A simple way to handle these fixed variable values would be to replace the variables with stocks. The stocks initial value could be set to the random value and it would only be evaluated once at the beginning of the simulation and kept fixed thereafter. This approach, though very workable, however violates the fundamental metaphors at the hard of System Dynamics. In Insight Maker, another approach is to use the <span class='equation'>Fix()</span> function. When used with one argument, this function evaluates whatever argument is passed to it a single time and then returns the results of that initial calculation for subsequent time steps. So instead of having the simple equation <span class='equation'>Rand(0, 10)</span> in a variable to generate a random number between 0 and 10, you could place <span class='equation'>Fix(Rand(0, 10))</span> in the variable. The first equation would generate a new random number each time step, the second equation will generate one random number and keep it constant throughout the simulation.</p>
<div class='live'>
<a href='model_8/index.html' target='_blank'><img src='model_8/overview.png' />
<div class='caption'>
Sensitivity Testing
</div>
</a>
</div>
<p>The astute reader will notice that our discussion up to this has failed to address an important point: how do we determine the uncertainty of a variable? It is very easy to say that we do not know the precise value of a variable, but it is much more difficult to define the uncertainty of it. One case where we can precisely define uncertainty is when you take a random sample of measurements. For instance, suppose our model included the height of the average American man as a variable. We could randomly select a hundred men and measure their heights. In this case our uncertainty would be normally distributed with a mean equal to the mean of our sample of one hundred men and a standard deviation equal to the standard error of our sample of one hundred men<sup><a href="#fn10" class="footnoteRef" id="fnref10">10</a></sup>. For any random sample of <span class="math"><em>n</em></span> values from a population, the same should hold true: you will be able to model your uncertainty using a normal distribution with:</p>
<p><br /><span class="math">$ \mu = \frac{Value_1+Value_2+Value_3+...+Value_n}{n} $</span><br /> <br /><span class="math">$ \sigma = \sqrt{\frac{1}{n} \sum_{i=1}^n (Value_i-\mu)^2} $</span><br /></p>
<p>However, in most applied cases you will not be able to apply this normality assumption. Generally you will not have a nice random sample, or you might have no data at all and instead have some abstract variable you need to specify a value for. In these cases, it is up to you to make a judgment call on the uncertainty. Choose one of the four distributions detailed above and use whatever expert knowledge available to you to place an estimate on the parameterization of uncertainty. One rule of thumb, however, is that it is better to overestimate uncertainty than underestimate it. It is better to err on the side of overestimating your lack of knowledge than it is to obtain undue confidence in model results due to an underestimation of uncertainty.</p>
<h2 id="confidence-and-philosophy"><a href="#confidence-and-philosophy">Confidence and Philosophy</a></h2>
<p>The quality of a model in the eye of an evaluator is to a significant extent influenced by the worldview (more or less coherent and the philosophical orientation (if any) of the evaluator. Broad world-views or epistemologies<sup><a href="#fn11" class="footnoteRef" id="fnref11">11</a></sup> exist. One key divide in different epistemological theories continues to be between those theories that contain a strong belief in a concrete true reality that our knowledge can accurately capture and those theories that believe our knowledge is partially or wholly independent from reality.</p>
<p>Epistemological theories that are primarily in the first camp are those such as positivism or empiricism. Theories in the latter camp include constructivism and idealism. Constructivism is a popular theory of knowledge that claims knowledge is constructed with social context and historical time. Our presentation of confidence building for narrative models in this chapter is implicitly in line with a constructivist theory of knowledge.</p>
<p>In our discussion of confidence building we repeatedly refer to matching the beliefs of the audience. We recommend creating simulations and behavior in our models that match an audience’s expectations for the behavior of the system. This is distinct from saying that you should match the reality of true system. Ideally, true behavior of the system and an audience’s mental models of the system should be equivalent, but in practice they may well differ. Although confidence in a model will be boosted by strictly matching the mental models of an audience, a truly effective narrative model should be persuasive enough to change the mental models of an audience.</p>
<p>Our discussion of predictive models from the previous chapter does not fall within a constructivist world-view as we are claiming that there are objective “outside-ourselves” measures of predictive accuracy we can obtain. It should go without saying that predictive models may not be accurate reflections of reality, even in their own terms. The mathematics of a predictive model may be unrelated to the true system that is being modeled, yet is may still create accurate predictions. As such, our discussion of predictive models is not really a positivist or empiricist one. Instead this discussion would fall under the epistemological theories of pragmatism or instrumentalism which claim a theory or model should be assessed on how well it predicts which may be independent of the truth of the theory itself.</p>
<h1 id="the-process-of-modeling"><a href="#the-process-of-modeling">The Process of Modeling</a></h1>
<p>Chapter to go here…</p>
<h2 id="pattern-oriented-event-oriented"><a href="#pattern-oriented-event-oriented">Pattern Oriented / Event Oriented</a></h2>
<h2 id="from-models-to-insights"><a href="#from-models-to-insights">From models to insights</a></h2>
<h2 id="kidskiss"><a href="#kidskiss">KIDS/KISS</a></h2>
<h2 id="sterman-9394-learning-in-a-complex-of-world"><a href="#sterman-9394-learning-in-a-complex-of-world">Sterman 93/94 “learning in a complex of world”</a></h2>
<h2 id="confirmation-bias-sterman-cant-trust-people-to-build-models"><a href="#confirmation-bias-sterman-cant-trust-people-to-build-models">Confirmation bias sterman, can’t trust people to build models</a></h2>
<h1 id="the-mathematics-of-modeling"><a href="#the-mathematics-of-modeling">The Mathematics of Modeling</a></h1>
<p>This chapter takes the modeling techniques introduced earlier in this book and places them within a firm mathematical framework. The contents of this chapter are quite technical in parts and to fully understand them requires knowledge of basic calculus and linear algebra. We present the material because it is important for both readers who want a deep understanding how their models operate and also those who wish to understand how System Dynamics fits within the larger field of mathematical modeling. For users who approach systems thinking and modeling from a more qualitative angle, this material may be browsed or safely skipped.</p>
<h2 id="differential-equations-and-system-dynamics"><a href="#differential-equations-and-system-dynamics">Differential Equations and System Dynamics</a></h2>
<p>Differential equations are a common mathematical tool used to study rates of change. Some basic terminology needs to be learned in order to discuss differential equations. After introducing this new terminology, we will then tie it back to the modeling techniques you’ve already learned.</p>
<p>State Variable : A state variable is an object that represents part of the state of a system. For instance, in a population model you could have a state variable representing the current number of individuals in that population. In a model of a lake, you could have a state variable representing the current volume of water in the lake. In equations, state variables are often represented using Roman letters such as <span class="math"><em>X</em></span>, <span class="math"><em>Y</em></span> or <span class="math"><em>Z</em></span>.</p>
<p>Derivative : Derivatives define rates of change in state variables. For instance, if we had a state variable representing the size of a population, a derivative would specify how this population grows or shrinks over time. The population’s derivative would aggregate all changes such as births, deaths and immigration or emigration to show the net change in the state variable over time. Similarly, in the case of a model of a lake, the lake volume state variable would have a derivative showing how much net water flows into or out of the lake over time. Given a state variable <span class="math"><em>X</em></span>, the derivative of <span class="math"><em>X</em></span> with respect to time is generally written as <span class="math"><em>d</em><em>X</em> / <em>d</em><em>t</em></span> but can also be written as <span class="math"><em>X</em>ʹ</span> or <span class="math">$\dot{X}$</span>.</p>
<p>Let’s put this new terminology to work to define a simple model. We start by creating an exponential growth population model. We only need one state variable in this model to represent the size of the population. We denote this state variable as <span class="math"><em>P</em></span>. We need to define one parameter to control the growth rate in the population. We will denote this growth rate parameter <span class="math"><em>α</em></span>.</p>
<p>The resulting differential equation exponential growth model can be written simply as:</p>
<p><br /><span class="math">$ \frac{dP}{dt} = \alpha \times P $</span><br /></p>
<p>This indicates that the rate of change for the population for one unit of time is <span class="math"><em>α</em> × <em>P</em></span>. Our model is not quite fully specified yet as we do not know what the initial value of the population is. Differential equation models are often additionally specified by providing the values of the state variables at a specific point in time. Below we indicate that the population size at time 0 is 100.</p>
<p><br /><span class="math"><em>P</em>(0) = 100</span><br /> <br /><span class="math">$ \frac{dP}{dt} = \alpha \times P $</span><br /></p>
<p>You may have already noted that this model is easy to construct using the techniques we have already introduced in the book. In fact we have discussed this type of model several times. We could construct it with System Dynamics tools using a stock to represent the population (<span class="math"><em>P</em></span>), a flow to represent the change of population (<span class="math"><em>d</em><em>P</em> / <em>d</em><em>t</em></span>) and a variable to represent birth rate (<span class="math"><em>α</em></span>). We could specify our initial condition of a population size of 100, by setting the initial value for the stock for 100.</p>
<p>This is an important point. Many differential equation models<sup><a href="#fn12" class="footnoteRef" id="fnref12">12</a></sup> can be directly represented using the System Dynamics modeling techniques described in this book. Similarly, a System Dynamics model can be rewritten as a differential equation model.</p>
<p>From this perspective, System Dynamics models and differential equation modeling are one and the same. A System Dynamics model can be expressed using differential equation notation and vice versa. To see this in more detail, we can look at the mapping between System Dynamics and differential equation models. There is a one a one-to-one direct correspondence between the key System Dynamics primitives and components of a differential equation model.</p>
<table>
<thead>
<tr class="header">
<th align="left">System Dynamics Primitive</th>
<th align="left">Differential Equation Equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Stock</td>
<td align="left">State Variable (<span class="math"><em>X</em></span>, <span class="math"><em>Y</em></span>, etc…)</td>
</tr>
<tr class="even">
<td align="left">Flow</td>
<td align="left">Derivative (<span class="math"><em>d</em><em>X</em> / <em>d</em><em>t</em></span>, <span class="math"><em>d</em><em>Y</em> / <em>d</em><em>t</em></span>, etc…)</td>
</tr>
<tr class="odd">
<td align="left">Variable</td>
<td align="left">Constants/Parameters (<span class="math"><em>α</em></span>, <span class="math"><em>β</em></span>, etc…)</td>
</tr>
</tbody>
</table>
<p>Since they do not differ significantly from a mathematical standpoint, what separates these two approaches to modeling? Where System Dynamics and differential equation modeling differ is in their focus and philosophy. The primary goal for differential equation modelers is analytic tractability (in other words, how easy is it to mathematically manipulate and understand the model’s equations). This analytic tractability allows these modelers to derive definite results and conclusions from the model’s equations. System Dynamics modelers generally are less concerned about analytic tractability and are more comfortable with simulating the model and drawing conclusions from observed trajectories and numerical results.</p>
<p>System Dynamics modelers, to go further, care greatly about communicating their models, deliberately mirroring reality to some extent and exploring the consequences of feedback. The differing focuses on communication between System Dynamics modelers and differential equation modelers can be seen in the method of naming variables. Differential equation models are generally dominated by abstract Greek symbols (e.g. <span class="math"><em>α</em></span>) while System Dynamics models generally clearly spell out variable names (e.g. “Birth Rate”) and additionally use a model diagram to illustrate and communicate the relationships between different parts of the model.</p>
<h2 id="solving-differential-equations"><a href="#solving-differential-equations">Solving Differential Equations</a></h2>
<p>Given a differential equation or System Dynamics model specification, how do you go about determining the results of the model? This is typically referred to as “solving” the model. Since differential equation models and system dynamics models are essentially one and the same, the techniques used to solve differential equations can be directly applied to System Dynamics models and they are the techniques used by Insight Maker when you simulate any of the models in this book.</p>
<p>For most of the rest of this chapter, we use the differential equation terminology instead of the System Dynamics one. We do so first because it is more concise and more elegantly addresses the issues discussed in this chapter, but also because we want to familiarize you with its terminology and concepts. If you ever get lost, just refer to the System Dynamics to differential equation translation table we showed above.</p>
<p>Let’s start our discussion of solving differential equations using our simple population model. As you recall, this model was:</p>
<p><br /><span class="math"><em>P</em>(0) = 100</span><br /> <br /><span class="math">$ \frac{dP}{dt} = \alpha \times P $</span><br /></p>
<p>What is the size of the population, at, let’s say <span class="math"><em>t</em> = 10</span> given an <span class="math"><em>α</em></span> of 0.1? Calculus can be used to solve the model and answer this question. First we separate the terms of the derivative and integrate both sides of the equation. Thereafter it is a simple matter of algebra to solve for <span class="math"><em>P</em></span>:</p>
<p><br /><span class="math">$
\begin{aligned}
\frac{dP}{dt} &amp;= \alpha \times P \\
dP &amp;= \alpha \times P\ dt \\
\frac{1}{P}\ dP &amp;= \alpha\ dt \\
\log(P) &amp;= \alpha \times t + A \\
P &amp;=  e^{\alpha \times t + A} \\
P &amp;=  B \times e^{\alpha \times t} \\
\end{aligned}
$</span><br /></p>
<p>In this equation two new variables <span class="math"><em>A</em></span> and <span class="math"><em>B</em></span> appeared (where we arbitrarily set <span class="math"><em>B</em> = <em>e</em><sup><em>A</em></sup></span>). These are unknown integration constants<sup><a href="#fn13" class="footnoteRef" id="fnref13">13</a></sup>. We can determine the values of the integration constants based on the initial conditions of the model, as we specified earlier that <span class="math"><em>P</em>(0) = 100</span>. We evaluate the solution of the model at this initial condition to determine the value of <span class="math"><em>B</em></span>.</p>
<p><br /><span class="math">$
\begin{aligned}
P &amp;= B \times e^{\alpha \times t} \\
100 &amp;= B \times e^{\alpha \times 0} \\
100 &amp;= B
\end{aligned}
$</span><br /></p>
<p>Thus our generic equation for <span class="math"><em>P</em></span> at any time and for any <span class="math"><em>α</em></span> is:</p>
<p><br /><span class="math"><em>P</em> = 100 × <em>e</em><sup><em>α</em> × <em>t</em></sup></span><br /></p>
<p>Plugging in <span class="math"><em>α</em> = 0. 1</span> and <span class="math"><em>t</em> = 10</span>, we obtain:</p>
<p><br /><span class="math">$
\begin{aligned}
P &amp;= 100 \times e^{0.1 \times 10} \\
  &amp;= 271.828...
\end{aligned}
$</span><br /></p>
<p>For this simple population model we have shown that we can obtain the precise population value at any point in the future. It took a fair amount of algebra even for such a simple model, but we did it!</p>
<p>Unfortunately, many differential equation models cannot be solved using these techniques. For most complex models in practice, it is impossible to analytically determine the values of the state variables in the future. This inability to solve a model can be true for even very simple models. Take for example the following growth model similar to our original one:</p>
<p><br /><span class="math"><em>P</em>(0) = 100</span><br /> <br /><span class="math">$ \frac{dP}{dt} = \alpha \times P \times \log(P) $</span><br /></p>
<p>We have simply added a logarithm of <span class="math"><em>P</em></span> into our growth rate. Despite the smallness of this change, this model is now impossible to solve analytically. There is no analytic solution possible, but feel free to give it a try yourself (but please don’t try too hard; we promise there is no solution). When developing complex models it should generally to be assumed that in practice no analytical solution will be available. In cases like these, how can we go about developing solutions to the equations and determining the trajectory of the state variables in the system?</p>
<p>The answer is numerical approximation. Even if we can’t solve the model equations analytically, we will always be able to approximate their results numerically. A number of different algorithms exist that allow us to approximate the solution to differential equations by repeatedly plugging values into them. To discuss these methods, it is useful to introduce some additional mathematical notation.</p>
<p>In our previous models, we have only looked at systems with a single state variable at a time. However, we can also consider systems containing multiple state variables. The Lotka-Volterra predator prey system we looked at earlier in the book is an example of this. Given two populations of animals – let’s say a population of wolves (<span class="math"><em>W</em></span>) and a population of moose (<span class="math"><em>M</em></span>) – where the first population preys upon the second, we obtain a paired set of differential equations representing this predator prey relationship:</p>
<p><br /><span class="math">$ \frac{dM}{dt} = \alpha \times M - \beta \times M \times W $</span><br /> <br /><span class="math">$ \frac{dW}{dt} = \gamma \times M \times W - \delta \times W  $</span><br /></p>
<p>When looking at algorithms to solve sets of equations like these numerically, it can be useful to denote <span class="math"><strong>y</strong></span> as a vector of all the state variables in the model. So for the case of the exponential growth model <span class="math"><strong>y</strong> = [<em>P</em>]</span> while for the Lotka-Volterra model <span class="math"><strong>y</strong> = [<em>M</em>, <em>W</em>]</span>. When using this notation, <span class="math"><strong>y_t</strong></span> indicates the vector of state variable values at a specific point in time, so <span class="math"><strong>y_0</strong></span> are the initial conditions for this model.</p>
<p>Additionally, we can denote <span class="math"><strong>y'</strong></span> as the vector of derivatives for the different state variables. We treat these derivatives as functions of the current time and the values of the other state variables. So, for instance, to determine the rate of change of the state variables in a model at <span class="math"><em>t</em> = 10</span>, we would write <span class="math">$\mathbf{y'}(\mathbf{y_{10}}, 10)$</span> where <span class="math">$\mathbf{y_{10}}$</span> are the values of the state variables at <span class="math"><em>t</em> = 10</span>.</p>
<p>The use of this notation might seem cumbersome, but it allows us to elegantly describe the mathematics of numerical solution algorithms without getting tied up in the details of a specific model.</p>
<h3 id="eulers-method"><a href="#eulers-method">Euler’s Method</a></h3>
<div class="figure">
<img src="EulerPortrait.jpg" alt="Leonhard Euler" /><p class="caption">Leonhard Euler</p>
</div>
<p>The most basic numerical solution algorithm for differential equations is Euler’s method<sup><a href="#fn14" class="footnoteRef" id="fnref14">14</a></sup>. Simply put, assuming we know the state of the system at time <span class="math"><em>t</em></span> and we wish to estimate the state of the system at time <span class="math"><em>t</em> + Δ <em>t</em></span> (where <span class="math">Δ <em>t</em></span> is pronounced “delta-t” and represents the change in time) we can use the following equation:</p>
<p><br /><span class="math">$ \mathbf{y_{t+\Delta t}} = \mathbf{y_{t}} + \Delta t \times \mathbf{y'}(\mathbf{y_t}, t) $</span><br /></p>
<p>Let’s walk through what this equation is doing. It first takes the derivatives for the state variables at the current point in time. It multiplies these rates of change by the <span class="math">Δ <em>t</em></span> (how far in the future we want to know the results) and adds this change to the values of the state variables at the starting point in time. The result is an estimate of what the values in the future should be.</p>
<p>Let’s now apply this to a concrete example. Start with our population scenario, but instead of exponential growth we have a fixed inflow of people at a rate of 20 per year. At <span class="math"><em>t</em> = 0</span> we have 100 people and we want to know the population in 10 years, using Euler’s method we obtain the following:</p>
<p><br /><span class="math">$
\begin{aligned}
P_{10} &amp;= P_0 + \Delta t \times \frac{dP}{dt} \\
&amp;= P_0 + 10 \times 20 \\
&amp;= 100 + 200 \\
&amp;= 300
\end{aligned}
$</span><br /></p>
<p>Thus the population size in 10 years will be 300. In this simple example, Euler’s method works perfectly and generates the exact same answer as we would have found using analytic solutions.</p>
<p>In general, however, we won’t be so lucky. For most problems Euler’s method will generate results that contain some level of error compared to what the true value should be. To see this let’s explore our exponential growth model again with an <span class="math"><em>α</em></span> of 0.1. As a reminder, this model is:</p>
<p><br /><span class="math"><em>P</em>(0) = 100</span><br /> <br /><span class="math">$ \frac{dP}{dt} = 0.1 \times P $</span><br /></p>
<p>As we showed earlier, the precise solution to this model for <span class="math"><em>t</em> = 10</span> (to three decimal places) is 271.828. Let’s see what we get using Euler’s method with <span class="math">Δ <em>t</em> = 10</span>. Carrying out similar calculations as before we get:</p>
<p><br /><span class="math">$
\begin{aligned}
P_{10} &amp;= P_0 + \Delta t \times \frac{dP}{dt} \\
&amp;= P_0 + 10 \times (0.1 \times P_0) \\
&amp;= 100 + 10 \times (0.1 \times 100) \\
&amp;= 100 + 10 \times 10 \\
&amp;= 100 + 100 \\
&amp;= 200
\end{aligned}
$</span><br /></p>
<p>So using Euler’s method we obtain an estimate 200 for the population size at <span class="math"><em>t</em> = 10</span> when we know the true value should be around 272. That’s a pretty large error! Why does this error come about? Why do we so significantly underestimate the final population size?</p>
<p>The reason is that we calculate the population’s rate of change only at <span class="math"><em>t</em> = 0</span>. For each of the ten years we are simulating, we assume the population grows at the rate it would if there were exactly 100 people. However, the population size is constantly increasing during these ten years, so the rate at which it grows should also be increasing. Imagine, the case of a bank account with an interest rate of 10% yearly. The bank account grows over time so the interest earned should also grow from year to year. It’s the same principle of compounding here.</p>
<p>How do we address this issue? Using Euler’s method, we can do it simply by changing how often we calculate the rates of change. In our previous calculation, we went straight from <span class="math"><em>t</em> = 0</span> to <span class="math"><em>t</em> = 10</span> all in one step, we used a <span class="math">Δ <em>t</em></span> in Euler’s equation of 10. However, we could employ an alternate calculation strategy where, for instance, we stepped from <span class="math"><em>t</em> = 0</span> to <span class="math"><em>t</em> = 5</span>, recalculated the derivative based on the new population size and then stepped from <span class="math"><em>t</em> = 5</span> to <span class="math"><em>t</em> = 10</span>. This would be equivalent to used a <span class="math">Δ <em>t</em></span> of 5 and iterating the algorithm twice. Here is what we get doing this:</p>
<p><br /><span class="math">$
\begin{aligned}
P_{5} &amp;= P_0 + \Delta t \times \frac{dP}{dt} \\
&amp;= P_0 + 5 \times (0.1 \times P_0) \\
&amp;= 100 + 50 \\
&amp;= 150 \\
P_{10} &amp;= P_5 + \Delta t \times \frac{dP}{dt} \\
&amp;= P_5 + 5 \times (0.1 \times P_5) \\
&amp;= 150 + 5 \times 15 \\
&amp;= 150 + 75 \\
&amp;= 225
\end{aligned}
$</span><br /></p>
<p>That result is certainly better, and we cut our error by over 33%. However, the error is still too large for most practical purposes. To improve the numerical estimation even more, we can apply smaller and smaller <span class="math">Δ <em>t</em></span>’s. You probably have a good grasp of the calculations now, so let’s just show the results for each step of the simulation. We’ll look at <span class="math">Δ <em>t</em> = 2</span> and <span class="math">Δ <em>t</em> = 1</span>.</p>
<table>
<thead>
<tr class="header">
<th align="left"><span class="math"><em>t</em></span></th>
<th align="left"><span class="math"><em>P</em></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="left">100</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">120</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="left">144</td>
</tr>
<tr class="even">
<td align="left">6</td>
<td align="left">172.8</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="left">207.4</td>
</tr>
<tr class="even">
<td align="left">10</td>
<td align="left">248.8</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th align="left"><span class="math"><em>t</em></span></th>
<th align="left"><span class="math"><em>P</em></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">0</td>
<td align="left">100</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">110</td>
</tr>
<tr class="odd">
<td align="left">2</td>
<td align="left">121</td>
</tr>
<tr class="even">
<td align="left">3</td>
<td align="left">133.1</td>
</tr>
<tr class="odd">
<td align="left">4</td>
<td align="left">146.4</td>
</tr>
<tr class="even">
<td align="left">5</td>
<td align="left">161.1</td>
</tr>
<tr class="odd">
<td align="left">6</td>
<td align="left">177.2</td>
</tr>
<tr class="even">
<td align="left">7</td>
<td align="left">194.9</td>
</tr>
<tr class="odd">
<td align="left">8</td>
<td align="left">214.4</td>
</tr>
<tr class="even">
<td align="left">9</td>
<td align="left">235.8</td>
</tr>
<tr class="odd">
<td align="left">10</td>
<td align="left">259.4</td>
</tr>
</tbody>
</table>
<p>We see that as <span class="math">Δ <em>t</em></span> gets smaller and smaller our results become more and more accurate. However, they are never perfect. There is always some error. Even if we made <span class="math">Δ <em>t</em></span> as small as 0.1 (requiring 100 simulation steps), our final population size would be calculated to be 270, an error just under 1%.</p>
<p>Figure 1 illustrates the application of Euler’s method to numerically estimate the trajectory for an example function. The smaller the <span class="math">Δ <em>t</em></span>’s in the estimation are, the better the results will be. Other terms that can be used in place of <span class="math">Δ <em>t</em></span> are “Step Size”, “Time Step” or just “DT”. We prefer not to use the notation DT as it is easily confusable with the <span class="math"><em>d</em><em>t</em></span> from differential equations. The latter indicates an infinitesimally small change, while step sizes are never infinitesimally small.</p>
<div class="figure">
<img src="Euler.png" alt="Figure 1. Euler’s method at work. The true trajectory for the illustrative state variable is shown in green. Euler’s method estimate of this trajectory is shown in blue." /><p class="caption">Figure 1. Euler’s method at work. The true trajectory for the illustrative state variable is shown in green. Euler’s method estimate of this trajectory is shown in blue.</p>
</div>
<p>As you decrease the step size for the simulation, the results of the simulation become more and more accurate<sup><a href="#fn15" class="footnoteRef" id="fnref15">15</a></sup>. The cost of this increased accuracy, however, is increased computation time. The computation time required by your model is directly proportional to 1 over the step size. Thus, if you cut the step size in half, your model will take twice as long to complete simulating.</p>
<p>In general, you want a step size small enough that your results are “accurate enough,” but one that isn’t so small that the simulation takes too long to complete. A rule of thumb for choosing the step size is to choose a starting step size that results in a fast simulation. Then cut the value of the step size in half and simulate the model again. If the results have not change materially between these two simulations, keep the larger step size. If the results have changed, cut the step size in half again and repeat until the results cease to change.</p>
<h3 id="runge-kutta-methods"><a href="#runge-kutta-methods">Runge-Kutta Methods</a></h3>
<div class="figure">
<img src="RungeKutta.png" alt="Carl Runge and Martin Kutta" /><p class="caption">Carl Runge and Martin Kutta</p>
</div>
<p>Euler’s method is not the only technique that can be used to numerically solve differential equations. Another popular set of techniques are called Runge-Kutta methods. Runge-Kutta methods are a family of numerical differential equation solvers. In fact Euler’s method itself can be classified as a simple Runge-Kutta method.</p>
<p>One particular member of the Runge-Kutta family of methods that is widely used is a 4th-order Runge-Kutta method. This method differs from Euler’s method in that for each step, it evaluates the model multiple times and averages the resulting derivatives. Briefly, the driving set of equations for this method is as follows:</p>
<p><br /><span class="math">$
\begin{aligned}
\mathbf{y_{t+\Delta t}} &amp;= \mathbf{y_{t}} + \Delta t \frac{\mathbf{a}+2 \times \mathbf{b}+2 \times \mathbf{c}+\mathbf{d}}{6} \\
\text{Where:} \\
\mathbf{a} &amp;= \mathbf{y'}(\mathbf{y_t}, t) \\
\mathbf{b} &amp;= \mathbf{y'}(\mathbf{y_t}+\frac{\Delta t}{2} \times \mathbf{a}, t+\frac{\Delta t}{2}) \\
\mathbf{c} &amp;= \mathbf{y'}(\mathbf{y_t}+\frac{\Delta t}{2} \times \mathbf{b}, t+\frac{\Delta t}{2}) \\
\mathbf{d} &amp;= \mathbf{y'}(\mathbf{y_t}+\Delta t \times \mathbf{c}, t+\Delta t) \\
\end{aligned}
$</span><br /></p>
<p>What this algorithm does is first compute the derivatives of the system at the current time (<span class="math"><strong>a</strong></span>) and use them to move the system forward to <span class="math"><em>t</em> + Δ <em>t</em> / 2</span>. The derivatives are evaluated at <span class="math"><em>t</em> + Δ <em>t</em> / 2</span> (<span class="math"><strong>b</strong></span>) and this new set of derivatives is used to again move the system from <span class="math"><em>t</em></span> to <span class="math"><em>t</em> + Δ <em>t</em> / 2</span>. A third set of derivatives are evaluated again at this mid-point (<span class="math"><strong>c</strong></span>) and they are the used to move the system from <span class="math"><em>t</em></span> to <span class="math"><em>t</em> + Δ <em>t</em></span>. A fourth set of derivatives are evaluated at this point (<span class="math"><strong>d</strong></span>). The system is then returned to its starting point and a weighted average of derivatives are used to move the system the full time step. This weighting puts most of the weight on the middle two derivatives instead of the derivatives from the end points.</p>
<p>This 4th-order Runge-Kutta method is generally much more accurate than Euler’s method for a given step size. Using a step size of 10 for our earlier population model, the Runge-Kutta method generates a value of 270.8. A step size of 5 yields a results of 271.7, just a smidgeon away from the precise value of 271.8. Recall that for Euler’s method, even with a step size of 0.1 we still were not as accurate as the Runge-Kutta method with a step size of 5. Now it is true that this 4th-Order Runge-Kutta method does a lot more work than Euler’s method for each step. It evaluates the model for times and has to do some averaging of derivatives. However, it is still much more accurate than Euler’s method for an equivalent level of computational effort.</p>
<div class='live'>
<a href='model_9/index.html' target='_blank'><img src='model_9/overview.png' />
<div class='caption'>
Numerical Solution Algorithms
</div><div class='description'>
This model explores the selection of the simulation step size and differential equation solution algorithm.
</div>
</a>
</div>
<h3 id="other-solution-techniques"><a href="#other-solution-techniques">Other Solution Techniques</a></h3>
<p>While being a brief introduction into numerical solution methods for differential equations, this should provide you with the background you need to intelligently make decisions about controlling the simulation of your models. It should help you identify potential sources of errors in your model and help you to adjust you simulation configuration to account for them.</p>
<p>The two methods we have looked at for solving differential equation models – Euler’s method and a 4th-Order Runge-Kutta method – are widely used and they are what are built into Insight Maker. In addition to these two techniques, however, there are many other methods that are used in practice and you should be aware of this richer ecosystem of solution techniques.</p>
<p>Although we do not have space here to delve into the full ecosystem of numerical differential equation algorithms, it is useful to discuss one variant briefly: the adaptive step size algorithm. The methods we have looked at here use a fixed step size specified at the beginning of a simulation. Many models, however, might be characterized by highly variable trajectories. Part of the trajectory might be very smooth and unchanging while other parts might experience numerous rapid changes.</p>
<p>When using a fixed step size algorithm like the ones illustrated above, the step size must be set for the worse case scenario. The step size must be set to a small enough value to account for the rapidly changing areas. That said, the precision of this small step size is unnecessary on the smooth regions of the trajectory where the algorithm must do extra work for minimal gain in precision. Ideally, we would want to have a small step size for the rapidly changing areas and a large one for the smooth regions. This would result in the best of both worlds: high accuracy and quick computation.</p>
<div class="figure">
<img src="Adaptive.png" alt="Figure 2. Illustration of an adaptive step size algorithm. Dots show the location of model evaluations. Evaluations are clustered around changes in the derivatives." /><p class="caption">Figure 2. Illustration of an adaptive step size algorithm. Dots show the location of model evaluations. Evaluations are clustered around changes in the derivatives.</p>
</div>
<p>Adaptive step size algorithms do just that. They adjust the step size dynamically based on the behavior of the model’s derivatives. If the derivatives change rapidly, then the step size will be automatically shrunk; if the derivatives are constant or change very slowly the step size will automatically grow. Figure 2 illustrates the location of steps for an illustrative model using an adaptive step size algorithm. The steps are clustered around changes in the trajectory’s derivatives in an attempt to maximize predictive accuracy while minimizing computation effort.</p>
<h3 id="analyzing-differential-equations"><a href="#analyzing-differential-equations">Analyzing Differential Equations</a></h3>
<p>Although the trajectory for the state variables in differential equation models generally cannot be determined analytically, several key properties of models can often still be determined. These properties include:</p>
<ul>
<li>The location of equilibrium points</li>
<li>The stability of the equilibrium points</li>
</ul>
<p>An equilibrium point is defined as a set of state variable values that will cause the system to cease to change. Once the system enters an equilibrium configuration, it will not leave that configuration without an external stimulus. For instance, in our exponential growth model a single equilibrium point exists: that of zero people. If the population is empty, then the population will not grow and instead remain at 0 indefinitely.</p>
<p>In the exponential growth population model there is only one equilibrium point (<span class="math"><em>P</em> = 0</span>). In other models you may have multiple equilibrium points. In a model of a highly infectious, incurable disease you can imagine a system where two equilibrium points exist: one where no one is infected and a second point where everyone is infected. As long as there were no infectious individuals, the population would remain healthy. If just a single infected individual were introduced into the population, the infection would, however, spread until everyone was infected and the population would then remain at that point (remember this hypothetical disease is incurable).</p>
<p>Multiple types of equilibria exist. Figure 3 illustrates what is known as the <em>stability</em> of equilibrium points. Each of the three panes in this figure show a different form of equilibrium for the ball. In all three the balls are in equilibrium: if the no external forces come into play, the balls will not move. What differs in each of the three is what occurs if the balls are displaced a small amount.</p>
<div class="figure">
<img src="Stability.png" alt="Figure 3. Three different types of stability." /><p class="caption">Figure 3. Three different types of stability.</p>
</div>
<p>Stable Equilibrium : In this type of equilibrium the ball will return to its original position if it is displaced. The structure of the system is such that the system is naturally attracted to the point of equilibrium. To use the physical metaphor, the equilibrium is at the bottom of a dip and the system naturally rolls into it.</p>
<p>Unstable Equilibrium : Here the ball will move further and further away from the point of equilibrium if it is displaced even a small amount. The equilibrium is unstable in that if we are just a small distance away from it, we move further away from it. To use the physical metaphor, the equilibrium is at the top of the hill and the system will move away from it unless it is placed at the exact point of equilibrium.</p>
<p>“Neutrally Stable Equilibrium” : This is a less common form of equilibrium and goes by several different names. In this case if the ball is moved it will stay fixed at its new location. It will not move closer to or further from the original equilibrium. Of the three types of equilibrium, this one is less interest or relevance in practice.</p>
<p>In the case of the highly infectious disease model, an equilibrium of everyone being healthy would be classified as an unstable equilibrium. The equilibrium would persist as long as no one brought the disease into the population (someone would not just spontaneously become ill), but if as little as a single sick person entered the population, the population would move further and further away from the equilibrium point of everyone being healthy and would never naturally return to it.</p>
<p>The equilibrium point of everyone being sick is, on the other hand, a stable equilibrium as no one recovers from the disease on their own. Even if you introduced healthy people into a population of sick individuals – moving the population away from the equilibrium – they too will eventually become sick restoring the population to the equilibrium of everyone being sick.</p>
<h4 id="equilibrium-points"><a href="#equilibrium-points">Equilibrium Points</a></h4>
<p>Often, we can determine the equilibrium points for a system without fully needing to solve the trajectory for the state variables. Let’s implement the simple disease model we’ve been discussing. We’ll do so for both a differential equation model and a System Dynamics model, but we’ll rely on differential equation version to do our analytic analysis.</p>
<p>One way to express the differential version of the model is to define two state variables: the number of healthy people (<span class="math"><em>H</em></span>) and the number of sick people (<span class="math"><em>S</em></span>). The rate of infection between sick and healthy people can be made a function of the number of people in each category. Clearly, if there are no sick people the infection rate is 0; but, just as clearly, if everyone is already sick then the infection rate will also be zero. One workable differential equation model to implement this behavior is shown below:</p>
<p><br /><span class="math">$
\begin{aligned}
H(0) &amp;= 100 \\
S(0) &amp;= 1 \\
\frac{dH}{dt} &amp;= - \alpha \times H \times S \\ 
\frac{dS}{dt} &amp;= \alpha \times H \times S
\end{aligned}
$</span><br /></p>
<p>This model uses a single parameter (<span class="math"><em>α</em></span>) to control the infection rate. <span class="math"><em>a</em><em>l</em><em>p</em><em>h</em><em>a</em></span> is a non-zero positive value; the smaller <span class="math"><em>α</em></span> is, the slower the infection will progress and vice versa. This notation illustrates one of the clumsier aspects of implementing stock and flow models using differential equations. The flow values between two stocks have to be repeated twice once for each of the two connected state variable’s derivatives.</p>
<div class='live'>
<a href='model_10/index.html' target='_blank'><img src='model_10/overview.png' />
<div class='caption'>
Incurable Disease
</div><div class='description'>
This model illustrates stable and unstable equilibria using the scenario of an incurable disease in a population.
</div>
</a>
</div>
<p>Finding the equilibria for differential equation models is by-and-large straightforward analytically. We simply need to harness the definition of an equilibrium point: an equilibrium point is one where the state variables are constant and unchanging. Since the derivatives represent changes in the state variables, this statement is equivalent to saying the derivatives for the model are 0 at equilibrium points.</p>
<p>Based on this, in order to find the equilibrium points we simply need to set the derivatives in our model to 0 and solve the resulting equations. For the disease model we get:</p>
<p><br /><span class="math">$
\begin{aligned}
H(0) = 99 \\
S(0) = 1 \\
0 = - \alpha \times H \times S \\ 
0 = \alpha \times H \times S
\end{aligned}
$</span><br /></p>
<p>The initial conditions will determine what equilibrium is arrived at but they do not affect the existence of the equilibria. Furthermore, the two equations we have set to 0 are equivalent<sup><a href="#fn16" class="footnoteRef" id="fnref16">16</a></sup> so we can simplify these equations to simply be:</p>
<p><br /><span class="math">0 = <em>α</em> × <em>H</em> × <em>S</em></span><br /></p>
<p>Simple inspection reveals that this equation is true if and only if either <span class="math"><em>H</em> = 0</span>, <span class="math"><em>S</em> = 0</span>, or <span class="math"><em>α</em> = 0</span>. Thus we have mathematically shown that our equilibria are either when everyone is sick or everyone is healthy (or there is no infection whatsoever). Granted this is a trivial conclusion for this model and we stated it earlier. However, for more complex models this type of analysis can be very useful and will often reveal that equilibria are functions of the different parameter values in the model and they may enable you to explicitly determine how the equilibria changes as the model configuration changes.</p>
<p>Let’s try a more complex example. Remember the predator prey model from earlier? We had the following set of equations to simulate the relationship between a moose and wolf population:</p>
<p><br /><span class="math">$ \frac{dM}{dt} = \alpha \times M - \beta \times M \times W $</span><br /> <br /><span class="math">$ \frac{dW}{dt} = \gamma \times M \times W - \delta \times W  $</span><br /></p>
<p>Let’s determine what the equilibrium values are for this model. As before, we start by setting the derivatives to 0:</p>
<p><br /><span class="math">0 = <em>α</em> × <em>M</em> − <em>β</em> × <em>M</em> × <em>W</em></span><br /> <br /><span class="math">0 = <em>γ</em> × <em>M</em> × <em>W</em> − <em>δ</em> × <em>W</em></span><br /></p>
<p>Solving this set of equations is more difficult than for the disease model. However a little bit of algebra reveals two solutions. One when <span class="math"><em>M</em> = 0</span> and <span class="math"><em>W</em> = 0</span> (there are no animals at all), and the second when <span class="math"><em>M</em> = <em>δ</em> / <em>γ</em></span> and <span class="math"><em>W</em> = <em>α</em> / <em>β</em></span>. This is an example of where the equilibrium location depends on the values of the model parameters.</p>
<h4 id="the-phase-plane"><a href="#the-phase-plane">The Phase Plane</a></h4>
<p>When looking at model results, up until now we have been focused on time series plots and we have mainly been interested in the trajectory of the variables and stocks over time. For the mathematical analysis of differential equations, however, the primary graphical tool is not this time series plot; instead it is what is known as a phase plane plot.</p>
<p>Phase planes are almost like scatterplots. They show one of the state variables plotted against another of the state variables. A scatterplot could be used to show the path for these two variables over the course of a simulation. In the predator prey model the results of a scatterplot of the wolf and moose population will be an ellipsoid. The two populations will cycle continuously. A phase plane plot is similar to this, but rather than just showing one of these cycles for a given simulation run, the phase plane shows the trajectories for <em>all</em> combinations of moose and wolf population sizes.</p>
<div class="figure">
<img src="PredatorPreyPhasePlane.png" alt="Figure 4. Predator prey phase plane plot. The trajectory for a single set of initial conditions is highlighted in red." /><p class="caption">Figure 4. Predator prey phase plane plot. The trajectory for a single set of initial conditions is highlighted in red.</p>
</div>
<p>Figure 4 illustrates a phase plane plot for the predator prey system. The trajectory for one set of parameter and state variable values is highlighted in red and, as expected, we see a continual oscillation. We can also see the trajectories for all the other combinations of state variables. We see that the system will always oscillate and the size of this oscillation depends on the initial conditions for the state variables. This illustration provides us with a good deal of information in a single graphic and the phase plane plot is a great way to summarize the behavior of a system with two state variables.</p>
<p>Let’s quickly explore the phase plane plots for a simpler system than our predator prey model. Take a system consisting of two state variables<sup><a href="#fn17" class="footnoteRef" id="fnref17">17</a></sup> both of which grow (or decay) exponentially. These state variables will be assumed to be independent from each other so the value of one does not affect the value of the other:</p>
<p><br /><span class="math">$
\begin{aligned}
\frac{dX}{dt} = \alpha \times X \\
\frac{dY}{dt} = \beta \times Y \\
\end{aligned}
$</span><br /></p>
<p>Clearly, there is an equilibrium point for this model at <span class="math"><em>X</em> = 0</span> and <span class="math"><em>Y</em> = 0</span>. There are four general types of behavior around this equilibrium. One when <span class="math"><em>α</em> &gt; 0</span> and <span class="math"><em>β</em> &gt; 0</span>, one when <span class="math"><em>α</em> &lt; 0</span> and <span class="math"><em>β</em> &gt; 0</span>, one when <span class="math"><em>α</em> &gt; 0</span> and <span class="math"><em>β</em> &lt; 0</span>, and one when <span class="math"><em>α</em> &lt; 0</span> and <span class="math"><em>β</em> &lt; 0</span>. The phase planes for each of the four cases are shown in Figure 5.</p>
<div class="figure">
<img src="SimplePhasePlanes.png" alt="Figure 5. Phase planes for a simple two state variable exponential growth model." /><p class="caption">Figure 5. Phase planes for a simple two state variable exponential growth model.</p>
</div>
<p>From these plots we can visually determine how the stability of the equilibrium point at <span class="math"><em>X</em> = 0, <em>Y</em> = 0</span> changes as we change <span class="math"><em>α</em></span> and <span class="math"><em>β</em></span>. When <span class="math"><em>α</em> &lt; 0</span> and <span class="math"><em>β</em> &lt; 0</span>, we have a stable equilibrium; in all other cases we have an unstable equilibrium.</p>
<h4 id="stability-analysis"><a href="#stability-analysis">Stability Analysis</a></h4>
<p>Now that we have learned how to analytically determine the location of equilibrium points, we may want to determine what type of stability occurs at these equilibria. As we stated earlier, for the incurable disease model it is trivial to arrive at the conclusion that the state of everyone being healthy is unstable while the state of everyone being sick is stable. In more complex models, it may be harder to draw conclusions or the stability of an equilibrium point may change as a function of the model’s parameter values. Fortunately, there is a general way to determine the precise stability nature of the equilibrium points analytically.</p>
<p>The procedure to do this is relatively straightforward, but the theory behind it can be difficult to understand. The first key principle that must be understood is that of “linearization”. To get a feel for linearization, let’s take the curve in Figure 6. Clearly this curve is not linear. It has lots of bends and does not look at all like a line.</p>
<div class="figure">
<img src="Linearization.png" alt="Figure 6. As we zoom in on a function it becomes more and more linear." /><p class="caption">Figure 6. As we zoom in on a function it becomes more and more linear.</p>
</div>
<p>If we zoom in on any one part of the curve, however, the section we are zoomed in on starts to straighten out. If we keep zooming in, we will eventually reach a point where the section we are zoomed in on is effectively linear: basically a straight line. This is true for whatever part of the curve we zoom in on<sup><a href="#fn18" class="footnoteRef" id="fnref18">18</a></sup>. The more bendy parts of the curve will just take more zooming to convert them to a line.</p>
<p>We can conceptually do the same process for the equilibrium points in our phase planes. Even if the trajectories of the state variables in the phase planes are very curvy, if we zoom in enough on the equilibrium points, the trajectories at a point will eventually become effectively linear. The simple, two-state variable exponential growth model we illustrated with phase planes above are examples of a fully linear model. If we zoom in sufficiently on the equilibrium points for most models, the phase planes for the zoomed-in version of the model will eventually start to look like one of these linear cases.</p>
<p>Mathematically, we apply linearization to an arbitrary model by first calculating what is called the Jacobian matrix of the model. The Jacobian matrix is the matrix of partial derivatives of each of derivatives in the model with respect to each of the state variables:</p>
<p><br /><span class="math">$ \text{Jacobian} = \begin{bmatrix} \dfrac{\partial }{\partial X} X' &amp; \cdots &amp; \dfrac{\partial }{\partial Z} X' \\ \vdots &amp; \ddots &amp; \vdots \\ \dfrac{\partial }{\partial X} Z' &amp; \cdots &amp; \dfrac{\partial }{\partial Z} Z'  \end{bmatrix} $</span><br /></p>
<p>The Jacobian is a linear approximation of our (potentially) non-linear model derivatives. Let’s take the Jacobian matrix for the simple exponential growth model:</p>
<p><br /><span class="math">$
\begin{aligned}
\frac{dX}{dt} = \alpha \times X \\
\frac{dY}{dt} = \beta \times Y \\
\end{aligned}
$</span><br /></p>
<p><br /><span class="math">$
\begin{aligned}
\text{Jacobian} &amp;= \begin{bmatrix} \dfrac{\partial}{\partial X } \alpha \times X &amp; \dfrac{\partial}{\partial Y } \alpha \times X  \\  \dfrac{\partial}{\partial X } \beta \times Y &amp; \dfrac{\partial}{\partial Y } \beta \times Y \end{bmatrix}
&amp;= \begin{bmatrix} \alpha  &amp; 0 \\ 0 &amp; \beta \end{bmatrix}
\end{aligned}
$</span><br /></p>
<p>This is complicated so don’t worry if you don’t completely understand it! Once you have the Jacobian, you calculate what are known as the eigenvalues of the Jacobian at the equilibrium points. This is also a bit complicated, so if your head is starting to spin, just skip forward in this chapter!</p>
<p>Nonetheless, eigenvalues and their sibling eigenvectors are an interesting subject. Given a square matrix (a matrix where the number of rows in equals the number of columns), an eigenvector is a vector which, when multiplied by the matrix, results is the original vector multiplied by some factor. This factor is known as an eigenvalue as is usually denoted <span class="math"><em>λ</em></span>. Given a matrix <span class="math"><strong>A</strong></span>, an eigenvalue <span class="math"><em>λ</em></span> with associated eigenvector <span class="math"><strong>V</strong></span>; the following equation will be true:</p>
<p><br /><span class="math"><strong>A</strong> × <strong>V</strong> = <em>λ</em> × <strong>V</strong></span><br /></p>
<p>Let’s look at an example for a <span class="math">2 × 2</span> matrix:</p>
<p><br /><span class="math">$\begin{bmatrix} 1 &amp; 2 \\ 1 &amp; 0 \end{bmatrix} \times \mathbf{V} = \lambda \times \mathbf{V}$</span><br /></p>
<p>What eigenvector and eigenvalue combinations satisfy this equation? It turns out there are two key ones:</p>
<p><br /><span class="math">$\begin{bmatrix} 1 &amp; 2 \\ 1 &amp; 0 \end{bmatrix} \times \begin{bmatrix} 2 \\ 1 \end{bmatrix}= 2 \times \begin{bmatrix} 2 \\ 1 \end{bmatrix}$</span><br /></p>
<p><br /><span class="math">$\begin{bmatrix} 1 &amp; 2 \\ 1 &amp; 0 \end{bmatrix} \times \begin{bmatrix} -1 \\ 1 \end{bmatrix} = -1 \times \begin{bmatrix} -1 \\ 1 \end{bmatrix}$</span><br /></p>
<p>Naturally, any multiple of an eigenvector will also be an eigenvector. For instance, in the case above, <span class="math">[1, 0. 5]</span> and <span class="math">[ − 2, 2]</span> are also eigenvectors of the matrix.</p>
<p>We can interpret eigenvectors geometrically. Looking at the <span class="math">2 × 2</span> matrix case, we can think of a vector as representing a coordinate in a two-dimensional plane: <span class="math">[<em>x</em>, <em>y</em>]</span>. When we multiply our <span class="math">2 × 2</span> matrix by the point, we transform the point into another point also in the two-dimensional plane. Due to the properties of eigenvectors, we know that when we transform an eigenvector, the transformed point will just be a multiple of the original point. Thus when a point that is on a matrix’s eigenvector is transformed by that matrix, it will move inwards or outwards from the origin along the line defined by the matrix’s eigenvector.</p>
<p>We can now relate the concept of eigenvalues and eigenvectors to our differential equation models. Take a look back at the phase planes for the exponential model example. For each of the phase planes, there are at least two straight lines of trajectories. In these cases the <em>x</em>- axis and the <em>y</em>-axis are the locations of these trajectories. If you have a system on the <em>x</em>- or <em>y</em>-axis in this example it will remain on that axis as it changes. This indicates that for this model, the eigenvectors are the two axises as a system on either of them does not change direction as it develops. That’s the definition of of an eigenvector.</p>
<p>For our purposes though, we do not really care about the actual direction or angle for these eigenvectors. We instead care about whether the state variables move inwards or outwards along these vectors. We can determine this from the eigenvalues of the Jacobian matrix. If the eigenvalue for an eigenvector is negative, then the values move inwards along that eigenvector; while if the eigenvalue is positive, they move outward along the eigenvector.</p>
<p>These eigenvalues tell us all we need to know about the stability of the system. Returning to our illustration of stability as a ball on a hill, we can think of these eigenvalues as being the slopes of the hill around the equilibrium point. If the eigenvalues are negative, the ground slopes down towards the equilibrium point forming a cup (leading to a stable equilibrium). If the eigenvalues are positive, the ground slopes away from the equilibrium point creating a hill (leading to an unstable equilibrium).</p>
<p>Eigenvalues can be calculated straightforwardly for a given Jacobian matrix. Briefly, for the Jacobian matrix <span class="math"><em>J</em></span>, the eigenvalues <span class="math"><em>λ</em></span> are the values that satisfy the following equation where <span class="math"><em>d</em><em>e</em><em>t</em></span> is the matrix determinant and <span class="math"><em>I</em></span> is the identity matrix.</p>
<p><br /><span class="math">0 = <em>d</em><em>e</em><em>t</em>(<em>J</em> − <em>λ</em> × <em>I</em>)</span><br /></p>
<p>We can do a quick example of calculating the eigenvalues for the Jacobian matrix we derived for our two-state variable exponential growth model.</p>
<p><br /><span class="math">$
\begin{aligned}
0 &amp;= det\left(\begin{bmatrix} \alpha  &amp; 0 \\ 0 &amp; \beta \end{bmatrix} - \lambda  \times  \begin{bmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{bmatrix} \right) \\
 &amp;= det\left(\begin{bmatrix} \alpha -\lambda &amp; 0 \\ 0 &amp; \beta-\lambda \end{bmatrix}\right) \\
 &amp;= (\alpha-\lambda) \times (\beta-\lambda) - 0 \times 0 \\
\lambda = \alpha, \lambda = \beta
\end{aligned}
$</span><br /></p>
<p>That is a fair amount of work to do. It’s even more complicated if you have more than two state variables. However, once you have gone through the calculations and determined the linearized eigenvalues for your equilibrium points, you know everything you might want to know about the stability of the system.</p>
<p>In the exponential growth model we can see that when the eigenvalues are both negative we have a stable equilibrium (refer to the graphs we developed earlier), while if either one is positive (or they both are) we have an unstable equilibrium. This makes a lot of sense as if either one is positive it pushes the system away from the equilibrium making it unstable. While if they are both negative then they both push the system towards the equilibrium point. Visualize the ball sitting in the cup or on the hill.</p>
<p>Let’s now look at some more examples.</p>
<p>First let’s take our simple disease model from earlier. If you recall that model was:</p>
<p><br /><span class="math">$
\begin{aligned}
\frac{dH}{dt} &amp;= - \alpha \times H \times S \\ 
\frac{dS}{dt} &amp;= \alpha \times H \times S
\end{aligned}
$</span><br /></p>
<p>First let’s calculate the Jacobian for this model. We take the partial derivatives of each of the two derivatives with respect to each of the two state variables to create a two-by-two matrix:</p>
<p><br /><span class="math">$
\text{Jacobian} = \begin{bmatrix} \dfrac{\partial}{\partial H }  - \alpha \times H \times S&amp; \dfrac{\partial}{\partial S }  - \alpha \times H \times S  \\  \dfrac{\partial}{\partial H } \alpha \times H \times S &amp; \dfrac{\partial}{\partial S } \alpha \times H \times S \end{bmatrix} =\begin{bmatrix}
-\alpha \times S &amp; -\alpha \times H \\
\alpha \times S &amp; \alpha \times H
\end{bmatrix}
$</span><br /></p>
<p>Next, we evaluate this Jacobian at one of our equilibrium points. Let’s choose the one where the <span class="math"><em>S</em> = 0</span> (no one is sick) and <span class="math"><em>H</em> = <em>P</em></span> (where <span class="math"><em>P</em></span> is the population size) so everyone is healthy:</p>
<p><br /><span class="math">$
\begin{bmatrix}
0 &amp; -\alpha \times P \\
0 &amp; \alpha \times P
\end{bmatrix}
$</span><br /></p>
<p>We can now find the eigenvalues for this matrix. Once we go through the math we get two eigenvalues: 0 and <span class="math"><em>α</em> × <em>P</em></span>. What do these mean? Well, since one of the eigenvalues is positive, this indicates we have movement away from the equilibrium point along at least one of the eigenvectors. The other vector has no movement (0 as the eigenvalue), but this one positive value will ensure we have an unstable equilibrium. Again, think of the ball, the positive eigenvalue indicates the ground slopes downwards from the equilibrium point so a ball balanced on top of this hill will be very unstable.</p>
<p>Now let’s do the second equilibrium. The one where <span class="math"><em>S</em> = <em>P</em></span> and <span class="math"><em>H</em> = 0</span> (everyone is sick). Let’s evaluate the Jacobian at this equilibrium:</p>
<p><br /><span class="math">$
\begin{bmatrix}
-\alpha \times P &amp; 0 \\
\alpha \times P &amp; 0
\end{bmatrix}
$</span><br /></p>
<p>Now let’s find the eigenvalues for this matrix. Once we go through the math we get two eigenvalues: this time 0 and <span class="math"> − <em>α</em> × <em>P</em></span>. Again, the 0 eigenvalue can be ignored as it does not cause growth or change. The second eigenvalue however is negative, indicating the system moves toward the equilibrium point again. Look back at our exponential growth phase planes. Negative coefficients indicate trajectories towards the equilibrium (create a cup for the ball). Thus this second equilibrium is a stable one.</p>
<p>It’s time to look at a more complex example, we’ll consider our predator prey model. First we calculate the Jacobian matrix for this model:</p>
<p><br /><span class="math">$
\text{Jacobian} = \begin{bmatrix} \dfrac{\partial}{\partial M }  \alpha \times M - \beta \times M \times W &amp; \dfrac{\partial}{\partial W }  \alpha \times M - \beta \times M \times W  \\  \dfrac{\partial}{\partial M } \gamma \times M \times W - \delta \times W &amp; \dfrac{\partial}{\partial W } \gamma \times M \times W - \delta \times W \end{bmatrix} = \begin{bmatrix}
\alpha - \beta \times W &amp; -\beta \times M \\
\gamma \times W &amp; \gamma \times M - \delta
\end{bmatrix}
$</span><br /></p>
<p>Now that we have the Jacobian, we’ll evaluate it at the trivial equilibrium of <span class="math"><em>M</em> = 0</span> and <span class="math"><em>W</em> = 0</span>. The resulting matrix is:</p>
<p><br /><span class="math">$
\begin{bmatrix}
\alpha  &amp; 0 \\
0 &amp; -\delta
\end{bmatrix}
$</span><br /></p>
<p>The eigenvalues of this matrix are <span class="math"><em>α</em></span> and <span class="math"> − <em>δ</em></span>. Thus one of the eigenvectors approach the equilibrium and the other moves away from it. This means we have an unstable equilibrium, which is actually good news as it indicates that the two animal populations will not spontaneously go extinct.</p>
<p>Let’s now evaluate the more complex equilibrium point we identified earlier of <span class="math"><em>M</em> = <em>δ</em> / <em>γ</em></span> and <span class="math"><em>W</em> = <em>α</em> / <em>β</em></span>. First we calculate the Jacobian at this point:</p>
<p><br /><span class="math">$
\begin{bmatrix}
0 &amp; \frac{-\beta \times \delta}{\gamma} \\
\frac{\gamma \times \alpha}{\beta} &amp; 0
\end{bmatrix}
$</span><br /></p>
<p>When we calculate the eigenvalues for this point we obtain <span class="math">$i\sqrt{\alpha \times \delta}$</span> and <span class="math">$-i\sqrt{\alpha \times \delta}$</span>. Here the <span class="math"><em>i</em></span> indicates the imaginary number <span class="math">$\sqrt{-1}$</span>. That’s a little strange, so how do we interpret this? Well, it turns out that imaginary numbers in the eigenvalues indicate oscillations in the phase planes, thus this results means we have oscillations around the point of equilibrium. Since we have no real component in the eigenvalues, there is neither attraction towards the point of equilibrium or repulsion away from it so we have a stable oscillation around the equilibrium.</p>
<p>Of course we already knew that from our simulations, but this stability analysis allows us to mathematically determine this relationship, a capability that is a very powerful tool. The following table summarizes the different types of eigenvalues that can be found for a system with two state variables and their associated stabilities.</p>
<table>
<thead>
<tr class="header">
<th align="left">Real Parts</th>
<th align="left">Imaginary Part?</th>
<th align="left">Stability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Both Equal to 0</td>
<td align="left">No</td>
<td align="left">Neutrally Stable</td>
</tr>
<tr class="even">
<td align="left">Both Equal to 0</td>
<td align="left">Yes</td>
<td align="left">Stable Oscillations</td>
</tr>
<tr class="odd">
<td align="left">Both greater than or equal to 0</td>
<td align="left">No</td>
<td align="left">Unstable</td>
</tr>
<tr class="even">
<td align="left">Both greater than or equal to 0</td>
<td align="left">Yes</td>
<td align="left">Unstable Oscillations</td>
</tr>
<tr class="odd">
<td align="left">Both less than or equal to 0</td>
<td align="left">No</td>
<td align="left">Stable</td>
</tr>
<tr class="even">
<td align="left">Both less than or equal to 0</td>
<td align="left">Yes</td>
<td align="left">Damped Oscillations (Stable)</td>
</tr>
</tbody>
</table>
<h2 id="analytical-vs.numerical-analysis"><a href="#analytical-vs.numerical-analysis">Analytical vs. Numerical Analysis</a></h2>
<p>The majority of this book has been focused on the numerical analysis of models and the qualitative conclusions that can be drawn from these results. This chapter has introduced a set of analytical tools that can be used – for the most part – to analyze the same models we have presented elsewhere in the book. Now take a moment to reflect on these different forms of analysis and what each one can offer.</p>
<p>The great benefit of the analytical techniques we present here is that they can provide precise answers to the general behavior of the system. Most of these same answers can also be determined numerically (e.g. running the simulation many times and exploring the results), but those answers will be less precise and definite. If you manually attempt to explore the parameter space of your model, it is possible that you could miss some set of parameter values that will give you unexpected behavior. An analytical analysis may be fully comprehensive and can guarantee the completeness of your conclusions.</p>
<p>A weakness of analytical methods is that your model must be solvable analytically. This means that you will probably need to keep your model from growing too complex in order to keep it analytically tractable. Also, some common functions such as <span class='equation'>IfThenElse</span> logic can make analytical work much more difficult. Further, some models may simply be impossible to analyze analytically and these insolvable models may in fact be very simple in practice. For example, any model containing both <span class="math"><em>X</em></span> and <span class="math">log(<em>X</em>)</span> in the same equation will be intractable to many forms of analysis.</p>
<p>We think both analytical and numerical work has a lot of applicability in practice. We do worry, though, about some of the analytical models and work we see presented or published. Sometimes these models seem to us to be much too simple to adequately represent the system they are supposed to be modeling. True, analytically the results of the models appear elegant and clear, but if the model is too simple to be relevant these results have little use and may actually be very misleading in practice. We worry sometimes that a focus on analytical work<sup><a href="#fn19" class="footnoteRef" id="fnref19">19</a></sup> leads to modelers prioritizing analytical tractability over model utility in their decisions. We believe a focus on analytical results can lead to reductionist models with reduced practical utility and we caution modelers against becoming too focused on elegant solutions and the expense of relevance. Where available, more realistic models are preferable, even if they require numerical solutions than overly simplistic analytically solvable ones.</p>
<h1 id="going-global"><a href="#going-global">Going Global</a></h1>
<p>Engaging people to cause positive action and change is one of the key goals of systems thinking and modeling. The growth of the Internet has created amazing opportunities to reach out and connect with people in ways that have never before been possible.</p>
<p>The Internet makes it easy to share models with other people. Not only can you email a specific person the tables and graphs of a model’s results, but you can also build webpages publishing these results to share with the world. What is more, these results do not have to be limited to static data. Using Insight Maker, you can include an interactive version of your model allowing others to experiment with it directly on your webpage. This can be done on any page you have rights to edit including your personal website, a blog, and a company’s information page.</p>
<p>Furthermore, the information flow doesn’t have to be one-way from you to others. In a webpage you can include a feedback or comment form that allows anyone to comment and share his or her thoughts on the model right next to the model itself. These comments can be saved directly on the page allowing other people to read them and enabling a discussion to form around the model. This creates many avenues for collaboration and learning that would simply be impossible without the Internet.</p>
<p>In this chapter, we will show you how to develop webpages to showcase your insights and models to the world. We’ll also show how to include tools to engage viewers and start a dialogue about your models. Before jumping into the models themselves, we will lay the groundwork by introducing the basic principles of web development. Once we have introduced these key principles, we’ll walk through two examples of developing interactive models.</p>
<h2 id="the-web-in-a-nutshell"><a href="#the-web-in-a-nutshell">The Web in a Nutshell</a></h2>
<p>The World Wide Web is based on a collection of many different technologies that work together. When developing a webpage there are three major technologies that you need to be familiar with: HTML, CSS and JavaScript. Each of these technologies or languages plays a different role in the development of a webpage.</p>
<table>
<thead>
<tr class="header">
<th align="left">Technology</th>
<th align="left">Commonly Called</th>
<th align="left">Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Hypertext Markup Language</td>
<td align="left">HTML</td>
<td align="left">Webpage Structure</td>
</tr>
<tr class="even">
<td align="left">Cascading Style Sheets</td>
<td align="left">CSS</td>
<td align="left">Webpage Style</td>
</tr>
<tr class="odd">
<td align="left">ECMAScript</td>
<td align="left">JavaScript</td>
<td align="left">Webpage Interactivity</td>
</tr>
</tbody>
</table>
<p>The web is interesting in that each of these technologies is based on old-fashioned, simple text files. You write HTML text files, you write CSS files, and you write JavaScript files<sup><a href="#fn20" class="footnoteRef" id="fnref20">20</a></sup>. You do not need any fancy tools to create these files. Any simple text editor will do. A web browser takes the simple instructions and code in these files and converts them to the rich interactive webpages you see when you browse the Internet.</p>
<p>When teaching web development many books and sources will recommend that you use some kind of interactive web site builder (like Adobe Dreamweaver <a href="http://www.adobe.com/products/dreamweaver.html">http://www.adobe.com/products/dreamweaver.html</a>). That is certainly a great way to get up and running, but ultimately you will find the approach very limiting. To truly harness the different tools offered to you by the Internet, you will need to have some understanding of the underlying technologies and be able to work with them directly. So, rather than using a website builder as a crutch, we recommend jumping right into learning HTML, CSS and JavaScript.</p>
<p>In the following sections we’ll give you a brief introductions to each of these fundamental web technologies. This introduction will be rapid so please do not worry if you do not fully understand everything. But the please do your best to engage with this material as it will provide you with everything you need to know in order to be able to get the maximum out of our later examples of interactive modeling webpages.</p>
<h3 id="html-basics"><a href="#html-basics">HTML Basics</a></h3>
<p>HTML defines the structure of a webpage or document. An HTML document is made up out of a set of <em>tags</em>. Each tag is enclosed in triangular brackets. For instance, there is a tag called “&lt;hr&gt;” that will create a horizontal division line in your document (“hr” is an abbreviation of “horizontal rule”).</p>
<p>Many types of tags will consist of an opening and closing tag paired together. A closing tag is written the same as an opening tag except there is a also backslash immediately after the first triangular bracket. For instance, you could use a pair of “&lt;b&gt;…&lt;/b&gt;” tags to make some text bold:</p>
<pre class="sourceCode html"><code class="sourceCode html">This is some text. <span class="kw">&lt;b&gt;</span>This text is bold.<span class="kw">&lt;/b&gt;</span> This text is not bold.</code></pre>
<p>Some tags may also have “attributes” which modify the behavior of the tag. Attributes are included within the opening brackets of the tag after the tag name. For instance, the “&lt;a&gt;” tag is used to make links between webpages. The “<a>” tag has an attribute “href”<sup><a href="#fn21" class="footnoteRef" id="fnref21">21</a></sup> which is the URL the link should connect to. The following HTML creates a link to Google:</p>
<pre class="sourceCode html"><code class="sourceCode html">If you ever need to search something, just go
to <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;http://Google.com&quot;</span><span class="kw">&gt;</span>Google.<span class="kw">&lt;/a&gt;</span>.</code></pre>
<p>Every HTML page contains some general boilerplate that structures the document. This boilerplate will look almost identical from webpage to webpage and it contains several unique tags which split the document into two sections: a “head” section to store the page title and page keywords for search engines, and a “body” section which contains the page content that is what is actually shown to the user. You will spend most of your time editing the body section. The standard template for a webpage is as follows:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Sample webpage<span class="kw">&lt;/title&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body&gt;</span>
    Document contents goes here...
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p>There are dozens of different tags you can use in your document to structure it. We can’t cover them all here, but the following table summarizes a few of the most useful ones:</p>
<table>
<thead>
<tr class="header">
<th align="left">Tag</th>
<th align="left">Usage</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">a</td>
<td align="left">Creates a link</td>
<td align="left">&lt;a href=“http://google.com”&gt;Google&lt;/a&gt;.</td>
</tr>
<tr class="even">
<td align="left">b</td>
<td align="left">Makes text bold</td>
<td align="left">This text is &lt;b&gt;bold&lt;/b&gt;.</td>
</tr>
<tr class="odd">
<td align="left">i</td>
<td align="left">Makes text italic</td>
<td align="left">This text is &lt;i&gt;italic&lt;/i&gt;.</td>
</tr>
<tr class="even">
<td align="left">u</td>
<td align="left">Makes text underlined</td>
<td align="left">This text is &lt;u&gt;underlined&lt;/u&gt;.</td>
</tr>
<tr class="odd">
<td align="left">center</td>
<td align="left">Centers a paragraph</td>
<td align="left">&lt;center&gt;In the middle.&lt;/center&gt;</td>
</tr>
<tr class="even">
<td align="left">p</td>
<td align="left">Creates a paragraph of text</td>
<td align="left">&lt;p&gt;This is a paragraph.&lt;/p&gt;</td>
</tr>
<tr class="odd">
<td align="left">hr</td>
<td align="left">Creates a dividing line</td>
<td align="left">Something &lt;hr&gt; Something Else</td>
</tr>
<tr class="even">
<td align="left">h1</td>
<td align="left">Creates a heading</td>
<td align="left">&lt;h1&gt;This is a Heading&lt;/h1&gt;</td>
</tr>
<tr class="odd">
<td align="left">img</td>
<td align="left">Embeds an image</td>
<td align="left">&lt;img src=“http://example.com/image.png”&gt;</td>
</tr>
</tbody>
</table>
<p>We can combine these tags together to form more complex documents. The following is an example of a full-featured webpage.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Sample webpage<span class="kw">&lt;/title&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;h1&gt;</span>Introduction<span class="kw">&lt;/h1&gt;</span>
        <span class="kw">&lt;p&gt;</span>Here is some information about my page.<span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;h1&gt;</span>The Content<span class="kw">&lt;/h1&gt;</span>
        <span class="kw">&lt;p&gt;</span>Here we have the meat of the page.<span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;hr&gt;</span>
    <span class="kw">&lt;h2&gt;</span>For Further Information<span class="kw">&lt;/h2&gt;</span>
        <span class="kw">&lt;p&gt;</span>Here we have links to other sites about this content:<span class="kw">&lt;p&gt;</span>
        <span class="kw">&lt;p&gt;</span>We could check out <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;http://BeyondConnectingTheDots.com&quot;</span><span class="kw">&gt;</span>
            this book&#39;s site<span class="kw">&lt;/a&gt;</span> for instance.<span class="kw">&lt;/p&gt;</span>
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p>Open whatever word processor you use on your computer and save this to <em>MyPage.html</em> as a plain text file<sup><a href="#fn22" class="footnoteRef" id="fnref22">22</a></sup>. You can then open this file in your web browser (Internet Explore, Firefox, Chrome, Safari, etc.). Experiment by adding some more paragraphs and formatting to see how the document changes.</p>
<p>For more information and tutorials on HTML, we recommend the Mozilla Developer Network’s guides (<a href="https://developer.mozilla.org/en-US/docs/Web/HTML">https://developer.mozilla.org/en-US/docs/Web/HTML</a>).</p>
<h3 id="css-basics"><a href="#css-basics">CSS Basics</a></h3>
<p>Where HTML is used to define the structure of a document, CSS is responsible for styling this structure. This styling includes aspects like font and color choices in addition to the general layout. A CSS document is a list of rules where each rule has two parts: a selector that tells the browser what elements of the page the rule applies to, and a set of styles that tells browser how to style those elements. For example, take the following CSS code.</p>
<pre class="sourceCode css"><code class="sourceCode css">p <span class="kw">{</span>
    <span class="kw">margin:</span> <span class="dt">20px</span><span class="kw">;</span>
<span class="kw">}</span>

h1, h2 <span class="kw">{</span>
    <span class="kw">font-size:</span> <span class="dt">72px</span><span class="kw">;</span>
    <span class="kw">color:</span> <span class="dt">red</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>This code has two rules. In the first rule the selector is “p” meaning the rule will apply to all “&lt;p&gt;” tags in the document. The styling for this rule says to apply a 20-pixel margin around each of these paragraph tags. The second rule has the selector “h1, h2”. This means apply the rule to both “&lt;h1&gt;” and “&lt;h2&gt;” tags and to set the contents of those tags to have an extra large font and to be colored red.</p>
<p>There are numerous different aspects of an element’s style you can set with CSS. For a full and detailed reference we recommend the Mozilla Developer Network’s coverage of CSS (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference">https://developer.mozilla.org/en-US/docs/Web/CSS/Reference</a>).</p>
<p>CSS for a webpage can be placed in a standalone file which is referenced by the webpage or it can be included directly within the webpage. Both these can be accomplished by placing a CSS rules within a special tag in the <em>head</em> section of the document. For example, taking the <em>head</em> section from our earlier document, we could either embed the CSS directly:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Sample webpage<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;style&gt;</span>
        p <span class="kw">{</span>
            <span class="kw">margin:</span> <span class="dt">20px</span><span class="kw">;</span>
        <span class="kw">}</span>
        h1, h2 <span class="kw">{</span>
            <span class="kw">font-size:</span> <span class="dt">72px</span><span class="kw">;</span>
            <span class="kw">color:</span> <span class="dt">red</span><span class="kw">;</span>
        <span class="kw">}</span>
    <span class="kw">&lt;/style&gt;</span>
<span class="kw">&lt;/head&gt;</span></code></pre>
<p>Alternatively we could save the CSS to an external text file (such as <em>MyStyles.css</em>) and link to it in the <em>head</em> of our document:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Sample webpage<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> type=</span><span class="st">&quot;text/css&quot;</span><span class="ot"> href=</span><span class="st">&quot;MyStyles.css&quot;</span><span class="kw">&gt;</span>
<span class="kw">&lt;/head&gt;</span></code></pre>
<h3 id="javascript-basics"><a href="#javascript-basics">JavaScript Basics</a></h3>
<p>JavaScript<sup><a href="#fn23" class="footnoteRef" id="fnref23">23</a></sup> provides interactivity for webpages. JavaScript is a powerful programming language that you can use to respond to user actions, run calculations, or modify a webpage. An example of using JavaScript code to calculate a Fibonacci number<sup><a href="#fn24" class="footnoteRef" id="fnref24">24</a></sup> is below:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> <span class="fu">fib</span>(n){
    <span class="kw">if</span>(n==<span class="dv">1</span> || n==<span class="dv">0</span>){
        <span class="kw">return</span> <span class="dv">1</span>;
    }
    <span class="kw">return</span> <span class="fu">fib</span>(n<span class="dv">-1</span>) + <span class="fu">fib</span>(n<span class="dv">-2</span>);
}

<span class="fu">alert</span>(<span class="st">&quot;The tenth Fibonacci number is: &quot;</span>+<span class="fu">fib</span>(<span class="dv">10</span>));</code></pre>
<p>Like CSS, there are two ways to embed JavaScript into an HTML document. The first is to include the JavaScript directly in the document like we did for the CSS:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Sample webpage<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;script&gt;</span>
<span class="er">        function fib(n){</span>
            <span class="kw">if</span>(n==<span class="dv">1</span> || n==<span class="dv">0</span>){
                <span class="kw">return</span> <span class="dv">1</span>;
            }
<span class="er">            return fib(n-1) + fib(n-2);</span>
        }

<span class="er">        alert(&quot;The tenth Fibonacci number is: &quot;+fib(10));</span>
    <span class="kw">&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span></code></pre>
<p>The second method to include the code is to save the JavaScript into a text file (such as <em>MyScript.js</em>) and link to it in the document:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Sample webpage<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;MyScript.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span></code></pre>
<p>JavaScript is a very powerful tool but also a very complex one. This chapter will illustrate usages of JavaScript but we cannot hope to teach you how to write new JavaScript yourself in this single chapter. Again, we refer you to the Mozilla Developer Network to learn more about JavaScript (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">https://developer.mozilla.org/en-US/docs/Web/JavaScript</a>).</p>
<h2 id="creating-an-webpage-for-engagement"><a href="#creating-an-webpage-for-engagement">Creating an Webpage for Engagement</a></h2>
<p>Now that we have made it through some of the technical details, let’s jump into building a webpage for an interactive model that users can comment on. There are three basic things we want this webpage to have:</p>
<ol style="list-style-type: decimal">
<li>A description of the challenge we are tackling, why we built the model, and what the model contains.</li>
<li>An interactive version of the model that the user can explore and run simulations with.</li>
<li>A discussion forum about the model where users can post comments and see what others have posted.</li>
</ol>
<p>This might seem ambitious, and it is! But using freely available technologies and services we will be able to put this webpage together very quickly. Let us split the process of developing the webpage into three steps: first we’ll create the general page framework, then we will add the interactive model, and lastly we will add the discussion forum.</p>
<h3 id="creating-the-page-and-description"><a href="#creating-the-page-and-description">Creating the Page and Description</a></h3>
<p>Assume we decide we want to create a webpage exploring population growth and whether the Earth can sustain humanity into the future. We start building our webpage by creating an HTML file and putting the following text in it.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Fragile Future<span class="kw">&lt;/title&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;h1&gt;</span>Introduction<span class="kw">&lt;/h1&gt;</span>
        <span class="kw">&lt;p&gt;</span>This is a model of world population
            changes into the future.<span class="kw">&lt;/p&gt;</span>
            
    <span class="kw">&lt;h1&gt;</span>The Model<span class="kw">&lt;/h1&gt;</span>
        [Model goes here]
        
    <span class="kw">&lt;h1&gt;</span>Discussion<span class="kw">&lt;/h1&gt;</span>
        [Discussion forum goes here]
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p>This creates a page with three sections: Introduction, The Model, and Discussion. We can fill in the Introduction section with text describing the problem we face and our approach to understanding it in our model. In this example page, we have just written a single sentence but you could extend it with more details on the model to fully explain to the viewer why this is important and how we have modeled it.</p>
<p>The placeholders [Model goes here] and [Discussion forum goes here] are where we will insert our model and discussion forum later on. For now though, we just want to layout the structure of the page.</p>
<h3 id="adding-an-interactive-model"><a href="#adding-an-interactive-model">Adding an Interactive Model</a></h3>
<p>Now that we have created the structure for our webpage, we can add the interactive model. There are several ways to do this. One way would be to write the model in JavaScript and include it directly in the webpage. JavaScript is a full-featured programming language and could be used to implement any of the models described in this book. Although implementing a model in JavaScript is definitely possible, it would require a lot of work. Writing a model in JavaScript would take a large amount of time and would not be possible without extensive programming experience.</p>
<p>Fortunately, using Insight Maker there is a much easier approach. Insight Maker models can be easily embedded in a webpage without any special effort on your part. So rather than writing our world population model in JavaScript, we can simply build the model in Insight Maker and then embed the resulting model in our webpage. So build your model in Insight Maker just as you would build one normally. You can also take an existing model that you have already built and use that one. For this example, we will use the World3 model (<a href="http://InsightMaker.com/insight/1954">http://InsightMaker.com/insight/1954</a>) which has a detailed worldwide model of population change<sup><a href="#fn25" class="footnoteRef" id="fnref25">25</a></sup>.</p>
<p>Once you have finished constructing your model, click the  button in the  section of the Insight Maker toolbar. A window will open containing HTML code that you should paste into your webpage. This code will embed a version of the insight when it is placed in a webpage document. For the World3 model this code is something like:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;IFRAME</span><span class="ot"> SRC=</span><span class="st">&quot;http://InsightMaker.com/insight/1954/embed?topBar=1</span><span class="er">&amp;</span><span class="st">sideBar=1</span><span class="er">&amp;</span><span class="st">zoom=1&quot;</span>
<span class="ot">TITLE=</span><span class="st">&quot;Embedded Insight&quot;</span><span class="ot"> width=</span><span class="st">600</span><span class="ot"> height=</span><span class="st">420</span><span class="kw">&gt;&lt;/IFRAME&gt;</span></code></pre>
<p>Take this code and use it to replace the [Model goes here] placeholder in your webpage. Save the webpage and open it in a browser and you will now have a rich interactive version of your model embedded directly in your webpage!</p>
<p>There are several features of the embedding that you can control by editing the “&lt;IFRAME&gt;” tag. For instance the “width” and “height” attributes control the size of the embedded model. They are specified in pixels and you may change them to make the embedded model smaller or larger. The “topBar” and “sideBar” parts of the URL control whether the toolbar and the sidebar will be shown in the embedded model’s interface. By default, they are set to 1 indicating these elements will be shown. Set them to 0 to hide the bars when the model is displayed. The “zoom” part determines whether the model diagram is shown at its full size or if it is zoomed to fit the window (the default). Set this to 0 to prevent the model diagram from automatically being resized to fit the window.</p>
<h3 id="adding-a-discussion-section"><a href="#adding-a-discussion-section">Adding a Discussion Section</a></h3>
<p>Now we have one last piece to add before we have completed our webpage. We want people to be able to carry on a discussion about the model directly within the page. To make this possible, we need to add some sort of forum or discussion software.</p>
<p>We could program our own custom discussion system; but, like the case of the model itself, this is a place where it is easier to leverage existing free software than it is to develop our own. A number of free commenting and discussion systems are available. One of these is called Disqus (<a href="http://disqus.com">http://disqus.com</a>). If you read a number of different news sites or blogs you have probably already used Disqus as many sites utilize their software.</p>
<p>You will need to sign up for a Disqus account to be able to embed their discussion software, but fortunately like Insight Maker it should not cost you a thing. Once you have completed signing up at <a href="http://disqus.com">http://disqus.com</a>, follow the site for directions on how to embed Disqus in your own webpage. You should be given code that looks similar to the following to place into your webpage:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;disqus_thread&quot;</span><span class="kw">&gt;</span>Discussion Here<span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span>
    <span class="kw">var</span> disqus_shortname = <span class="st">&#39;SHORT-NAME-DEMO&#39;</span>; <span class="co">// required: replace example with your forum shortname</span>
    (<span class="kw">function</span>() {
        <span class="kw">var</span> dsq = <span class="ot">document</span>.<span class="fu">createElement</span>(<span class="st">&#39;script&#39;</span>); <span class="ot">dsq</span>.<span class="fu">type</span> = <span class="st">&#39;text/javascript&#39;</span>; <span class="ot">dsq</span>.<span class="fu">async</span> = <span class="kw">true</span>;
        <span class="ot">dsq</span>.<span class="fu">src</span> = <span class="st">&#39;//&#39;</span> + disqus_shortname + <span class="st">&#39;.disqus.com/embed.js&#39;</span>;
        (<span class="ot">document</span>.<span class="fu">getElementsByTagName</span>(<span class="st">&#39;head&#39;</span>)[<span class="dv">0</span>] || <span class="ot">document</span>.<span class="fu">getElementsByTagName</span>(<span class="st">&#39;body&#39;</span>)[<span class="dv">0</span>]).<span class="fu">appendChild</span>(dsq);
<span class="er">    })();</span>
&lt;<span class="ot">/script&gt;   </span></code></pre>
<p>First edit this code as instructed (e.g. replace any usernames or ids with the ones you have been provided by Disqus) and then replace the [Discussion forum goes here] placeholder in your page with this code. Load the page and test to see if it is working. One issue with Disqus is it might not work if the webpage is being opened from a file on your computer. You may need to upload it to the domain name you entered when you signed up for Disqus to ensure it works correctly.</p>
<h3 id="completed-page"><a href="#completed-page">Completed Page</a></h3>
<div class="figure">
<img src="embedded_model.png" alt="Figure 1. Completed page with embedded model." /><p class="caption">Figure 1. Completed page with embedded model.</p>
</div>
<p>We have just put together a powerful site very quickly. Our site lets us share an interactive model with people anywhere in the world and allows them to comment directly on the model. All that it took to do this was the following completed code:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Fragile Future<span class="kw">&lt;/title&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;h1&gt;</span>Introduction<span class="kw">&lt;/h1&gt;</span>
        <span class="kw">&lt;p&gt;</span>This is a model of world population
            changes into the future.<span class="kw">&lt;/p&gt;</span>
            
    <span class="kw">&lt;h1&gt;</span>The Model<span class="kw">&lt;/h1&gt;</span>
        <span class="kw">&lt;IFRAME</span><span class="ot"> SRC=</span><span class="st">&quot;http://InsightMaker.com/insight/1954/embed?topBar=1</span><span class="er">&amp;</span><span class="st">sideBar=1</span><span class="er">&amp;</span><span class="st">zoom=1&quot;</span>
<span class="ot">        TITLE=</span><span class="st">&quot;Embedded Insight&quot;</span><span class="ot"> width=</span><span class="st">600</span><span class="ot"> height=</span><span class="st">420</span><span class="kw">&gt;&lt;/IFRAME&gt;</span>
        
    <span class="kw">&lt;h1&gt;</span>Discussion<span class="kw">&lt;/h1&gt;</span>
        <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;disqus_thread&quot;</span><span class="kw">&gt;</span>Discussion here<span class="kw">&lt;/div&gt;</span>
        <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span>
            <span class="kw">var</span> disqus_shortname = <span class="st">&#39;&#39;</span>; <span class="co">// required: replace example with your forum shortname</span>
            (<span class="kw">function</span>() {
                <span class="kw">var</span> dsq = <span class="ot">document</span>.<span class="fu">createElement</span>(<span class="st">&#39;script&#39;</span>); <span class="ot">dsq</span>.<span class="fu">type</span> = <span class="st">&#39;text/javascript&#39;</span>; <span class="ot">dsq</span>.<span class="fu">async</span> = <span class="kw">true</span>;
                <span class="ot">dsq</span>.<span class="fu">src</span> = <span class="st">&#39;//&#39;</span> + disqus_shortname + <span class="st">&#39;.disqus.com/embed.js&#39;</span>;
                (<span class="ot">document</span>.<span class="fu">getElementsByTagName</span>(<span class="st">&#39;head&#39;</span>)[<span class="dv">0</span>] || <span class="ot">document</span>.<span class="fu">getElementsByTagName</span>(<span class="st">&#39;body&#39;</span>)[<span class="dv">0</span>]).<span class="fu">appendChild</span>(dsq);
<span class="er">            })();</span>
        &lt;<span class="ot">/script&gt;     </span>
<span class="ot">&lt;/body</span>&gt;
&lt;<span class="ot">/html&gt;</span></code></pre>
<p>A working version of this site may be viewed at <a href="http://BeyondConnectingTheDots.com/book/embedded-model/">http://BeyondConnectingTheDots.com/book/embedded-model/</a>. There is a lot more we could do with the site. Spend some time now experimenting with it. Add some more descriptive text, maybe add some images, and try to use CSS to adjust the styling.</p>
<h2 id="flight-simulators-and-serious-games"><a href="#flight-simulators-and-serious-games">Flight Simulators and Serious Games</a></h2>
<p>In the preceding section we described how to rapidly develop a website that contains an interactive model and provides users the ability to comment and discuss the model directly on the page. By leveraging Insight Maker, we were able to get an interactive version of our model embedded in our webpage just by copying a few lines of code. By leveraging Disqus, we were able to include a discussion forum with a similar amount of effort.</p>
<p>In many cases, what we created may be exactly what you are looking for. However, in other cases it is possible that you will wish to provide your users with a unique experience tailored to understanding a specific problem. For instance maybe you would like to develop what is known as a “flight simulator”, a simulation tool that puts the user in the position of trying to manage a problem or achieve an outcome. For example, if you had a model of a business going through a disruptive change, you could place the user in the position of the company’s leader and with instructions to adjust parameters in the model in order to safely shepherd the company through this challenge.</p>
<p>Similarly, “serious games” are tools designed to both engage and educate about a system. You can create a simulation model at the heart of a serious game or a flight simulator. You may give users direct access to this simulation model’s interface, but generally you will want to build a custom interface on top of the model that hides the stock and flow diagram and instead displays a control panel type interface to the user.</p>
<p>Fortunately, web technologies provide a rich environment for developing these flight simulators and serious games. Furthermore, using Insight Maker you can build your model and simulation engine using its model building tools and then build a custom interface on top of the model to provide the exact experience you want to the user. In the following sections we will develop a custom interface to control our world population simulation.</p>
<h3 id="setting-up-the-page"><a href="#setting-up-the-page">Setting up the Page</a></h3>
<p>We’ll start by stripping down our page from the previous example. Let’s remove the commenting system and the introduction so the page just contains the model (you can add these other items back later on your own as an exercise). After we do this, we will be left with a page just containing the embedded world simulation model.</p>
<p>In this case, however, we do not want the user to actually interact with or even see the embedded model. We will be adding our own custom interface and just using the embedded model to run simulation in the background. To hide the embedded model we can add a CSS rule that makes the &lt;iframe&gt; tag invisible:</p>
<pre class="sourceCode css"><code class="sourceCode css">iframe <span class="kw">{</span>
    <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span>
<span class="kw">}</span></code></pre>
<p>This rule turns off the display of all &lt;iframe&gt; tags in the page. They are still there and in the page, but they are not shown to the user. The resulting completed template for our page is printed below. When you open this in your browser you should see a completely blank webpage.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Fragile Future<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;style&gt;</span>
        iframe <span class="kw">{</span>
            <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span>
        <span class="kw">}</span>
    <span class="kw">&lt;/style&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;IFRAME</span><span class="ot"> SRC=</span><span class="st">&quot;http://InsightMaker.com/insight/1954/embed?topBar=1</span><span class="er">&amp;</span><span class="st">sideBar=1</span><span class="er">&amp;</span><span class="st">zoom=1&quot;</span>
<span class="ot">    TITLE=</span><span class="st">&quot;Embedded Insight&quot;</span><span class="ot"> width=</span><span class="st">600</span><span class="ot"> height=</span><span class="st">420</span><span class="kw">&gt;&lt;/IFRAME&gt;</span>  
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<h3 id="creating-the-control-panel"><a href="#creating-the-control-panel">Creating the Control Panel</a></h3>
<p>HTML has a tag called “<input>” that lets you create form elements for users to input data. The &lt;input&gt; tag has an attribute called “type” that determines what the type of the input element will be. There are a wide number of types including “number”, “text”, “color”, “textarea”, “date”, and “button”. For our control panel, we’ll design it to modify two parameters of the model and to have a button users can press to run the simulation. In addition to specifying the type of the inputs, we should also specify their initial values in the control panel. We can do that using the “value” attribute of the &lt;input&gt; tag.</p>
<p>Finally, we will need some method to reference the inputs and to load their values later on. Each tag in an HTML document has an optional “id” attribute. This attribute can be used to obtain a reference to that element from JavaScript. We’ll set the id attribute for our two input fields so we can obtain their values when we are ready to run the simulation.</p>
<p>The resulting control panel will look something like the following code. As you can see we have presented the user with a simple task, to find a combination of settings that results in over 5 billion people in the year 2100 (which is in fact a significant decrease from the current population size so it should not be too hard). You should place this code after the &lt;iframe&gt; tag in your document.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;center&gt;</span>
    <span class="kw">&lt;p&gt;</span>This is a game to keep the world&#39;s population larger than 5 billion in the year 2100.
        We can experiment with the amount of non-renewable resources in the world and the
        start year for a clean energy eco-friendly policy.<span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;p&gt;</span> Initial Non-Renewable Resources: <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> value=</span><span class="st">&quot;100&quot;</span><span class="ot"> id=</span><span class="st">&quot;resources&quot;</span> <span class="kw">/&gt;</span> % <span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;p&gt;</span> Start Policy Year: <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> value=</span><span class="st">&quot;2013&quot;</span><span class="ot"> id=</span><span class="st">&quot;year&quot;</span> <span class="kw">/&gt;</span> <span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;p&gt;</span> <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot"> value=</span><span class="st">&quot;Test Scenario&quot;</span> <span class="kw">/&gt;</span> <span class="kw">&lt;/p&gt;</span>
<span class="kw">&lt;/center&gt;</span></code></pre>
<p>This will create two input fields allowing users to input numeric values. The first, <em>Initial Non-Renewable Resources</em> will allow the user to increase or decrease the amount of non-renewable resources assumed in the model at the start of the simulation. The second, <em>Start Policy Year</em> allows the user to specify the start date to implement a clean technology policy which will reduce the amount of pollutants being generated in the simulation. A button is also created that lets the user test the scenario in the simulation.</p>
<h3 id="making-it-interactive"><a href="#making-it-interactive">Making it Interactive</a></h3>
<p>We use JavaScript to add interactivity to the webpage. Let’s define a JavaScript function <em>testScenario</em> that we will use to first read in the user specified options from the control panel, then run the simulation with these parameter values, and finally report to the user whether or not they were successful in keeping the population size above 5 billion.</p>
<p>We will fill out the <em>testScenario</em> function with steps later; but for now, just add the following code to the head section of your webpage.</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript">&lt;script&gt;
    <span class="kw">function</span> <span class="fu">testScenario</span>(){
        <span class="fu">alert</span>(<span class="st">&quot;Scenario tested!&quot;</span>);
    }
&lt;<span class="ot">/script&gt;</span></code></pre>
<p>This creates the function, but we also need a way for the function to be executed when the “Test Scenario” button is pressed. There are several ways to do this. The easiest is to set the “onClick” attribute of the button to call the function. The “onClick” attribute of an input may contain JavaScript code that is executed when the button is clicked. To link up our button with the <em>testScenario</em> function, we change our input button in the HTML to:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;p&gt;</span> <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot"> value=</span><span class="st">&quot;Test Scenario&quot;</span><span class="ot"> onclick=</span><span class="st">&quot;testScenario()&quot;</span> <span class="kw">/&gt;</span> <span class="kw">&lt;/p&gt;</span></code></pre>
<p>Implement the webpage up to this point and check to make sure that you see a message pop up saying “Scenario tested!” when you press the “Test Scenario” button.</p>
<p>Now that we have implemented basic interactivity, let’s flesh out the <em>testScenario</em> function.</p>
<h4 id="load-parameter-values-from-the-control-panel"><a href="#load-parameter-values-from-the-control-panel">Load Parameter Values from the Control Panel</a></h4>
<p>To access an input field from JavaScript we use the <em>document.getElementById</em> function. This function is built into your browser and allows you to obtain a reference to one of the input elements based on its “id” attribute. Once we have a reference to the input element we can use the element’s “value” property to obtain the number the user has entered into the input field.</p>
<p>The following code defines two variables in JavaScript with the same values as the ones the user has entered. Enter this code at the top of your <em>testScenario</em> function.</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> resources = <span class="ot">document</span>.<span class="fu">getElementById</span>(<span class="st">&quot;resources&quot;</span>).<span class="fu">value</span>;
<span class="kw">var</span> year = <span class="ot">document</span>.<span class="fu">getElementById</span>(<span class="st">&quot;year&quot;</span>).<span class="fu">value</span>;</code></pre>
<h4 id="inject-the-parameter-values-into-the-model"><a href="#inject-the-parameter-values-into-the-model">Inject the Parameter Values into the Model</a></h4>
<p>Insight Maker has an extensive JavaScript API<sup><a href="#fn26" class="footnoteRef" id="fnref26">26</a></sup> that can be used to modify and script models. This is the same API that may be used with Button primitives. Refer to the API reference at <a href="http://insightmaker.com/sites/default/files/API/files/API-js.html">http://insightmaker.com/sites/default/files/API/files/API-js.html</a> for full details about the API.</p>
<p>The API instructions provide examples about how to integrate and modify an embedded model. We will adapt those instructions to our own case. First, as the instructions indicate we need to update our &lt;iframe&gt; tag to add an “id” attribute. We adjust our &lt;iframe&gt; tag like so:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;IFRAME</span><span class="ot"> id=</span><span class="st">&quot;model&quot;</span><span class="ot"> SRC=</span><span class="st">&quot;http://InsightMaker.com/insight/1954/embed?topBar=1</span><span class="er">&amp;</span><span class="st">sideBar=1</span><span class="er">&amp;</span><span class="st">zoom=1&quot;</span>
<span class="ot">TITLE=</span><span class="st">&quot;Embedded Insight&quot;</span><span class="ot"> width=</span><span class="st">600</span><span class="ot"> height=</span><span class="st">420</span><span class="kw">&gt;&lt;/IFRAME&gt;</span> </code></pre>
<p>Now we can obtain a reference to the model using the <em>document.getElementById</em> function from before and then we can send API commands to it using its <em>postMessage</em> function. Within Insight Maker, we use the <em>findName</em> API command to get a reference to a specific primitive and then use the <em>setValue</em> API command to set the value of that primitive to the value of the parameter in the control panel. Add the following code to the <em>testScenario</em> function.</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> model = <span class="ot">document</span>.<span class="fu">getElementById</span>(<span class="st">&quot;model&quot;</span>).<span class="fu">contentWindow</span>;

<span class="ot">model</span>.<span class="fu">postMessage</span>(<span class="st">&quot;setValue(findName(&#39;Initial Nonrenewable Resources&#39;), &#39;&quot;</span>+(resources/<span class="dv">100</span>)*<span class="dv">1000000000000</span>+<span class="st">&quot;&#39;)&quot;</span>, <span class="st">&quot;*&quot;</span>);
<span class="ot">model</span>.<span class="fu">postMessage</span>(<span class="st">&quot;setValue(findName(&#39;Progressive Policy Adoption&#39;), &#39;&quot;</span>+year+<span class="st">&quot;&#39;)&quot;</span>, <span class="st">&quot;*&quot;</span>);</code></pre>
<p>This convoluted <em>postMessage</em> mechanism to pass JavaScript commands to the embedded model is a constraint necessitated by your browser’s security mechanisms. It makes the processing of interacting with embedded models more complex than we would like, but fortunately it is still possible to do everything that we need to do even using it.</p>
<h4 id="run-simulation-and-access-results"><a href="#run-simulation-and-access-results">Run Simulation and Access Results</a></h4>
<p>To run the model, we use the <em>runModel</em> Insight Maker API command. We indicate that the simulation should be run in “silent” mode so the results are returned<sup><a href="#fn27" class="footnoteRef" id="fnref27">27</a></sup>. We then use the <em>lastValue</em> function to obtain the final population size for the simulation in the year 2100. Copy this into your webpage at the end of the <em>testScenario</em> function:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">model</span>.<span class="fu">postMessage</span>(<span class="st">&quot;runModel({silent: true}).lastValue(findName(&#39;Population&#39;))&quot;</span>, <span class="st">&quot;*&quot;</span>);</code></pre>
<p>So far we have just demonstrated one-way communication between the control panel and the embedded model. This is the first point in time when we need to be able to communicate the other way: to receive data back from the embedded model.</p>
<p>Unfortunately, due to the security constraints imposed by your browser, this is slightly complex. In order to receive a message back from the embedded model, we need to register an event handler with your main browser window. Don’t worry if you don’t fully understand this, just copy the code below into the script tag of your window.</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">function</span> <span class="fu">scenarioComplete</span>(event)
{
    <span class="kw">if</span>(<span class="ot">event</span>.<span class="fu">data</span>){
        <span class="kw">var</span> pop = <span class="ot">Math</span>.<span class="fu">round</span>(<span class="ot">event</span>.<span class="fu">data</span>);
        <span class="kw">if</span>(pop &gt; <span class="dv">5000000000</span>){
            <span class="fu">alert</span>(<span class="st">&quot;You won! The population size of &quot;</span>+pop+<span class="st">&quot; is larger than 5 Billion!&quot;</span>);
        }<span class="kw">else</span>{
            <span class="fu">alert</span>(<span class="st">&quot;You failed! The population size of &quot;</span>+pop+<span class="st">&quot; is smaller than 5 Billion!&quot;</span>);
            <span class="fu">alert</span>(<span class="st">&quot;Please try again.&quot;</span>);
        }
    }
}

<span class="ot">window</span>.<span class="fu">addEventListener</span>(<span class="st">&quot;message&quot;</span>, scenarioComplete, <span class="kw">false</span>);</code></pre>
<h4 id="final-result"><a href="#final-result">Final Result</a></h4>
<div class="figure">
<img src="control_panel.png" alt="Figure 2. Completed control panel." /><p class="caption">Figure 2. Completed control panel.</p>
</div>
<p>The code for the completed webpage is provided below and a working version of the page may viewed at <a href="http://BeyondConnectingTheDots.com/book/control-panel/">http://BeyondConnectingTheDots.com/book/control-panel/</a>.</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;title&gt;</span>A Fragile Future<span class="kw">&lt;/title&gt;</span>
    <span class="kw">&lt;style&gt;</span>
        iframe <span class="kw">{</span>
            <span class="kw">display:</span> <span class="dt">none</span><span class="kw">;</span>
        <span class="kw">}</span>
    <span class="kw">&lt;/style&gt;</span>
    <span class="kw">&lt;script&gt;</span>
<span class="er">    function testScenario(){</span>
<span class="er">        var resources = document.getElementById(&quot;resources&quot;).value;</span>
<span class="er">        var year = document.getElementById(&quot;year&quot;).value;</span>
        
<span class="er">        var model = document.getElementById(&quot;model&quot;).contentWindow;</span>

<span class="er">        model.postMessage(&quot;setValue(findName(&#39;Initial Nonrenewable Resources&#39;), &#39;&quot;+(resources/100)*1000000000000+&quot;&#39;)&quot;, &quot;*&quot;);</span>
<span class="er">        model.postMessage(&quot;setValue(findName(&#39;Progressive Policy Adoption&#39;), &#39;&quot;+year+&quot;&#39;)&quot;, &quot;*&quot;);</span>
        
<span class="er">        model.postMessage(&quot;runModel({silent: true}).lastValue(findName(&#39;Population&#39;))&quot;, &quot;*&quot;);</span>
    }
    
<span class="er">    function scenarioComplete(event)</span>
    {
        <span class="kw">if</span>(<span class="ot">event</span>.<span class="fu">data</span>){
            <span class="kw">var</span> pop = <span class="ot">Math</span>.<span class="fu">round</span>(<span class="ot">event</span>.<span class="fu">data</span>);
            <span class="kw">if</span>(pop &gt; <span class="dv">5000000000</span>){
                <span class="fu">alert</span>(<span class="st">&quot;You won! The population size of &quot;</span>+pop+<span class="st">&quot; is larger than 5 Billion!&quot;</span>);
            }<span class="kw">else</span>{
                <span class="fu">alert</span>(<span class="st">&quot;You failed! The population size of &quot;</span>+pop+<span class="st">&quot; is smaller than 5 Billion!&quot;</span>);
                <span class="fu">alert</span>(<span class="st">&quot;Please try again.&quot;</span>);
            }
        }
    }

<span class="er">    window.addEventListener(&quot;message&quot;, scenarioComplete, false);</span>
    <span class="kw">&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;IFRAME</span><span class="ot"> id=</span><span class="st">&quot;model&quot;</span><span class="ot"> SRC=</span><span class="st">&quot;http://InsightMaker.com/insight/1954?embed=1</span><span class="er">&amp;</span><span class="st">topBar=1</span><span class="er">&amp;</span><span class="st">sideBar=1</span><span class="er">&amp;</span><span class="st">zoom=1&quot;</span>
<span class="ot">    TITLE=</span><span class="st">&quot;Embedded Insight&quot;</span><span class="ot"> width=</span><span class="st">600</span><span class="ot"> height=</span><span class="st">420</span><span class="kw">&gt;&lt;/IFRAME&gt;</span>  
    
    <span class="kw">&lt;center&gt;</span>
        <span class="kw">&lt;p&gt;</span>This is a game to keep the world&#39;s population larger than 5 billion in the year 2100.
            We can experiment with the amount of non-renewable resources in the world and the
            start year for a clean energy eco-friendly policy.<span class="kw">&lt;/p&gt;</span>
        <span class="kw">&lt;p&gt;</span> Initial Non-Renewable Resources: <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> value=</span><span class="st">&quot;100&quot;</span><span class="ot"> id=</span><span class="st">&quot;resources&quot;</span> <span class="kw">/&gt;</span> % <span class="kw">&lt;/p&gt;</span>
        <span class="kw">&lt;p&gt;</span> Start Policy Year: <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span><span class="ot"> value=</span><span class="st">&quot;2013&quot;</span><span class="ot"> id=</span><span class="st">&quot;year&quot;</span> <span class="kw">/&gt;</span> <span class="kw">&lt;/p&gt;</span>
        <span class="kw">&lt;p&gt;</span> <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;button&quot;</span><span class="ot"> value=</span><span class="st">&quot;Test Scenario&quot;</span><span class="ot"> onclick=</span><span class="st">&quot;testScenario()&quot;</span> <span class="kw">/&gt;</span> <span class="kw">&lt;/p&gt;</span>
    <span class="kw">&lt;/center&gt;</span>
    
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre>
<p>The key goal of this chapter is not that you completely understand this, but rather that you will be able to adapt it to your own needs. There are a lot of additional changes that could be made to this demonstration. You could clean up the control panel and make it look more attractive by adding some CSS rules. You could add additional inputs to control other parts of the model. You could show the user the trajectory of the population instead of just the final value. Go ahead and experiment with this example to see what you can make it do.</p>
<h2 id="additional-tips"><a href="#additional-tips">Additional Tips</a></h2>
<p>Web development is a very complex topic with a lot of nuances. The preceding sections should have given you a brief introduction in how to create interactive models for engaging an audience and encouraging discussion and learning. Although we cannot give you a comprehensive course in web development, there a few additional web development tips that will be very useful when you start to develop your own webpages.</p>
<h3 id="frameworks-and-toolkits"><a href="#frameworks-and-toolkits">Frameworks and Toolkits</a></h3>
<p>Making an attractive web application is hard. Admittedly, the control panel application we developed does not look very good. We could spend some time improving its appearance by adding additional CSS rules but since we are not professional designers it is quite possible that the results of our efforts would only look amateurish and unattractive. Additionally, writing JavaScript to interact with webpages is also hard. These web technologies were developed over decades and many of the functions and techniques that need to be used are slightly archaic and are difficult to learn.</p>
<p>Fortunately, a number of toolkits and frameworks have been developed that make it easier to develop powerful and attractive web pages and control panels. Below we highlight some important toolkits that you might want to explore and considering adopting for your own usage. These toolkits can be embedded within your webpage extending its functionality. They will help you make more attractive and powerful applications quicker. The ones listed are all also available under open source licenses allowing you to use them for free.</p>
<p>Twitter Bootstrap (<a href="http://GetBootstrap.com">http://GetBootstrap.com</a>) : Bootstrap is a framework for developing attractive webpages. It has many tools and rules that can be combined together to create visualizing pleasing webpages with minimal effort. If you don’t have a good sense of design, Twitter Bootstrap could be a great help to you.</p>
<p>JQuery (<a href="http://jquery.com/">http://jquery.com/</a>) : JQuery is a library designed to improve the JavaScript functions needed to interact with a webpage. It generally greatly simplifies and reduces the number of keystrokes you need to carry out some task. For instance “document.getElementById(‘item’)” becomes in jQuery simply “$(‘#item’)”.</p>
<p>JQuery UI (<a href="http://jqueryui.com/">http://jqueryui.com/</a>) : A spin-off from the JQuery project, this toolkit provides control panel elements that are themable and more extensive than the built-in &lt;input&gt; tags. Grids, sliders, and more are all available from this project.</p>
<p>ExtJS (<a href="http://www.sencha.com/products/extjs">http://www.sencha.com/products/extjs</a>) : ExtJS is a comprehensive library for developing powerful applications. It has extensive tools to develop interface and control panels. It is also what is used to develop Insight Maker’s interface.</p>
<h3 id="debugging-webpages"><a href="#debugging-webpages">Debugging Webpages</a></h3>
<p>As you develop your webpage, it is almost certain that you will make many mistakes and typos as you go along. If you make a mistake within the HTML or CSS of the page you will have an immediate visual indication that something is wrong and you can experiment with your code until it is fixed.</p>
<p>JavaScript errors, on the other hand, generally won’t provide any visual feedback that an error has occurred. The most likely indication that a JavaScript error has occurred is that nothing happens when you click a button or expect an action to occur. Debugging issues like this can be quite difficult. Fortunately, with just a little bit of additional work you can get access to very rich and informative JavaScript error messages letting you know exactly what went wrong and when.</p>
<p>There are two approaches to obtain access to the JavaScript error messages. The first is to actually edit your webpage and add code to show an error message when an error occurs. Adding the following to a &lt;script&gt; tag in the head section of your document will do that:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">window</span>.<span class="fu">onerror</span> = <span class="kw">function</span>(message, url, line) {
  <span class="fu">alert</span>(<span class="st">&quot;JavaScript Error: </span><span class="ch">\n\n</span><span class="st">&quot;</span> + message + <span class="st">&quot; (line: &quot;</span> + line + <span class="st">&quot;, url: &quot;</span> + url + <span class="st">&quot;)&quot;</span>;
}</code></pre>
<p>Now when an error occurs, an alert will pop up with a brief description of the error and information about where it occurred in your code.</p>
<p>The second approach you can take is to use the developer tools that are built into your web browser to study the webpage and observe errors as they occur. Excellent developer tools are built into all modern browsers. These tools let you study the structure of the webpage, profile the performance of your code, and examine how the webpage behaves.</p>
<p>One particular tool is very useful when developing webpages: the JavaScript console. Once you have opened the JavaScript console (search on-line for the exact directions on how to do this for your specific web browser) errors and messages from the webpage will appear in the console as they occur. What’s more, the console allows you to evaluate JavaScript commands in the webpage simply by typing the commands into the console.</p>
<div class="figure">
<img src="console.png" alt="Figure 3. Google Chrome’s JavaScript console." /><p class="caption">Figure 3. Google Chrome’s JavaScript console.</p>
</div>
<p>One approach to debugging code is to put <em>alert</em> functions into the code updating you on the progression of the code or displaying values of the JavaScript variables. This works, but can be very clumsy and disruptive. When you have the console open, a better approach is available to you. You can send messages directly to the console providing information on the status of the program. For example:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">console</span>.<span class="fu">log</span>(<span class="st">&quot;The value of the variable is: &quot;</span> + myVariable);
<span class="ot">console</span>.<span class="fu">error</span>(<span class="st">&quot;An error has occurred!&quot;</span>);</code></pre>
<h3 id="sending-complex-data-back-and-forth"><a href="#sending-complex-data-back-and-forth">Sending Complex Data Back and Forth</a></h3>
<p>The <em>postMessage</em> communication technique to send data back and forth to the embedded model can only be relied upon to send strings and objects that can easily be converted to strings (like numbers)<sup><a href="#fn28" class="footnoteRef" id="fnref28">28</a></sup>. Oftentimes you will want to pass more complex data from the simulation to the containing window. For instance you might want to pass the whole time series of values one or more primitives took on over the course of the simulation.</p>
<p>To handle these more complex objects you must convert them to strings. JavaScript provides a number of techniques to do so. For instance, if you have an array, you can convert it back and forth from a string using the <em>join</em> and <em>split</em> functions:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> data = [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>];
<span class="kw">var</span> str = <span class="ot">data</span>.<span class="fu">join</span>(<span class="st">&quot;; &quot;</span>); <span class="co">// &quot;1; 4; 9; 16; 25&quot;</span>
<span class="ot">str</span>.<span class="fu">split</span>(<span class="st">&quot;, &quot;</span>); <span class="co">// [1, 4, 9, 16, 25]</span></code></pre>
<p>By far the most useful and flexible method of converting JavaScript objects to and from strings are the JSON commands. JSON, JavaScript Object Notation, is a general file format for storing data. It is based on the standard method for declaring JavaScript objects (e.g. {key: value}) but has some differences. What is great about JSON is that your browser already has built-in commands for converting JavaScript objects (a number, array, or other object) into a string and then later back into an object.</p>
<p>You can use this technique to send arbitrarily complex objects back and forth from your simulation to your webpage. Let’s see how the JSON commands works:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> obj = {<span class="dt">title</span>: <span class="st">&quot;I&#39;m a complex object&quot;</span>, <span class="dt">data</span>: [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>]};
<span class="kw">var</span> str = <span class="ot">JSON</span>.<span class="fu">stringify</span>(obj); <span class="co">// &#39;{&quot;title&quot;:&quot;I&#39;m a complex object&quot;,&quot;data&quot;:[1,4,9]}&#39;</span>
<span class="ot">JSON</span>.<span class="fu">parse</span>(str); <span class="co">// {title: &quot;I&#39;m a complex object&quot;, data: [1, 4, 9]};</span></code></pre>
<h3 id="hosting-a-webpage"><a href="#hosting-a-webpage">Hosting a webpage</a></h3>
<p>In this chapter, we saved the webpages we have created to our personal computers’ hard drives and opened them in a browser from there. This works great for development, but it does not allow us to share our creations with others.</p>
<p>Once you are ready to publish your webpages, you must move the HTML, CSS and JavaScript files off your computer and onto a web-server or web-host so that others can access them over the Internet. There are a number of options for web-hosting that range from the simple to the complex and from the free to the expensive.</p>
<p>On the simple and free end of the spectrum there are free blogging sites like Blogger (<a href="http://www.blogger.com">http://www.blogger.com</a>) or WordPress (<a href="http://wordpress.com/">http://wordpress.com/</a>). These sites allow you to create free blogs but they also allow you to do much more than that. These types of sites will generally let you edit the source HTML of your pages allowing you to implement the demos in this chapter directly within a blog post.</p>
<p>A step up from simple sites like these blogging platforms are shared hosting providers. Shared hosting providers such as DreamHost (<a href="http://dreamhost.com">http://dreamhost.com</a>) take a server and allow multiple people to purchase space on the server to run their webpages. There are numerous shared hosting providers available. A more advanced version of shared hosting is Virtual Private Server (VPS) hosting. VPS providers such as RimuHosting (<a href="http://rimuhosting.com/">http://rimuhosting.com/</a>) are similar to shared hosting providers in that they fit many customers on a single server. Where they differ is that a VPS host will give each customer a virtualized computer. Each individual customer will feel like they have complete control over their own computer and operating system even though they are sharing the actual hardware with others.</p>
<p>At the high end of the spectrum of complexity, cost and power are dedicated servers. In this case you purchase or rent a machine dedicated solely to the hosting your projects. This gives you complete control of your hosting situation but is expensive and may take a lot of effort to set up and maintain.</p>
<p>In general, we recommend starting small. Sign up for a Blogger account and experiment with these techniques there. If you keep at it and your site grows, at some point you will outgrow this simple solution and at that time you can upgrade to a more advanced hosting solution.</p>
<h1 id="modeling-with-agents"><a href="#modeling-with-agents">Modeling with Agents</a></h1>
<p>The modeling techniques we have taught up until this point focused on gaining insights using highly aggregated models of a system. This means that when we looked at models of population growth, we did not explore individual people and instead focused on understanding the population as a whole. This high-level aggregate approach to modeling helps us cut through unnecessary details to understand the core dynamics of a system.</p>
<p>For certain models however, this high-level view may hamstring our ability to explore important questions. For instance in a disease model we may care about the physical relationship between people in the model. Are they near each other? How often do they come into contact? Can we attempt to control the disease by manipulating how people move about and relate to each other? These are all questions that are very hard to answer with a standard System Dynamics model.</p>
<p>Heterogeneity, differences between individuals, is difficult to represent using System Dynamics models. One approach to heterogeneity that is sometimes used is simply to duplicate the model structure for each different class of person or entity in the model. We recall seeing one model that explored education in the United States. The modelers wanted to explore the differences between male and female students. To do so, they simply copy and pasted the entire model structure (consisting of dozens of stocks and flows) and calibrated one of these copies for male students and the other copy for female students.</p>
<p>Granted, this approach can be made to work, but it requires a lot of effort to set up and configure even in the simple two-gender case. When you have more than two cases it can quickly become completely unmanageable. Furthermore, duplicating parts of your model is a recipe for creating unmaintainable models afflicted by hard to track down bugs. The reason for this is that when you later make changes to your model, you are going to need to ensure the changes are made correctly to each one of the model copies. Although simple in principle, in practice this is very easy to mess up and it is a direct route for bugs to be introduced into the model.</p>
<p>Fortunately, an alternative modeling paradigm to System Dynamics exists that is excellent for modeling discrete individuals. It is called Agent Based Modeling and is focused on simulating individual agents and the interactions between these agents<sup><a href="#fn29" class="footnoteRef" id="fnref29">29</a></sup>. In this chapter we will introduce Agent Based Modeling and show how you can use it to explore questions that cannot be answered with pure System Dynamics.</p>
<div class="figure">
<img src="SDvsABM.png" alt="Figure 1. Two paradigms for modeling a population: System Dynamics and Agent Based Modeling." /><p class="caption">Figure 1. Two paradigms for modeling a population: System Dynamics and Agent Based Modeling.</p>
</div>
<h2 id="the-state-transition-diagram"><a href="#the-state-transition-diagram">The State Transition Diagram</a></h2>
<p>Up until now our primary modeling tool has been the stock and flow diagram. This type of diagram is useful for summarizing systems from a high-level viewpoint. The stock is a primitive that can model entities that take on a range of values and flows are well suited for specifying the changes in stocks</p>
<p>In addition to representing aggregate systems, stock and flow diagrams are also used to model things on an individual level. For instance, a model of a person’s motivations could be represented using a stock and flow diagram. The strength or importance of each type of motivation – money, family, etc… – could be represented as stocks with flows modulating the strength of these motivations over time.</p>
<p>When looking at the individual scale however, we will oftentimes find ourselves wanting to define characteristics of the individual using simple on/off logic. For instance, take the issue of an individual’s sex. We can represent this using two categories: Male or Female (leaving aside transgendered individuals for the sake of simplicity). Similarly, when constructing a model of a disease, we might want to say a person is either sick or not sick (with no nuances such as “slightly sick” or “highly sick”). You can attempt to represent these different categories using stocks, but the formulation and equations to do so will be overly complicated.</p>
<div class="figure">
<img src="States.png" alt="Figure 2. Sample states you might use for agents in a disease model." /><p class="caption">Figure 2. Sample states you might use for agents in a disease model.</p>
</div>
<p>Where the stock and flow diagram is used to model changing systems with continuous stocks, the state transition diagram is used to model systems with discrete on/off states. Within Insight Maker, state transition diagrams are constructed in almost the same way as stock and flow diagrams. The key difference is all stocks are replaced with <em>State</em> primitives and all flows are replaced with <em>Transition</em> primitives. State primitives can be added to the model by right-clicking on the model diagram and selecting . Transition primitives will automatically be created when you connect two state primitives together using the standard “Flow” connection type.</p>
<p>A state primitive is possibly the simplest primitive available as it can only take on one of two values: true or false. When the state value is true, the state is active. When the state value is false, the state is not active and the agent does not occupy that state. When configuring a state primitive, you only need to specified whether the state is <span class='attribute'>initially active</span> or not at the start of the simulation. This initial condition can simply be <span class='equation'>true</span> or <span class='equation'>false</span>, but it can also be a logical equation that depends on the values of other primitives in the agent. For example, if you had a variable in the agent called <span class='primitive'>Size</span>, and you wanted a state to be initially active if the value of <span class='primitive'>Size</span> was greater than 5, you could use the following as the initially active property for the state: <span class='equation'>[Size] &gt; 5</span>.</p>
<p>A transition primitive moves an agent between states. For instance, if you had two states in your model – <em>Healthy</em> and <em>Sick</em> – you could have one transition primitive moving agents from the healthy state to the sick state (simulating infection) and another transition primitive moving them the other way (simulating recovery).</p>
<p>There are three different ways a transition from one state to another can be triggered:</p>
<p>Timeout : In this mode the transition will be triggered a specific amount of time after the first state becomes active. For instance, if we had a disease model where the disease lasted 10 days, we could have a transition from the sick to healthy state using a timeout trigger with a period of 10 days.</p>
<p>Probability : In this mode there is a probability of the transition happening each time period. For instance, in the disease model if the disease only lasted 10 days on average but could randomly last longer or shorter, you could use a probability transition with a daily probability of 0.1.</p>
<p>Condition : In this mode you create an equation that will trigger than transition when it becomes true. For instance, if we had a stock, <span class='primitive'>Infection Level</span> in our agent indicating how sick the agent was, we could have them transition out of the sick state once that stock fell to zero. The trigger condition to enable this could be something like: <span class='equation'>[Infection Level] = 0</span>.</p>
<div class='live'>
<a href='model_11/index.html' target='_blank'><img src='model_11/overview.png' />
<div class='caption'>
A State Transition Diagram for Disease
</div><div class='description'>
This model illustrates the use of state transition diagrams to model a simple disease. This is a disease such as the flu where immunity is obtained once the individual recovers from the disease.
</div>
</a>
</div>
<h2 id="creating-agents"><a href="#creating-agents">Creating Agents</a></h2>
<p>Now that we have learned about state transition diagrams, we are ready to start creating agents. There are three key parts of creating agents in a model:</p>
<ol style="list-style-type: decimal">
<li>Defining what an agent is</li>
<li>Creating a group of agents</li>
<li>Viewing agent results</li>
</ol>
<h3 id="defining-agents"><a href="#defining-agents">Defining Agents</a></h3>
<p>We have already introduced the folder primitive as a tool for grouping primitives together and also as a tool for unfolding a model. The folder primitive plays an additional role in Agent Based Modeling as we use folders to define what our agent consists of.</p>
<p>To create an agent construct the state transition diagram for your agent (and also add any stocks, flows or any other primitives you want to this agent). Then create a folder containing all these primitives. Give the folder the name of your agent such as “Person” or “Individual” or even just “Agent”. This is all similar to what we have done with folders before, but now there is one extra step. Edit the folder configuration and set the folder  to “Agent”. You have now created the definition of your first agent!</p>
<p>You can have as many different types of agents in your model as you would like. Just create a new agent model and use a new folder to define each of the different types of agents. For instance if you had a predator prey model you could have one agent definition describing the behavior of the prey, and a second agent definition describing the behavior of the predators.</p>
<h3 id="creating-a-population-of-agents"><a href="#creating-a-population-of-agents">Creating a Population of Agents</a></h3>
<p>After you have defined an agent in your model, you are ready to create a collection or population of agents. This is done by adding an <em>Agent Population</em> primitive to your model. The agent population primitive takes the definition of an agent from an agent folder and creates many copies of that agent from the definition. The agent population primitive keeps track of these copies and allows them to operate and to interact with one another.</p>
<p>There are a number of different settings for the agent population primitive but two of them are of key importance. The first is to select what type of agent will be in the population. Each population primitive can only have one type of agent in it. You can have multiple populations though and the agents in one population can interact with the agents in another population.</p>
<p>After specifying what type of agent is in the population, you need to specify how many agents are in the population at the start of the simulation. This is done by setting the <span class='attribute'>Size</span> property for the agent population. Later on you can add or remove agents to a population by using the <span class='equation'>Add()</span> and <span class='equation'>Remove()</span> functions.</p>
<h3 id="viewing-agent-results"><a href="#viewing-agent-results">Viewing Agent Results</a></h3>
<p>Many of the standard Insight Maker display types can be used to show the results of an agent based simulation. If you add an agent population to a time series or tabular display, the results for the number of agents in each of the various agent states will automatically be shown. You can also use the  display type to illustrate agents within a geographic region.</p>
<div class='live'>
<a href='model_12/index.html' target='_blank'><img src='model_12/overview.png' />
<div class='caption'>
An Agent Based Model of Disease
</div><div class='description'>
Here we convert a state transition diagram into a model containing multiple agents.
</div>
</a>
</div>
<h2 id="working-with-agents"><a href="#working-with-agents">Working with Agents</a></h2>
<p>Working with agents is fundamentally different from working with primitives in a pure System Dynamics model. For instance, if you have a regular model and you refer to the value of a variable or stock you get a single value back. With agents, however, when you refer to the value of a primitive you might get a separate value for each individual agent in your model.</p>
<p>So for instance, if you have 100 agents and you refer to the primitive <span class='primitive'>Height</span>, you will get 100 different heights one for each of the agents in the model. Similarly, in the case of our disease model, if you you request the value of the state <span class='primitive'>Infected</span>, you will get a different infected value for each of the agents in the model.</p>
<p>You will need to extend your modeling toolkit in order to be able to effectively manage agents and accomplish your goals in your model. The key building block of this extended toolkit is the vector<sup><a href="#fn30" class="footnoteRef" id="fnref30">30</a></sup>. In the following sections we will first introduce the general concept of vectors and then show how you can use them to interact with agents.</p>
<h3 id="working-with-vectors"><a href="#working-with-vectors">Working with Vectors</a></h3>
<p>A vector is an ordered list of items. In Insight Maker vectors can be written using the ‘«’ sign (or ‘&lt;&lt;’) followed by the ‘»’ sign (or ‘&gt;&gt;’). For instance imagine we had a small population of only four people. If we asked the model for the heights of those four people<sup><a href="#fn31" class="footnoteRef" id="fnref31">31</a></sup> in meters we might get something like this:</p>
<p><span class='equation'>«2, 1.8, 1.9, 1.5»</span></p>
<p>This indicates that our population has four people with heights of 2, 1.8, 1.9 and 1.5 meters. Insight Maker has an extensive set of capabilities and functions for manipulating and summarizing vectors such as this. For instance, if we wanted to know the height of the tallest person in our population, we could use the <span class='equation'>Max()</span> function:</p>
<p><span class='equation'>Max(«2, 1.8, 1.9, 1.5») # = 2</span></p>
<p>If we wanted to know the height of the smallest person in the population we could use the <span class='equation'>Min()</span> function:</p>
<p><span class='equation'>Min(«2, 1.8, 1.9, 1.5») # = 1.5</span></p>
<p>Let’s say we wanted to know the average height of the people in our our population. We could either use the <span class='equation'>Mean()</span> or <span class='equation'>Median()</span> functions:</p>
<p><span class='equation'>Mean(«2, 1.8, 1.9, 1.5») # = 1.8</span></p>
<p><span class='equation'>Median(«2, 1.8, 1.9, 1.5») # = 1.85</span></p>
<p>We can also use basic mathematical operations on our vectors. For example, assume we needed to design a room such that the top of the room was at least half a meter above a person’s head. We could find the required room height for each person by adding 0.5 to the vector of heights:</p>
<p><span class='equation'>«2, 1.8, 1.9, 1.5» + 0.5 # = «2.5, 2.3, 2.4, 2»</span></p>
<p>We can also add vectors together. For instance, let’s imagine that some of the agents had hats on and we have measured the height of these hats and got the following vector of heights: <span class='equation'>«0.05, 0, 0.1, 0»</span> (two of the people do not wear hats). We could find the height of the agents when they are wearing their hats using:</p>
<p><span class='equation'>«2, 1.8, 1.9, 1.5» + «0.05, 0, 0.1, 0» # = «2.05, 1.8, 2, 1.5»</span></p>
<p>Another useful vector function is the <span class='equation'>Count()</span> function. Assuming we did not know there were four agents, we could determine how many elements there were in the vector using this function:</p>
<p><span class='equation'>Count(«2, 1.8, 1.9, 1.5») # = 4 </span></p>
<p>You can do a lot with these basic functions but there are also two very powerful vector functions we should mention: <span class='equation'>Map()</span> and <span class='equation'>Filter()</span>. Map takes each element in a vector and applies some transformation to it and returns a vector of the transformations. As an example, let’s say we wanted to test whether or not are agents were tall enough to ride an amusement park ride with a cutoff of 1.85 meters. We could get a vector containing whether or not each agent was tall enough using:</p>
<p><span class='equation'>Map(«2, 1.8, 1.9, 1.5», x &gt;= 1.85) # = «true, false, true, false» </span></p>
<p>Here the function <span class='equation'>x &gt;= 2</span> is applied to each element in the vector (with <span class='equation'>x</span> representing the element value) and the results of this element-by-element evaluation of the function is returned.</p>
<p>Filter takes a function and applies it to each element in a vector. If the function evaluates to true, the element is included in the resulting vector; if the function evaluates to false, the element is not included in the results. For instance, if we just wanted the heights of the people who were tall enough to ride the ride, we could use:</p>
<p><span class='equation'>Filter(«2, 1.8, 1.9, 1.5», x &gt;= 1.85) # = «2, 1.9» </span></p>
<p>Lastly, there are a couple of very useful functions are available to combine vectors together. <span class='equation'>Union()</span> takes two vectors and combines them together removing duplicated elements.</p>
<p><span class='equation'>Union(«1, 2 ,3», «2, 3 ,4») # = «1, 2, 3, 4» </span></p>
<p><span class='equation'>Intersection()</span> takes two vectors and returns a vector containing the elements that are in both of the vectors.</p>
<p><span class='equation'>Intersection(«1, 2 ,3», «2, 3 ,4») # = «2, 3» </span></p>
<p><span class='equation'>Difference()</span> takes two vectors and returns a vector containing the elements that are in either one of the vectors but <em>not</em> in both of the vectors.</p>
<p><span class='equation'>Difference(«1, 2 ,3», «2, 3 ,4») # = «1, 4» </span></p>
<p>There are many more vector functions available, but these are some of the key ones. They will prove invaluable when you come to working with vectors of agents.</p>
<h3 id="accessing-agents"><a href="#accessing-agents">Accessing Agents</a></h3>
<p>Insight Maker includes a number of functions to access the individual agents within a population. The simplest of these is the <span class='equation'>FindAll()</span> function. Given an agent population primitive that we’ll call <span class='primitive'>Population</span>, the FindAll function returns a vector containing all the agents within that agent population:</p>
<p><span class='equation'>FindAll([Population])</span></p>
<p>So if your agent population currently had 100 agents in it, this would return a vector with 100 elements where the first element referred to the first agent, the second element referred to the second agent and so on. It is important to note that these elements are agent references, not numbers. So you can use a function like <span class='equation'>Reverse()</span> on the resulting vector, but you cannot directly use functions like <span class='equation'>Mean()</span> as the agent references are not numerical values<sup><a href="#fn32" class="footnoteRef" id="fnref32">32</a></sup>. We will see how to access the values for agents next.</p>
<p>In addition to the FindAll function, there are other find functions that return a subset of the agents in the model. For instance, the <span class='equation'>FindState()</span> and <span class='equation'>FindNotState()</span> functions return, respectively, agents that either have the given state active or not active. For instance, if we go back to our agent-based disease model, our agents had a state primitive called <span class='primitive'>Infected</span> that represented if the agent was currently sick, we could get a vector of the agents in our population that were currently sick using the following:</p>
<p><span class='equation'>FindState([Population], [Infected])</span></p>
<p>And we could obtain a vector of the agents that were not currently infected with:</p>
<p><span class='equation'>FindNotState([Population], [Infected])</span></p>
<p>Find functions can also be nested. For instance, if we added a <span class='primitive'>Male</span> state primitive to our agents representing whether or not the agent was a man; we could obtain a vector of all currently infected men with something like the following:</p>
<p><span class='equation'>FindState(FindState([Population], [Infected]), [Male])</span></p>
<p>Nesting find statements is effectively using Boolean AND logic (like you might use on a search engine: “Infected AND Male”). To do Boolean OR logic (e.g. “Infected OR Male”) and return all the agents that are either infected or a man (or both), you can use the Union function to merge two vectors:</p>
<p><span class='equation'>Union(FindState([Population], [Infected]), FindState([Population], [Male]))</span></p>
<p>If you wanted the agents that were either infected or men (but not both simultaneously), you could use:</p>
<p><span class='equation'>Difference(FindState([Population], [Infected]), FindState([Population], [Male]))</span></p>
<h3 id="agent-values"><a href="#agent-values">Agent Values</a></h3>
<p>Once you have a vector of agents, you can extract the values of the specific primitives in those agents using the <span class='equation'>Value()</span> and <span class='equation'>SetValue()</span> functions.</p>
<p>The Value function takes two arguments: a vector of agents and the primitive for which you want the value. It then returns the value of that primitive in each of the agents. For instance, let us say our agents have a primitive named <span class='primitive'>Height</span>. We could get a vector of the height of all the people in the model like so:</p>
<p><span class='equation'>Value(FindAll([Population]), [Height])</span></p>
<p>A vector of heights by itself is generally of not too much use. Often we will want to summarize it, for instance by finding the average height of the people in our population:</p>
<p><span class='equation'>Mean(Value(FindAll([Population]), [Height]))</span></p>
<p>In addition to determining the value of a primitive in an agent, you can also manually set the agents’ primitive values using the SetValue function. It takes the same arguments as the Value function in addition to the value you want to set primitives to. For instance, we could use the following to set the height of all our agents to 2.1:</p>
<p><span class='equation'>SetValue(FindAll([Population]), [Height], 2.1)</span></p>
<div class='live'>
<a href='model_13/index.html' target='_blank'><img src='model_13/overview.png' />
<div class='caption'>
Agents Interacting
</div><div class='description'>
This example shows how agents can interact with each other using the Find functions.
</div>
</a>
</div>
<h2 id="agent-geography"><a href="#agent-geography">Agent Geography</a></h2>
<p>One of the key strengths of Agent Based Modeling is that it allows us to study the geographic relationship between our agents. So if we are developing a disease model we do not have to assume that all the agents are perfectly mixed together like atoms in a gas (such as we generally would in System Dynamics). Instead, using Agent Based Modeling we can explicitly define the physical relationship between the different agents and study how this geography affects the spread of the disease.</p>
<p>In general when we talk about geography we mean spatial geography: the locations of people within a region in terms of their latitude and longitude (and sometimes their elevation). Insight Maker supports this kind of geography, but it also supports a second kind of geography: network geography. Insight Maker allows the specification of “connections” between agents. This leads to a new type of geography where you have centrally located agents (ones connected to many other agents) and agents far from the network’s center (those that are unconnected or just connected to a very few other agents).</p>
<div class="figure">
<img src="SpatialvsNetwork.png" alt="Figure 3. Spatial geography and network geography." /><p class="caption">Figure 3. Spatial geography and network geography.</p>
</div>
<p>Both these types of geographies can be useful in exploring important features of real-world systems. In the following sections, we will introduce their properties and show you how to utilize them in your own models.</p>
<h3 id="spatial-geography"><a href="#spatial-geography">Spatial Geography</a></h3>
<p>In Insight Maker, each Agent Population can be given dimensions in terms of a width and a height. By default, agents are placed at a random location within this region. You can, however, choose a different placement method for the starting position of the agents. The following placement methods are available:</p>
<p>Random : The default. Agents are placed at random positions within the geometry specified for the agent population.</p>
<p>Grid : Agents are aligned in a grid within the population. When using this placement method, you will need to ensure that you have enough agents so that the grid is complete. You might need to experiment with increasing or decreasing the number of agents to make the grid fit perfectly for a given set of region dimensions.</p>
<p>Ellipse : Agents are arranged in a single ellipse within the region. If the region geometry is a square, then the agents will be arranged in a circle.</p>
<p>Network : Assuming network connections between agents have been specified, the agents will be arranged in an attempt to create a pleasing layout of the network structure.</p>
<p>Custom Function : Here you can specify a custom function to control the layout of the agents. This function will be called once for each agent in the population and should return a two-element vector where the first element is the <em>x</em>-coordinate of the agent, and the second element is the <em>y</em>-coordinate. The primitive <span class='primitive'>Self</span> in this function will refer to the agent that is being positioned.</p>
<div class="figure">
<img src="AgentPlacement.png" alt="Figure 4. Illustration of the four agent placement algorithms. From the top: random, grid, ellipse, and a custom function using: &lt;&lt;2index([Self]), 50+50sin(index([Self])/10)&gt;&gt;." /><p class="caption">Figure 4. Illustration of the four agent placement algorithms. From the top: random, grid, ellipse, and a custom function using: <span class='equation'>&lt;&lt;2<em>index([Self]), 50+50</em>sin(index([Self])/10)&gt;&gt;</span>.</p>
</div>
<h4 id="spatial-find-functions"><a href="#spatial-find-functions">Spatial Find Functions</a></h4>
<p>When working with a spatially explicit model, a number of additional find functions are available for you to obtain references to agents that match a given spatial criteria.</p>
<p><span class='equation'>FindNearby()</span> is a function that returns a vector of agents that are within a given proximity to a target agent. It takes three arguments: the agent population primitive, the agent target for which you want nearby neighbors, and a distance. All agents within the specified distance to the target agent will be returned as a vector.</p>
<p>It is useful now to introduce a concept that will be very helpful to you. When used in an Agent, <span class='primitive'>Self</span> always refers to the agent itself. If you have a primitive within an agent, <span class='primitive'>Self</span> can be used from that primitive to get a reference to the agent containing the primitive. So the following equation in an agent will return a vector of agents that are within 15 miles of the agent itself:</p>
<p><span class='equation'>FindNearby([Population], [Self], {15 Miles</span>)}</p>
<p>Two other useful functions for finding agents in spatial relation to each other are <span class='equation'>FindNearest()</span> and <span class='equation'>FindFurthest()</span>. FindNearest returns the nearest agent to the target while FindFurthest returns the agent that is farthest away from it. Each of them also supports an optional third argument determining how many nearby (or far away) agents to return (this optional argument defaults to one when omitted).</p>
<p>For example, the following equation finds the nearest agent to the current agent:</p>
<p><span class='equation'>FindNearest([Population], [Self])</span></p>
<p>While this finds the three agents that are furthest from the current agent:</p>
<p><span class='equation'>FindFurthest([Population], [Self], 3)</span></p>
<h4 id="movement-functions"><a href="#movement-functions">Movement Functions</a></h4>
<p>You can also move agents to new locations during simulation. To do this, it is helpful to introduce a new primitive we have not yet discussed. This primitive is the <em>Action</em> primitive. Action primitives are designed to execute some action that changes the state of your model. For instance, they can be used to move agents or change the values of the primitives within an agent. An action is triggered in the same way a transition is triggered. Like a transition, there are three possible methods of triggering the action: timeout, probability, and condition.</p>
<p>For instance, we can use an action primitive in an agent and the <span class='equation'>Move()</span> function to make agents move during the simulation. The Move function takes two arguments: the agent to be moved, and a vector containing the <em>x</em>- and <em>y</em>-distances to move the agent. Thus, we could place an action primitive in our agent and give it the following action property to make the agent move randomly over time<sup><a href="#fn33" class="footnoteRef" id="fnref33">33</a></sup>. The equation will move the agent a random distance between -0.5 and 0.5 units in the <em>x</em>-direction and a random distance between -0.5 and 0.5 units in the <em>y</em>-direction.</p>
<p><span class='equation'>Move([Self], «rand, rand»-0.5)</span></p>
<p>Another useful movement function is the <span class='equation'>MoveTowards()</span> function. MoveTowards moves an agent towards (or away from) the location of another agent. MoveTowards takes three arguments: the agent to be moved, the target agent to move towards, and how far to move towards that agent (with negative values indicating movement away). The following command would move an agent one meter closer to its nearest neighbor in the population.</p>
<p><span class='equation'>MoveTowards([Self], FindNearest([Population], [Self]), {1 Meter</span>)}</p>
<div class='live'>
<a href='model_14/index.html' target='_blank'><img src='model_14/overview.png' />
<div class='caption'>
Agent Movement
</div><div class='description'>
This model illustrates the use of movement within agent based models. We adapt the previous disease model so that healthy agents flee from the nearest infected agent.
</div>
</a>
</div>
<h3 id="network-geography"><a href="#network-geography">Network Geography</a></h3>
<p>To create connections and remove connections between agents you can use the <span class='equation'>Connect()</span> and <span class='equation'>Unconnect()</span> functions. Both of these functions take two arguments: the agents that should be connected or disconnected. For example, to connect an agent to its nearest neighbor, you could use the following</p>
<p><span class='equation'>Connect([Self], FindNearest([Population], [Self]))</span></p>
<p>To disconnect an agent from its nearest neighbor (assuming they are connected), you would use:</p>
<p><span class='equation'>Unconnect([Self], FindNearest([Population], [Self]))</span></p>
<p>To obtain a vector of connections to an agent, use the <span class='equation'>Connected()</span> function:</p>
<p><span class='equation'>Connected([Self])</span></p>
<p>Connections are not directed so creating a connection from agent <em>A</em> to agent <em>B</em> is the same as creating a connection from agent <em>B</em> to agent <em>A</em>. Also only one connection between a given pair of agents will exist at a time. So creating two connections between a given pair of agents will have the same effect as creating a single connection.</p>
<p>By default, no connections are created when a simulation is initially started. If you change the <span class='attribute'>Network Structure</span> configuration property of the agent population primitive, you can specify a function to create connections when the simulation is started. This function is called once for each pair of agents in the model. The agents are available in the function as the variables <em>a</em> and <em>b</em>. If the function evaluates to <span class='equation'>true</span>, then the agents will start connected. If the function evaluates to <span class='equation'>false</span>, the agents will not be initially connected.</p>
<p>You could use this function to, for instance, specify that 40% of agents will be directly connected to each other at the start of the simulation. The following equation would do that by generating a random true/false value with 40% probability of returning <span class='equation'>true</span> each time it is called:</p>
<p><span class='equation'>RandBoolean(0.4)</span></p>
<h2 id="multiline-equations"><a href="#multiline-equations">Multiline Equations</a></h2>
<p>So far in this book, the equations we have looked at have generally been straightforward mathematical formulae. We have introduced some more advanced concepts, such as vectors, but for the most part our equations have been relatively simple one-liners. When doing Agent Based Modeling however, at some point you will find these one-line equations to be limiting. When you begin to run into these limitations with your own models, you may need to start using multiline equations to achieve certain agent behavior.</p>
<p>Almost everyplace in Insight Maker where you can write a mathematical expression, you can also right a multiline equation. It turns out that Insight Maker’s language for specifying equations is actually a complete computer programming language and you can exploit the strength of this programming language by writing your equations over several lines instead of using a single line mathematical formula.</p>
<p>We delayed introducing these capabilities until now, as they can sometimes be a distraction from focusing on understanding a system. However, when you build complex Agent Based Models, they can be necessary to express the model logic you wish. Given this need, we will provide a brief introduction to the programming features that can be used as part of Insight Maker equations. You do not need to delve deeply into these capabilities now, but be aware that they are available for when you need them in your own models.</p>
<h3 id="variables"><a href="#variables">Variables</a></h3>
<p>Variables are temporary slots to store values to be reused within your equations. Variables are created using the ‘<span class='equation'>&lt;-</span>’ symbol meaning assignment. For instance:</p>
<p><span class='equation'> <br/> a &lt;- 2 # The variable ‘a’ holds the value 2 <br/> b &lt;- a + 2 # The variable ‘b’ holds the value 4 <br/> a &lt;- b^2 # a=16, b=4 <br/> </span></p>
<p>Variable names can contain any number of letters and numbers and must always start with a letter.</p>
<h3 id="if-then-else"><a href="#if-then-else">If-Then-Else</a></h3>
<p>You should be familiar with the <span class='equation'>IfThenElse()</span> function. A multiline alternative to it exists. The following is equivalent to <span class='equation'>IfThenElse([Height] &gt; 2, 1, 2)</span>.</p>
<p><span class='equation'> <br/> If [Height] &gt; 10 Then <br/>      1 <br/> Else <br/>      2 <br/> End If <br/> </span></p>
<p>One of the benefits of these multiline equations is that they can be more readable than the single line functions. This is especially true if you are trying to do nested <em>if</em> statements. Compare <span class='equation'>IfThenElse([Height] &gt; 2, 1, IfThenElse([Height] &lt; 1, -1, 2))</span> to:</p>
<p><span class='equation'> <br/> If [Height] &gt; 2 Then <br/>      1 <br/> Else If [Height] &lt; 1 Then <br/>      -1 <br/> Else <br/>      2 <br/> End If <br/> </span></p>
<p>The second one is much more readable. This makes it easier to maintain and more resilient to potential typographical errors.</p>
<h3 id="loops"><a href="#loops">Loops</a></h3>
<p>Loops are a programming construct that repeat some code multiple times. There are several different types of loops. One important loop is the <em>for</em> loop which repeats a command a specified number of times. Here is an example of it being used:</p>
<p><span class='equation'> <br/> sum &lt;- 0 <br/> For i From 1 To 3 <br/>      sum &lt;- sum + i <br/> End Loop <br/> sum <br/> </span></p>
<p>The inner part of the loop is run three times here. The first time the variable <em>i</em> is assigned the value of 1, the next time 2, and the last time 3. So this sums up the values of 1, 2, and 3 resulting in 6.</p>
<p>Another variant of the <em>for</em> loop is the <em>for-in</em> loop. This uses a vector to assign the values of the iterations. The following code sums the numbers 1, 5, and 10 to get 16.</p>
<p><span class='equation'> <br/> sum &lt;- 0 <br/> For i In «1, 5, 10» <br/>      sum &lt;- sum + i <br/> End Loop <br/> sum <br/> </span></p>
<p><em>For-in</em> loops can be very useful to iterate through a vector of agents. Another useful loop is called the <em>while</em> loop. It does not repeat a predefined number of times and instead repeats until a condition becomes true. Here is an example:</p>
<p><span class='equation'> <br/> total &lt;- 2 <br/> While total &lt; 100 <br/>      total &lt;- total^2 <br/> End Loop <br/> total <br/> </span></p>
<p>This code keeps squaring the <em>total</em> variable until the total is greater than 100. In this case, this will result in 256.</p>
<h3 id="functions"><a href="#functions">Functions</a></h3>
<p>Functions allow you to reuse code in multiple places in your model. For instance, imagine you had a model that dealt with temperatures in both Degrees Fahrenheit and Celsius. If you could not use the built in unit conversion functionality, every time you wanted to convert from one form to the other you would have to include the standard conversion formula in your equations. Not only would this be tedious, it would also be error prone as the more times you type an equation, the higher the chance of making a mistake.</p>
<p>You can define functions in two ways. One is a short one-liner:</p>
<p><span class='equation'>FtoC(f) &lt;- 5/9*(f+32)</span></p>
<p>And another is a multiline form allowing you to incorporate multiline logic in your functions:</p>
<p><span class='equation'> <br/> Function FtoC(f) <br/>      5/9*(f+32) <br/> End Function <br/> </span></p>
<p>A great place to include your functions is in the <em>Macros</em> section of your model. You can enter macros by clicking the  button in the  section of the toolbar. The functions you define here will be accessible in any equation in any part of your model.</p>
<h2 id="integrating-sd-and-abm"><a href="#integrating-sd-and-abm">Integrating SD and ABM</a></h2>
<p>System Dynamics modeling and Agent Based Modeling are two different ways of approaching a system. In general, System Dynamics looks at highly aggregated systems and encourages the study of feedback. Agent Based Modeling explores individuals and the interactions between these individuals.</p>
<p>Some software packages only do System Dynamics or Agent Based Modeling leading to the perception that they are somehow incompatible methodologies. Although these techniques can be thought of as quite different, it important to realize that, at the end of the day, both of them are simply applied mathematics. To emphasize this, Insight Maker integrates both these techniques together seamlessly in its modeling environment. There is no such thing as an “Insight Maker Agent Based Model” or an “Insight Maker System Dynamics Model”. There are simply models where you may use agent-based techniques, System Dynamics techniques or a mixture of the two.</p>
<p>Insight Maker (and other modeling packages such as AnyLogic <a href="http://www.anylogic.com/">http://www.anylogic.com/</a>) allows you to integrate the two seamlessly together. For instance, in this chapter we have used state transition diagrams within our agents. We could have just as well used stock and flow diagrams within the agents so that each agent in effect contained its own System Dynamics model of its state. Similarly if you have a large System Dynamics model you could create an agent-based sub-model that feeds into the main model dynamics.</p>
<p>When doing modeling, it is important to not get focused on labels or taxonomies of different techniques. Given a modeling task, you want to think about what tools and techniques are best used to approach it. You want to make sure not to approach a modeling task by trying to figure out how to force that task into the constraints of a favorite modeling paradigm.</p>
<h1 id="references-4"><a href="#references-4">References</a></h1>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This relates, more broadly, to the contrasting research approaches of induction and deduction. Induction starts with data and observations which are analyzed to create a broader theory (similar to a statistical approach to modeling). Deduction starts with a theory and finishes with the collection of data to confirm the theory (similar to a more mechanistic approach to modeling). It is easy to become mixed up with the meanings of induction and deduction and even great minds have confused them. While Sir Arthur Conan Doyle’s character Sherlock Holmes attributes his impressive powers to “deduction”, he is actually using induction. Treating what we are calling “statistical” models here as a form of induction, we can also refer to them as “phenomenological” or “empirical” models.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>And we strongly recommend doing so. It is important to clearly define the purpose at the start of a project. The techniques used and data required depend significantly on the model’s overall purpose. To be very clear, it is important to clarify at the outset whether your primary goal is to use a model for prediction or for narrative. Many modeling projects may attempt to do both only to find themselves with a model that does neither.<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>These misunderstandings are not only made by on-the-ground practitioners and analysts, they are frequently shared, and propagated, by university-level statistics instructors; see, for instance, @Haller:2002vo.<a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>Even sports, a form of entertainment that innately contains no narrative, becomes wrapped in narrative as the announcers and commentators attempt to create stories to engage us.<a href="#fnref4">↩</a></p></li>
<li id="fn5"><p>Other criteria include ease of use, cost of filling data requirements, and computational requirements. But all those are generally secondary to prediction accuracy.<a href="#fnref5">↩</a></p></li>
<li id="fn6"><p>Admittedly, for complex models it may still require a significant investment on the part of an audience to fully understand the logic and equations in the model. But the opportunity is available.<a href="#fnref6">↩</a></p></li>
<li id="fn7"><p>This is different from predictive models where the results of the model are much more important than the design and the “proof is in the pudding”&quot; so to speak.<a href="#fnref7">↩</a></p></li>
<li id="fn8"><p>Leading to the clichéd conclusion of many modeling studies: “We are unable to draw strong conclusions from this modeling work. Instead, our contribution has been to show where additional data needs to be collected.”<a href="#fnref8">↩</a></p></li>
<li id="fn9"><p>When the peer review panel is hired by the client there is some conflict of interests, but the panel members should not be swayed by this.<a href="#fnref9">↩</a></p></li>
<li id="fn10"><p>Please note that this contradicts slightly what we said earlier. Clearly, a person cannot have a negative height while the normal distribution will sometimes generate negative values. So wouldn’t a log-normal distribution be better than a normal distribution? Mechanistically, it would, however statistically we can show that due to the Central Limit Theorem the normal distribution does asymptotically precisely model our uncertainty. Given a large enough sample size (100 is more than enough in this case), the standard deviations for uncertainty will be so small that the chances of seeing a negative number (or even one far from the mean) are effectively none.<a href="#fnref10">↩</a></p></li>
<li id="fn11"><p>From the Greek word “epistēmē” meaning “knowledge” or “understanding”, epistemology is the branch of philosophy describing how we understand or come to know the world around us.<a href="#fnref11">↩</a></p></li>
<li id="fn12"><p>Specifically those where the denominator in the derivative <span class="math"><em>d</em><em>X</em> / <em>d</em><em>t</em></span> is always <span class="math"><em>d</em><em>t</em></span>: a very wide class of commonly used models.<a href="#fnref12">↩</a></p></li>
<li id="fn13"><p>Recall from calculus that if <span class="math"><em>A</em></span> is a constant, then <span class="math"><em>x</em><sup>2</sup> + <em>A</em> <em>d</em><em>x</em> = 2 × <em>x</em></span>. When we integrate <span class="math">2 × <em>x</em></span> we need to add back in the constant term. We don’t know the value of this constant term immediately and we have to determine it later on.<a href="#fnref13">↩</a></p></li>
<li id="fn14"><p>Leonhard Euler was a brilliant 18th century Swiss mathematician who made many great advances in the theoretical and applied mathematics.<a href="#fnref14">↩</a></p></li>
<li id="fn15"><p>It is important to note at this point that when we discuss accuracies in this context we are specifically referring to models composed of continuous differential equations. If you are using agent based modeling or have discontinuities in your models – which could occur if you use <span class='equation'>IfThenElse()</span> logic – then a smaller step size may not provide additional accuracy when there is some fundamental time step logic to the model.<a href="#fnref15">↩</a></p></li>
<li id="fn16"><p>Although we expressed this model as a function of two state variables <span class="math"><em>H</em></span> and <span class="math"><em>S</em></span>, it only has one independent state variable. Given the fixed population size, you know the value of <span class="math"><em>H</em></span> given <span class="math"><em>S</em></span> and vice versa.<a href="#fnref16">↩</a></p></li>
<li id="fn17"><p>Just a helpful reminder if you are starting to get lost in some of this differential equation jargon. A “state variable” is just a stock. Return to the table at the beginning of this chapter to see how these terms relate to the system dynamics modeling terminology we have already learned.<a href="#fnref17">↩</a></p></li>
<li id="fn18"><p>The one exception to this rule is if your curve is some sort of fractal. In this case no matter how much you zoom in on it, it will never become straight. In practice, however, this caveat is a non-issue.<a href="#fnref18">↩</a></p></li>
<li id="fn19"><p>And, rightly or wrongly, analytical work is generally considered more prestigious and “serious” than numerical work.<a href="#fnref19">↩</a></p></li>
<li id="fn20"><p>Please note that when you write CSS and JavaScript, your text is case-sensitive. This means that “ABC”, “abc”, and “Abc” will all be understood differently. HTML, on the other hand, is case-insensitive. In HTML, “ABC”, “abc”, and “Abc” will all be understood to mean the same thing.<a href="#fnref20">↩</a></p></li>
<li id="fn21"><p>The tag name “a” comes from “anchor” and “href” is an abbreviation of “hyperlink reference”. Many of the conventions with web development may seem strange and so you should understand the long history of these technologies and the resulting historical baggage that comes with them.<a href="#fnref21">↩</a></p></li>
<li id="fn22"><p>Webpages are always stored as plain text. This differs from, for instance a Microsoft Word document (“.doc” or “.docx” extension) or a Rich Text Format document (.rtf extension). You need to ensure you save your document as a plain text document with the extension “.html” or “.htm”. You can use any text editor you want, but if you get an editor designed for writing webpages it will have helpful features such as coloring your tags differently from the standard text as you edit the webpage. We recommend Sublime Text (<a href="http://www.sublimetext.com/">http://www.sublimetext.com/</a>) as a high quality editor for serious work.<a href="#fnref22">↩</a></p></li>
<li id="fn23"><p>The name “JavaScript” is a source of perpetual confusion. What we know colloquially as JavaScript is officially called ECMAScript. Due to trademark issues Microsoft refers to it as JScript when you are using Internet Explorer. It is important to note that <em>JavaScript</em> and <em>Java</em> are different technologies. They share part of a name due to historic branding purposes but they are completely different languages.<a href="#fnref23">↩</a></p></li>
<li id="fn24"><p>Where the first two Fibonacci numbers are 1 and the Fibonacci numbers thereafter are the sum of the two preceding numbers. The Fibonacci sequence begins: 1, 1, 2, 3, 5, 8, 13, 21, 44…<a href="#fnref24">↩</a></p></li>
<li id="fn25"><p>This model was described and discussed in detail in the book <em>The Limits to Growth</em><a href="#fnref25">↩</a></p></li>
<li id="fn26"><p>An API, or Application Programming Interface, is a set of commands and functions that can be used to interface programmatically with an application.<a href="#fnref26">↩</a></p></li>
<li id="fn27"><p>There are two primary ways of running Insight Maker models using the <em>runModel</em> API command. One is the regular way where a results diagram will be shown but the results will not automatically be returned in JavaScript. The second way is in silent mode where the results are returned, but results graphs are not shown in the model interface.<a href="#fnref27">↩</a></p></li>
<li id="fn28"><p>The specification for this feature provides that any type of JavaScript object should be supported, however a number of recent browsers only support strings.<a href="#fnref28">↩</a></p></li>
<li id="fn29"><p>System Dynamics also has another standard tool for dealing with heterogeneity. This tool is called “arrays” or “indexing” and allows you to transparently create multiple copies of your model during simulation to match different classes. Arrays are not as flexible as fully Agent Based Models though. If you consider the continuum of fully aggregate System Dynamics models on one end to fully individualized Agent Based Models on the other, we can think of arrays as existing part way along this continuum.<a href="#fnref29">↩</a></p></li>
<li id="fn30"><p>In other programing languages and modeling environments vectors are sometimes called “Arrays” or “Lists”.<a href="#fnref30">↩</a></p></li>
<li id="fn31"><p>Using an equation like <span class='equation'>Value(FindAll([Population]), [Height])</span>. We’ll see later how to construct equations like this.<a href="#fnref31">↩</a></p></li>
<li id="fn32"><p>The agents certainly contain many numerical values in their stocks, variables, or states; but an agent reference itself is not numerical and so you cannot do things such as directly taking the average of the agents or sorting them.<a href="#fnref32">↩</a></p></li>
<li id="fn33"><p>What we are implementing here is known as a “random walk” or Brownian motion. It is a commonly studied pattern of movement with wide applications in science.<a href="#fnref33">↩</a></p></li>
</ol>
</div>
</body>
</html>
