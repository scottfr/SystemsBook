<mxGraphModel><root><mxCell id=\"0\"/><mxCell id=\"1\" parent=\"0\"/><Setting unfolding=\"{&quot;children&quot;:[{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;States can be used to represent a person's condition. In our model a person can either be healthy, infected, or recovered from the infection. Now, let's add transitions that move a person from state to state.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nMath.seedrandom(1);\n\ngraph.fit(5);\n\n\n\nvar newPrimitive = createPrimitive('Healthy', 'State', [470, 120], [100, 40]);\n\ngraph.fit(5);\n\n\n\nvar newPrimitive = createPrimitive('Infected', 'State', [470, 240], [100, 40]);\n\ngraph.fit(5);\n\n\n\nvar newPrimitive = createPrimitive('Recovered', 'State', [470, 360], [100, 40]);\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;Please note that in this model someone who is recovered cannot become sick again. They have gained immunity to the disease. &quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nvar cell =createConnector('Infection', 'Transition', findName('Healthy'), findName('Infected'));\nvar geo = new mxGeometry(0, 0, 100, 100);\ngraph.model.execute(new mxGeometryChange(graph.model, cell, geo));\n\ngraph.fit(5);\n\n\n\nvar cell =createConnector('Recovery', 'Transition', findName('Infected'), findName('Recovered'));\nvar geo = new mxGeometry(0, 0, 100, 100);\ngraph.model.execute(new mxGeometryChange(graph.model, cell, geo));\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;Now that the model structure has been designed, let's add equations and configure the primitives.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;graph.fit(5);&quot;,&quot;text&quot;:&quot;Refit model&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;When a state is active, it means a person is in that state. By setting &lt;span class='primitive'&gt;Healthy&lt;/span&gt; to start active, we have the person start in the healthy state.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nfindName('Healthy').setAttribute('Active', 'True');\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;Using the Probability type for the transition trigger means that the person has a fixed probability of transitioning from one state to the next each year. We will assume a 30% probability of the person becoming sick each year and once sick, a 20% chance of recovering each year.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nfindName('Infection').setAttribute('Trigger', 'Probability');\n\ngraph.fit(5);\n\n\n\nfindName('Infection').setAttribute('Value', '0.3');\n\ngraph.fit(5);\n\n\n\nfindName('Recovery').setAttribute('Trigger', 'Probability');\n\ngraph.fit(5);\n\n\n\nfindName('Recovery').setAttribute('Value', '0.2');\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;Let's run the model now.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;graph.fit(5);&quot;,&quot;text&quot;:&quot;Refit model&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;A value of 1 for a state primitive means it is active. A value of 0 means it is not active. We can see from this diagram when the individual transitions from the healthy to the infected state and then from the infected state to the recovered state.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nrunModel();\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;If we run the model again we will see that we get different results each time. This is because the model is stochastic and the transition triggers are random.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;graph.fit(5);&quot;,&quot;text&quot;:&quot;Refit model&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nrunModel();\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;}],&quot;text&quot;:&quot;Root Node&quot;}\" unfoldingStatus=\"on\" unfoldingAuto=\"always\" Note=\"\" Version=\"28\" TimeLength=\"20\" TimeStart=\"0\" TimeStep=\"1\" TimeUnits=\"Years\" StrictUnits=\"true\" Units=\"\" HiddenUIGroups=\"Validation,User Interface\" SolutionAlgorithm=\"RK1\" BackgroundColor=\"white\" Throttle=\"1\" Macros=\"\" SensitivityPrimitives=\"\" SensitivityRuns=\"50\" SensitivityBounds=\"50, 80, 95, 100\" SensitivityShowRuns=\"false\" id=\"2\"><mxCell parent=\"1\" vertex=\"1\" visible=\"0\"><mxGeometry x=\"20\" y=\"20\" width=\"80\" height=\"40\" as=\"geometry\"/></mxCell></Setting><Display name=\"Default Display\" Note=\"\" Type=\"Time Series\" xAxis=\"Time (%u)\" yAxis=\"\" ThreeDimensional=\"false\" Primitives=\"\" AutoAddPrimitives=\"true\" ScatterplotOrder=\"X Primitive, Y Primitive\" Image=\"Display\" yAxis2=\"\" Primitives2=\"\" showMarkers=\"false\" showLines=\"true\" showArea=\"false\" legendPosition=\"Automatic\" id=\"3\"><mxCell style=\"roundImage;image=/builder/images/DisplayFull.png;\" parent=\"1\" vertex=\"1\" visible=\"0\"> <mxGeometry x=\"50\" y=\"20\" width=\"64\" height=\"64\" as=\"geometry\"/></mxCell></Display></root></mxGraphModel>