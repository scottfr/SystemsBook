<mxGraphModel><root><mxCell id="0"/><mxCell id="1" parent="0"/><Setting unfolding="{&quot;children&quot;:[{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;We've add a variable to check whether Red is at Grandma's or not, and if she is the simulation should stop.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nvar doc = mxUtils.parseXml(\\\&quot;&lt;mxGraphModel&gt;\n  &lt;root&gt;\n    &lt;mxCell id=\\\\\\\&quot;0\\\\\\\&quot;/&gt;\n    &lt;mxCell id=\\\\\\\&quot;1\\\\\\\&quot; parent=\\\\\\\&quot;0\\\\\\\&quot;/&gt;\n    &lt;Setting Note=\\\\\\\&quot;\\\\\\\&quot; Version=\\\\\\\&quot;28\\\\\\\&quot; TimeLength=\\\\\\\&quot;5\\\\\\\&quot; TimeStart=\\\\\\\&quot;0\\\\\\\&quot; TimeStep=\\\\\\\&quot;0.25\\\\\\\&quot; TimeUnits=\\\\\\\&quot;Hours\\\\\\\&quot; StrictUnits=\\\\\\\&quot;true\\\\\\\&quot; Units=\\\\\\\&quot;\\\\\\\&quot; HiddenUIGroups=\\\\\\\&quot;Validation,User Interface\\\\\\\&quot; SolutionAlgorithm=\\\\\\\&quot;RK1\\\\\\\&quot; BackgroundColor=\\\\\\\&quot;white\\\\\\\&quot; Throttle=\\\\\\\&quot;-1\\\\\\\&quot; Macros=\\\\\\\&quot;\\\\\\\&quot; SensitivityPrimitives=\\\\\\\&quot;\\\\\\\&quot; SensitivityRuns=\\\\\\\&quot;50\\\\\\\&quot; SensitivityBounds=\\\\\\\&quot;50, 80, 95, 100\\\\\\\&quot; SensitivityShowRuns=\\\\\\\&quot;false\\\\\\\&quot; id=\\\\\\\&quot;2\\\\\\\&quot;&gt;\n      &lt;mxCell parent=\\\\\\\&quot;1\\\\\\\&quot; vertex=\\\\\\\&quot;1\\\\\\\&quot; visible=\\\\\\\&quot;0\\\\\\\&quot;&gt;\n        &lt;mxGeometry x=\\\\\\\&quot;20\\\\\\\&quot; y=\\\\\\\&quot;20\\\\\\\&quot; width=\\\\\\\&quot;80\\\\\\\&quot; height=\\\\\\\&quot;40\\\\\\\&quot; as=\\\\\\\&quot;geometry\\\\\\\&quot;/&gt;\n      &lt;/mxCell&gt;\n    &lt;/Setting&gt;\n    &lt;Display name=\\\\\\\&quot;Default Display\\\\\\\&quot; Note=\\\\\\\&quot;\\\\\\\&quot; Type=\\\\\\\&quot;Time Series\\\\\\\&quot; xAxis=\\\\\\\&quot;Time (%u)\\\\\\\&quot; yAxis=\\\\\\\&quot;Miles\\\\\\\&quot; ThreeDimensional=\\\\\\\&quot;false\\\\\\\&quot; Primitives=\\\\\\\&quot;42,43\\\\\\\&quot; AutoAddPrimitives=\\\\\\\&quot;true\\\\\\\&quot; ScatterplotOrder=\\\\\\\&quot;X Primitive, Y Primitive\\\\\\\&quot; Image=\\\\\\\&quot;Display\\\\\\\&quot; yAxis2=\\\\\\\&quot;\\\\\\\&quot; Primitives2=\\\\\\\&quot;\\\\\\\&quot; showMarkers=\\\\\\\&quot;false\\\\\\\&quot; showLines=\\\\\\\&quot;true\\\\\\\&quot; showArea=\\\\\\\&quot;false\\\\\\\&quot; legendPosition=\\\\\\\&quot;Automatic\\\\\\\&quot; id=\\\\\\\&quot;3\\\\\\\&quot;&gt;\n      &lt;mxCell style=\\\\\\\&quot;roundImage;image=/builder/images/DisplayFull.png;\\\\\\\&quot; parent=\\\\\\\&quot;1\\\\\\\&quot; vertex=\\\\\\\&quot;1\\\\\\\&quot; visible=\\\\\\\&quot;0\\\\\\\&quot;&gt;\n        &lt;mxGeometry x=\\\\\\\&quot;50\\\\\\\&quot; y=\\\\\\\&quot;20\\\\\\\&quot; width=\\\\\\\&quot;64\\\\\\\&quot; height=\\\\\\\&quot;64\\\\\\\&quot; as=\\\\\\\&quot;geometry\\\\\\\&quot;/&gt;\n      &lt;/mxCell&gt;\n    &lt;/Display&gt;\n    &lt;Display name=\\\\\\\&quot;Tabular Display\\\\\\\&quot; Note=\\\\\\\&quot;\\\\\\\&quot; Type=\\\\\\\&quot;Tabular\\\\\\\&quot; xAxis=\\\\\\\&quot;Time (%u)\\\\\\\&quot; yAxis=\\\\\\\&quot;Gallons\\\\\\\&quot; yAxis2=\\\\\\\&quot;\\\\\\\&quot; showMarkers=\\\\\\\&quot;false\\\\\\\&quot; showLines=\\\\\\\&quot;true\\\\\\\&quot; showArea=\\\\\\\&quot;false\\\\\\\&quot; ThreeDimensional=\\\\\\\&quot;false\\\\\\\&quot; Primitives=\\\\\\\&quot;42\\\\\\\&quot; Primitives2=\\\\\\\&quot;\\\\\\\&quot; AutoAddPrimitives=\\\\\\\&quot;false\\\\\\\&quot; ScatterplotOrder=\\\\\\\&quot;X Primitive, Y Primitive\\\\\\\&quot; Image=\\\\\\\&quot;Display\\\\\\\&quot; FlipHorizontal=\\\\\\\&quot;false\\\\\\\&quot; FlipVertical=\\\\\\\&quot;false\\\\\\\&quot; LabelPosition=\\\\\\\&quot;Bottom\\\\\\\&quot; legendPosition=\\\\\\\&quot;Automatic\\\\\\\&quot; id=\\\\\\\&quot;29\\\\\\\&quot;&gt;\n      &lt;mxCell style=\\\\\\\&quot;display\\\\\\\&quot; parent=\\\\\\\&quot;1\\\\\\\&quot; vertex=\\\\\\\&quot;1\\\\\\\&quot; visible=\\\\\\\&quot;0\\\\\\\&quot;&gt;\n        &lt;mxGeometry x=\\\\\\\&quot;10\\\\\\\&quot; y=\\\\\\\&quot;10\\\\\\\&quot; width=\\\\\\\&quot;64\\\\\\\&quot; height=\\\\\\\&quot;64\\\\\\\&quot; as=\\\\\\\&quot;geometry\\\\\\\&quot;/&gt;\n      &lt;/mxCell&gt;\n    &lt;/Display&gt;\n    &lt;Stock name=\\\\\\\&quot;Distance to Grandmas House\\\\\\\&quot; Note=\\\\\\\&quot;The stock is the distance to Grandma&amp;#39;s house.\\\\\\\&quot; InitialValue=\\\\\\\&quot;4.5\\\\\\\&quot; StockMode=\\\\\\\&quot;Store\\\\\\\&quot; Delay=\\\\\\\&quot;10\\\\\\\&quot; Volume=\\\\\\\&quot;100\\\\\\\&quot; NonNegative=\\\\\\\&quot;false\\\\\\\&quot; Units=\\\\\\\&quot;miles\\\\\\\&quot; MaxConstraintUsed=\\\\\\\&quot;false\\\\\\\&quot; MinConstraintUsed=\\\\\\\&quot;false\\\\\\\&quot; MaxConstraint=\\\\\\\&quot;100\\\\\\\&quot; MinConstraint=\\\\\\\&quot;0\\\\\\\&quot; ShowSlider=\\\\\\\&quot;true\\\\\\\&quot; SliderMax=\\\\\\\&quot;10\\\\\\\&quot; SliderMin=\\\\\\\&quot;0\\\\\\\&quot; Image=\\\\\\\&quot;None\\\\\\\&quot; FlipHorizontal=\\\\\\\&quot;false\\\\\\\&quot; FlipVertical=\\\\\\\&quot;false\\\\\\\&quot; LabelPosition=\\\\\\\&quot;Middle\\\\\\\&quot; SliderStep=\\\\\\\&quot;0.5\\\\\\\&quot; id=\\\\\\\&quot;42\\\\\\\&quot;&gt;\n      &lt;mxCell style=\\\\\\\&quot;stock\\\\\\\&quot; parent=\\\\\\\&quot;1\\\\\\\&quot; vertex=\\\\\\\&quot;1\\\\\\\&quot;&gt;\n        &lt;mxGeometry x=\\\\\\\&quot;190\\\\\\\&quot; y=\\\\\\\&quot;50.445834827406884\\\\\\\&quot; width=\\\\\\\&quot;117.5\\\\\\\&quot; height=\\\\\\\&quot;44.554165172593116\\\\\\\&quot; as=\\\\\\\&quot;geometry\\\\\\\&quot;/&gt;\n      &lt;/mxCell&gt;\n    &lt;/Stock&gt;\n    &lt;Flow name=\\\\\\\&quot;Walk\\\\\\\&quot; Note=\\\\\\\&quot;The flow is how fast Red is walking toward Grandma&amp;#39;s house.\\\\\\\&quot; FlowRate=\\\\\\\&quot;2\\\\\\\&quot; OnlyPositive=\\\\\\\&quot;true\\\\\\\&quot; TimeIndependent=\\\\\\\&quot;false\\\\\\\&quot; Units=\\\\\\\&quot;miles/hour\\\\\\\&quot; MaxConstraintUsed=\\\\\\\&quot;false\\\\\\\&quot; MinConstraintUsed=\\\\\\\&quot;false\\\\\\\&quot; MaxConstraint=\\\\\\\&quot;100\\\\\\\&quot; MinConstraint=\\\\\\\&quot;0\\\\\\\&quot; ShowSlider=\\\\\\\&quot;true\\\\\\\&quot; SliderMax=\\\\\\\&quot;5\\\\\\\&quot; SliderMin=\\\\\\\&quot;0\\\\\\\&quot; SliderStep=\\\\\\\&quot;0.1\\\\\\\&quot; id=\\\\\\\&quot;43\\\\\\\&quot;&gt;\n      &lt;mxCell style=\\\\\\\&quot;flow\\\\\\\&quot; parent=\\\\\\\&quot;1\\\\\\\&quot; source=\\\\\\\&quot;42\\\\\\\&quot; edge=\\\\\\\&quot;1\\\\\\\&quot;&gt;\n        &lt;mxGeometry x=\\\\\\\&quot;-190\\\\\\\&quot; y=\\\\\\\&quot;-89.55416517259312\\\\\\\&quot; width=\\\\\\\&quot;100\\\\\\\&quot; height=\\\\\\\&quot;100\\\\\\\&quot; as=\\\\\\\&quot;geometry\\\\\\\&quot;&gt;\n          &lt;mxPoint x=\\\\\\\&quot;-190\\\\\\\&quot; y=\\\\\\\&quot;10.445834827406884\\\\\\\&quot; as=\\\\\\\&quot;sourcePoint\\\\\\\&quot;/&gt;\n          &lt;mxPoint x=\\\\\\\&quot;507.5\\\\\\\&quot; y=\\\\\\\&quot;85\\\\\\\&quot; as=\\\\\\\&quot;targetPoint\\\\\\\&quot;/&gt;\n        &lt;/mxGeometry&gt;\n      &lt;/mxCell&gt;\n    &lt;/Flow&gt;\n  &lt;/root&gt;\n&lt;/mxGraphModel&gt;\n\\\&quot;); var dec = new mxCodec(doc); dec.decode(doc.documentElement, graph.getModel());\n\ngraph.fit(5);\n\n\n\nvar newPrimitive = createPrimitive('Stop at Grandmas', 'Variable', [390, 170], [120, 50]);\n\ngraph.fit(5);\n\n\n\nvar cell =createConnector('Link', 'Link', findName('Distance to Grandmas House'), findName('Stop at Grandmas'));\nvar geo = new mxGeometry(0, 0, 100, 100);\ngraph.model.execute(new mxGeometryChange(graph.model, cell, geo));\n\ngraph.fit(5);\n\n\n\nfindName('Stop at Grandmas').setAttribute('Equation', 'IfThenElse([Distance to Grandmas House] &lt; {0 miles}, STOP, 0)');\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;&lt;b&gt;IfThenElse(&lt;span class='primitive'&gt;Distance to Grandmas House&lt;/span&gt; &amp;lt; {0 miles}, STOP, 0)&lt;/b&gt;&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;graph.fit(5);&quot;,&quot;text&quot;:&quot;Refit model&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;},{&quot;children&quot;:[{&quot;type&quot;:&quot;note&quot;,&quot;data&quot;:&quot;With Time Step = 0.25 and the test you can see that Red stops at Grandma's House after 2.25 hours of walking.&quot;,&quot;text&quot;:&quot;Show Message&quot;,&quot;leaf&quot;:true},{&quot;type&quot;:&quot;action&quot;,&quot;data&quot;:&quot;\n\nrunModel();\n\ngraph.fit(5);\n\n&quot;,&quot;text&quot;:&quot;Run Action&quot;,&quot;leaf&quot;:true}],&quot;type&quot;:&quot;group&quot;,&quot;text&quot;:&quot;New Group&quot;}],&quot;text&quot;:&quot;Root Node&quot;}" unfoldingStatus="on" unfoldingAuto="always" Note="" Version="28" TimeLength="20" TimeStart="0" TimeStep="1" TimeUnits="Years" StrictUnits="true" Units="" HiddenUIGroups="Validation,User Interface" SolutionAlgorithm="RK1" BackgroundColor="white" Throttle="1" Macros="" SensitivityPrimitives="" SensitivityRuns="50" SensitivityBounds="50, 80, 95, 100" SensitivityShowRuns="false" id="2"><mxCell parent="1" vertex="1" visible="0"><mxGeometry x="20" y="20" width="80" height="40" as="geometry"/></mxCell></Setting><Display name="Default Display" Note="" Type="Time Series" xAxis="Time (%u)" yAxis="" ThreeDimensional="false" Primitives="" AutoAddPrimitives="true" ScatterplotOrder="X Primitive, Y Primitive" Image="Display" yAxis2="" Primitives2="" showMarkers="false" showLines="true" showArea="false" legendPosition="Automatic" id="3"><mxCell style="roundImage;image=/builder/images/DisplayFull.png;" parent="1" vertex="1" visible="0"> <mxGeometry x="50" y="20" width="64" height="64" as="geometry"/></mxCell></Display></root></mxGraphModel>