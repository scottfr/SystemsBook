[{"title": "Optimizing Parameter Values", "description": "This model illustrates the use of optimization and historical data to select the growth rate for a simulated population of hamsters."},{"geometry":{"x":270,"y":150,"width":120,"height":50},"name":"Historical Hamsters","create":"Converter"},{"attribute":"Data","target":"Historical Hamsters","value":"0, 22; 2, 49; 4, 40; 6, 61; 8, 100; 10, 104; 12, 153; 14, 243; 16, 236; 18, 370; 20, 560"},"DIAGRAM","We start by importing our historical population data into a converter primitive. In this illustrative example we have twenty years of data with a census of the hamster population being carried out every two years. We run the model to see what this historical data looks like.","RESULTS","There is a lot of variability and the population even declines some years. However, it looks like in general the rate of growth increases as the population size increases. This is what we would expect to see with exponential growth. Let's build a simple exponential growth model to attempt to replicate what we see with the historical data.",{"geometry":{"x":480,"y":260,"width":100,"height":40},"name":"Hamsters","create":"Stock"},{"geometry":{"x":0,"y":0,"width":100,"height":100,"sourcePoint":{"x":530,"y":120},"targetPoint":{"x":0,"y":100}},"alpha":null,"omega":"Hamsters","name":"Net Population Growth","create":"Flow"},{"geometry":{"x":620,"y":105,"width":120,"height":50},"name":"Net Growth Rate","create":"Variable"},{"geometry":{"x":0,"y":0,"width":100,"height":100},"alpha":"Net Growth Rate","omega":"Net Population Growth","create":"Link"},{"geometry":{"x":0,"y":0,"width":100,"height":100},"alpha":"Historical Hamsters","omega":"Hamsters","create":"Link"},"DIAGRAM","That's the structure of our model. Now we can fill in the equations. We'll set the initial population size for our simulated hamster population to be the same as for the historical data.",{"attribute":"InitialValue","target":"Hamsters","value":"[Historical Hamsters]"},{"attribute":"FlowRate","target":"Net Population Growth","value":"[Hamsters]*[Net Growth Rate]"},"What growth rate should we begin with? We do not have any data on this. Let's experiment by starting with 10% per year and see what we end up.",{"attribute":"Equation","target":"Net Growth Rate","value":"0.1"},{"attribute":"Primitives","target":"DISPLAY","value":["Hamsters", "Historical Hamsters"]},"RESULTS","That does not look too great. Our simulated population is much smaller than the historical values. Let's try a larger growth rate, say 30%.",{"attribute":"Equation","target":"Net Growth Rate","value":"0.3"},"RESULTS","That's not good either, now our population is too large! We could keep experimenting with different growth rates to find a good one, but that might take a while. Let's just let the optimizer do the work for us. First we need to create a primitive to hold the error. We will use the squared error measure we discussed earlier.",{"geometry":{"x":330,"y":330,"width":120,"height":50},"name":"Squared Error","create":"Variable"},{"geometry":{"x":0,"y":0,"width":100,"height":100},"alpha":"Hamsters","omega":"Squared Error","create":"Link"},{"geometry":{"x":0,"y":0,"width":100,"height":100},"alpha":"Historical Hamsters","omega":"Squared Error","create":"Link"},{"attribute":"Equation","target":"Squared Error","value":"([Hamsters]-[Historical Hamsters])^2"},"DIAGRAM","There, we have set up what we need for the optimizer to work. Now we can run the optimizer. We set the *Goal Primitive* to [Squared Error] and the *Primitive to Change* to [Net Growth Rate]. We tell the optimizer to minimize the integral of the error and set the optimizer to work.","The optimizer gets our results almost instantly: 0.172 or 17.2% is the optimal growth rate. When we run the model with this value the results look great. It's an almost perfect match between the historical and simulated data.",{"attribute":"Equation","target":"Net Growth Rate","value":"0.172"},{"attribute":"Primitives","target":"DISPLAY","value":["Hamsters", "Historical Hamsters"]},"RESULTS"]