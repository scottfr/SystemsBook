<mxGraphModel>n  <root>n    <mxCell id="0"/>n    <mxCell id="1" parent="0"/>n    <Folder name="Person" Note="" Type="Agent" Image="None" FlipHorizontal="false" FlipVertical="false" LabelPosition="Middle" id="11">n      <mxCell style="folder;image=None;shape=rectangle" parent="1" vertex="1">n        <mxGeometry x="520" y="190" width="360" height="350" as="geometry"/>n      </mxCell>n    </Folder>n    <State name="Infected" Note="" Active="not [Susceptible]" Image="None" FlipHorizontal="false" FlipVertical="false" LabelPosition="Middle" id="4">n      <mxCell style="state;strokeColor=#FF0000;opacity=100;textOpacity=100" parent="11" vertex="1">n        <mxGeometry x="20" y="165" width="120" height="40" as="geometry"/>n      </mxCell>n    </State>n    <State name="Susceptible" Note="" Active="true" Image="None" FlipHorizontal="false" FlipVertical="false" LabelPosition="Middle" id="6">n      <mxCell style="state;fillColor=#FFFFFF;strokeColor=#FFFF00" parent="11" vertex="1">n        <mxGeometry x="20" y="35" width="120" height="40" as="geometry"/>n      </mxCell>n    </State>n    <State name="Recovered" Note="" Active="false" Image="None" FlipHorizontal="false" FlipVertical="false" LabelPosition="Middle" id="7">n      <mxCell style="state;strokeColor=#008000" parent="11" vertex="1">n        <mxGeometry x="20" y="290" width="120" height="40" as="geometry"/>n      </mxCell>n    </State>n    <Transition name="Recovery" Note="The probability of recovering per time period." Trigger="Probability" Value="0.133" Units="Unitless" MaxConstraintUsed="false" MinConstraintUsed="false" MaxConstraint="1" MinConstraint="0" ShowSlider="true" SliderMax="1" SliderMin="0" id="9">n      <mxCell style="transition" parent="11" source="4" target="7" edge="1">n        <mxGeometry x="-390" y="-120" width="100" height="100" as="geometry">n          <mxPoint x="-390" y="-20" as="sourcePoint"/>n          <mxPoint x="-290" y="-120" as="targetPoint"/>n        </mxGeometry>n      </mxCell>n    </Transition>n    <Transition name="Immunity Loss" Note="The probability of losing immunity per time period." Trigger="Probability" Value=".02" Units="Unitless" MaxConstraintUsed="false" MinConstraintUsed="false" MaxConstraint="100" MinConstraint="0" ShowSlider="true" SliderMax="100" SliderMin="0" id="10">n      <mxCell style="transition" parent="11" source="7" target="6" edge="1">n        <mxGeometry x="-390" y="-120" width="100" height="100" as="geometry">n          <mxPoint x="-390" y="-20" as="sourcePoint"/>n          <mxPoint x="-290" y="-120" as="targetPoint"/>n          <Array as="points">n            <mxPoint x="210" y="160"/>n          </Array>n          <mxPoint x="65" y="5" as="offset"/>n        </mxGeometry>n      </mxCell>n    </Transition>n    <Link name="Link" Note="" BiDirectional="false" id="24">n      <mxCell style="link" parent="11" source="6" target="4" edge="1">n        <mxGeometry width="100" height="100" as="geometry">n          <mxPoint y="100" as="sourcePoint"/>n          <mxPoint x="100" as="targetPoint"/>n          <Array as="points"/>n        </mxGeometry>n      </mxCell>n    </Link>n    <Transition name="Exogenous" Note="" Trigger="Condition" Value="index([Self])=1 and Years=5" Units="Unitless" MaxConstraintUsed="false" MinConstraintUsed="false" MaxConstraint="100" MinConstraint="0" ShowSlider="false" SliderMax="100" SliderMin="0" id="25">n      <mxCell style="transition" parent="11" source="6" target="4" edge="1">n        <mxGeometry width="100" height="100" as="geometry">n          <mxPoint y="100" as="sourcePoint"/>n          <mxPoint x="100" as="targetPoint"/>n          <Array as="points">n            <mxPoint x="130" y="135"/>n          </Array>n        </mxGeometry>n      </mxCell>n    </Transition>n    <Transition name="Transmit" Note="" Trigger="Probability" Value="infectors &lt;- FindNearby(FindState([Population], [Infected]), [Self], 25)\n\nprobInfect &lt;- Map(infectors, 1/(distance(x,[Self]))^.75)\n\n1-Product(Join(1, 1 - probInfect ))" Units="Unitless" MaxConstraintUsed="false" MinConstraintUsed="false" MaxConstraint="100" MinConstraint="0" ShowSlider="false" SliderMax="100" SliderMin="0" id="8">n      <mxCell style="transition" parent="11" source="6" target="4" edge="1">n        <mxGeometry x="-390" y="-120" width="100" height="100" as="geometry">n          <mxPoint x="-390" y="-20" as="sourcePoint"/>n          <mxPoint x="-290" y="-120" as="targetPoint"/>n          <Array as="points">n            <mxPoint x="40" y="115"/>n          </Array>n        </mxGeometry>n      </mxCell>n    </Transition>n    <Link name="Link" Note="" BiDirectional="false" id="32">n      <mxCell style="link" parent="11" source="6" target="42" edge="1">n        <mxGeometry width="100" height="100" as="geometry">n          <mxPoint y="100" as="sourcePoint"/>n          <mxPoint x="100" as="targetPoint"/>n        </mxGeometry>n      </mxCell>n    </Link>n    <Action name="Flight" Note="" Trigger="Condition" Value="[Susceptible] &amp;&amp; Count(FindState([Population], [Infected])) &gt; 0" Action="moveTowards([Self], FindNearest(FindState([Population], [Infected]), [Self]), -.5)" id="42">n      <mxCell style="action" parent="11" vertex="1">n        <mxGeometry x="220" y="20" width="120" height="50" as="geometry"/>n      </mxCell>n    </Action>n    <Setting Note="" Version="28" TimeLength="50" TimeStart="0" TimeStep="1" TimeUnits="Years" Units="" HiddenUIGroups="Validation,User Interface" SolutionAlgorithm="RK1" BackgroundColor="#FFFFFF" Throttle="0.5" Macros="" SensitivityPrimitives="38" SensitivityRuns="50" SensitivityBounds="50, 80, 95, 100" SensitivityShowRuns="false" id="2">n      <mxCell parent="1" vertex="1" visible="0">n        <mxGeometry x="20" y="20" width="80" height="40" as="geometry"/>n      </mxCell>n    </Setting>n    <Agents name="Population" Note="" Size="100" GeoWidth="200" GeoHeight="100" Placement="Random" PlacementFunction="&lt;&lt;index([Self])*10,index([Self])*20&gt;&gt;" Network="None" NetworkFunction="randBoolean(0.06)" Agent="11" Image="None" FlipHorizontal="false" FlipVertical="false" LabelPosition="Middle" GeoDimUnits="Unitless" GeoWrap="false" id="27">n      <mxCell style="agents" parent="1" vertex="1">n        <mxGeometry x="315" y="155" width="170" height="90" as="geometry"/>n      </mxCell>n    </Agents>n    <Display name="Overview" Note="" Type="Map" xAxis="" yAxis="" yAxis2="" showMarkers="true" showLines="false" showArea="true" ThreeDimensional="false" Primitives="27" Primitives2="" AutoAddPrimitives="false" ScatterplotOrder="X Primitive, Y Primitive" Image="Display" FlipHorizontal="false" FlipVertical="false" LabelPosition="Bottom" legendPosition="Automatic" id="29">n      <mxCell style="display" parent="1" vertex="1" visible="0">n        <mxGeometry x="10" y="10" width="64" height="64" as="geometry"/>n      </mxCell>n    </Display>n    <Link name="Link" Note="" BiDirectional="false" id="30">n      <mxCell style="link" parent="1" source="27" target="8" edge="1">n        <mxGeometry x="140" y="40" width="100" height="100" as="geometry">n          <mxPoint x="140" y="140" as="sourcePoint"/>n          <mxPoint x="240" y="40" as="targetPoint"/>n        </mxGeometry>n      </mxCell>n    </Link>n    <Link name="Link" Note="" BiDirectional="false" id="33">n      <mxCell style="link" parent="1" source="27" target="42" edge="1">n        <mxGeometry x="140" y="40" width="100" height="100" as="geometry">n          <mxPoint x="360" y="230" as="sourcePoint"/>n          <mxPoint x="240" y="40" as="targetPoint"/>n          <Array as="points"/>n        </mxGeometry>n      </mxCell>n    </Link>n    <Display name="Time Series" Note="" Type="Time Series" xAxis="Time (%u)" yAxis="" yAxis2="" showMarkers="false" showLines="true" showArea="true" ThreeDimensional="false" Primitives="27" Primitives2="" AutoAddPrimitives="false" ScatterplotOrder="X Primitive, Y Primitive" Image="Display" FlipHorizontal="false" FlipVertical="false" LabelPosition="Bottom" legendPosition="Automatic" id="37">n      <mxCell style="display" parent="1" vertex="1" visible="0">n        <mxGeometry x="10" y="10" width="64" height="64" as="geometry"/>n      </mxCell>n    </Display>n    <Variable name="Percent Infected" Note="" Equation="Count(FindState([Population], [Infected]))/Count(FindAll([Population]))*100" Units="Unitless" MaxConstraintUsed="false" MinConstraintUsed="false" MaxConstraint="100" MinConstraint="0" ShowSlider="false" SliderMax="100" SliderMin="0" Image="None" FlipHorizontal="false" FlipVertical="false" LabelPosition="Middle" id="38">n      <mxCell style="variable" parent="1" vertex="1">n        <mxGeometry x="310" y="290" width="130" height="55" as="geometry"/>n      </mxCell>n    </Variable>n    <Link name="Link" Note="" BiDirectional="false" id="39">n      <mxCell style="link" parent="1" source="27" target="38" edge="1">n        <mxGeometry x="140" y="40" width="100" height="100" as="geometry">n          <mxPoint x="140" y="140" as="sourcePoint"/>n          <mxPoint x="240" y="40" as="targetPoint"/>n        </mxGeometry>n      </mxCell>n    </Link>n    <Link name="Link" Note="" BiDirectional="false" id="43">n      <mxCell style="link" parent="1" source="11" target="27" edge="1">n        <mxGeometry x="140" y="40" width="100" height="100" as="geometry">n          <mxPoint x="140" y="140" as="sourcePoint"/>n          <mxPoint x="240" y="40" as="targetPoint"/>n        </mxGeometry>n      </mxCell>n    </Link>n    <Text name="A Spatially Aware Disease Model" LabelPosition="Middle" id="44">n      <mxCell style="text" parent="1" vertex="1">n        <mxGeometry x="360" y="10" width="480" height="50" as="geometry"/>n      </mxCell>n    </Text>n  </root>n</mxGraphModel>n